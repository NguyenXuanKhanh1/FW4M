{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-fw4c/lib/components/shared/validation/validation.model.ts","ng://ngx-fw4c/lib/components/shared/enums/base.enum.ts","ng://ngx-fw4c/lib/components/shared/models/base.model.ts","ng://ngx-fw4c/lib/components/shared/services/data.service.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.provider.ts","ng://ngx-fw4c/lib/components/shared/services/cache.service.ts","ng://ngx-fw4c/lib/components/shared/services/setting.service.ts","ng://ngx-fw4c/lib/components/shared/services/action.service.ts","ng://ngx-fw4c/lib/components/shared/services/aggregator.service.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.service.ts","ng://ngx-fw4c/lib/components/shared/validation/validation.module.ts","ng://ngx-fw4c/lib/components/shared/models/setting.model.ts","ng://ngx-fw4c/lib/components/shared/models/notification.model.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.model.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.const.ts","ng://ngx-fw4c/lib/components/shared/modals/components/notification/notification.component.ts","ng://ngx-fw4c/lib/components/shared/modals/components/confirm/confirm.component.ts","ng://ngx-fw4c/lib/components/shared/services/mock.service.ts","ng://ngx-fw4c/lib/components/shared/services/menu.service.ts","ng://ngx-fw4c/lib/components/shared/services/utils.service.ts","ng://ngx-fw4c/lib/components/shared/services/base-notification.service.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.component.ts","ng://ngx-fw4c/lib/components/shared/modals/components/template/template.component.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.service.ts","ng://ngx-fw4c/lib/components/shared/modals/components/loading/loading.component.ts","ng://ngx-fw4c/lib/components/shared/loader/html.pipe.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.module.ts","ng://ngx-fw4c/lib/components/shared/button/button/button.component.ts","ng://ngx-fw4c/lib/components/shared/button/dropdown-buttons/dropdown-button.component.ts","ng://ngx-fw4c/lib/components/shared/button/dropdown-buttons/dropdown-buttons.component.ts","ng://ngx-fw4c/lib/components/shared/button/button.module.ts","ng://ngx-fw4c/lib/components/shared/modals/modal.module.ts","ng://ngx-fw4c/lib/components/auth/auth.model.ts","ng://ngx-fw4c/lib/components/auth/auth.const.ts","ng://ngx-fw4c/lib/components/shared/constants/key.const.ts","ng://ngx-fw4c/lib/components/auth/auth.service.ts","ng://ngx-fw4c/lib/components/shared/triggers/animation.trigger.ts","ng://ngx-fw4c/lib/components/auth/auth.component.ts","ng://ngx-fw4c/lib/components/shared/form/form-director-extra-item.directive.ts","ng://ngx-fw4c/lib/components/shared/form/form-director.component.ts","ng://ngx-fw4c/lib/components/shared/form/form-item.directive.ts","ng://ngx-fw4c/lib/components/shared/form/form.component.ts","ng://ngx-fw4c/lib/components/shared/form/form.module.ts","ng://ngx-fw4c/lib/components/shared/textbox/textbox.component.ts","ng://ngx-fw4c/lib/components/shared/textbox/textbox.module.ts","ng://ngx-fw4c/lib/components/auth/auth.module.ts","ng://ngx-fw4c/lib/components/shared/tab/tab-item.component.ts","ng://ngx-fw4c/lib/components/shared/tab/tab.component.ts","ng://ngx-fw4c/lib/components/shared/tab/tab.module.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/daterange/daterange.component.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/datetime/datetime.component.ts","ng://ngx-fw4c/lib/components/shared/datetime-picker/datetime-picker.module.ts","ng://ngx-fw4c/lib/components/shared/file/file.model.ts","ng://ngx-fw4c/lib/components/shared/file/file.service.ts","ng://ngx-fw4c/lib/components/shared/file/file.const.ts","ng://ngx-fw4c/lib/components/shared/file/file.provider.ts","ng://ngx-fw4c/lib/components/shared/cropper/cropper.component.ts","ng://ngx-fw4c/lib/components/shared/file/file.component.ts","ng://ngx-fw4c/lib/components/shared/cropper/cropper.module.ts","ng://ngx-fw4c/lib/components/shared/file/file.module.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.adaptor.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.component.ts","ng://ngx-fw4c/lib/components/shared/editor/editor.module.ts","ng://ngx-fw4c/lib/components/shared/dropdown/dropdown.component.ts","ng://ngx-fw4c/lib/components/shared/dropdown/dropdown.module.ts","ng://ngx-fw4c/lib/components/shared/card/card.component.ts","ng://ngx-fw4c/lib/components/shared/card/card.module.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordion.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordionlink.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordionanchor.directive.ts","ng://ngx-fw4c/lib/components/shared/accordion/accordion.module.ts","ng://ngx-fw4c/lib/components/shared/formatter/currency.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/date.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/datetime.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/time.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/number.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/badge.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/safe.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/oembed-video.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/kb.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/file.pipe.ts","ng://ngx-fw4c/lib/components/shared/formatter/formatter.module.ts","ng://ngx-fw4c/lib/components/shared/constants/menu.const.ts","ng://ngx-fw4c/lib/components/layout/layout.service.ts","ng://ngx-fw4c/lib/components/layout/backsite-layout.component.ts","ng://ngx-fw4c/lib/components/layout/breadcrumbs.component.ts","ng://ngx-fw4c/lib/components/layout/customizer.component.ts","ng://ngx-fw4c/lib/components/layout/footer.component.ts","ng://ngx-fw4c/lib/components/layout/header.component.ts","ng://ngx-fw4c/lib/components/layout/navbar.component.ts","ng://ngx-fw4c/lib/components/layout/sidebar.component.ts","ng://ngx-fw4c/lib/components/shared/pages/404/404.component.ts","ng://ngx-fw4c/lib/components/shared/pages/403/403.component.ts","ng://ngx-fw4c/lib/components/shared/pages/400/400.component.ts","ng://ngx-fw4c/lib/components/shared/pages/page.module.ts","ng://ngx-fw4c/lib/components/shared/loader/loader.provider.ts","ng://ngx-fw4c/lib/components/shared/spinner/spinner.component.ts","ng://ngx-fw4c/lib/components/shared/spinner/spinner.module.ts","ng://ngx-fw4c/lib/components/shared/checkbox/checkbox.component.ts","ng://ngx-fw4c/lib/components/shared/checkbox/checkbox.module.ts","ng://ngx-fw4c/lib/components/shared/table/table-row-detail.directive.ts","ng://ngx-fw4c/lib/components/shared/table/table.model.ts","ng://ngx-fw4c/lib/components/shared/table/table.component.ts","ng://ngx-fw4c/lib/components/shared/table/table.module.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/full-media/full-media.component.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/media-viewer/media-viewer.component.ts","ng://ngx-fw4c/lib/components/shared/media-viewer/media-viewer.module.ts","ng://ngx-fw4c/lib/components/shared/image-viewer/image-viewer.component.ts","ng://ngx-fw4c/lib/components/shared/image-viewer/image-viewer.module.ts","ng://ngx-fw4c/lib/components/shared/viewer/gallery/gallery.component.ts","ng://ngx-fw4c/lib/components/shared/viewer/viewer.component.ts","ng://ngx-fw4c/lib/components/shared/viewer/viewer.module.ts","ng://ngx-fw4c/lib/components/shared/radio/radio-item/radio-item.component.ts","ng://ngx-fw4c/lib/components/shared/radio/radio.component.ts","ng://ngx-fw4c/lib/components/shared/radio/radio.module.ts","ng://ngx-fw4c/lib/components/shared/timeline/timeline.component.ts","ng://ngx-fw4c/lib/components/shared/timeline/timeline.module.ts","ng://ngx-fw4c/lib/components/shared/chip/chip.component.ts","ng://ngx-fw4c/lib/components/shared/chip/chip.module.ts","ng://ngx-fw4c/lib/components/shared/panel/panel-header.directive.ts","ng://ngx-fw4c/lib/components/shared/panel/panel.component.ts","ng://ngx-fw4c/lib/components/shared/panel/panel.module.ts","ng://ngx-fw4c/lib/components/shared/list/list-item.directive.ts","ng://ngx-fw4c/lib/components/shared/list/list.component.ts","ng://ngx-fw4c/lib/components/shared/list/list.module.ts","ng://ngx-fw4c/lib/components/shared/treeview/treeview.component.ts","ng://ngx-fw4c/lib/components/shared/treeview/treeview.module.ts","ng://ngx-fw4c/lib/components/layout/toolbar.component.ts","ng://ngx-fw4c/lib/components/layout/floating-toolbar.component.ts","ng://ngx-fw4c/lib/components/layout/recommendation/recommendation.component.ts","ng://ngx-fw4c/lib/components/layout/layout.module.ts","ng://ngx-fw4c/lib/fw4c.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__values","o","m","Symbol","iterator","next","value","done","__read","r","e","ar","push","error","__spread","concat","SummaryError","init","ValidationRuleResponse","overridenErrorMessage","errorMessage","RequiredValidationRule","_super","_this","key","ValidationConstant","Required","tslib_1.__extends","ValidationRule","EmailValidationRule","Email","PhoneValidationRule","Phone","CustomValidationRule","execute","required","isValid","Custom","rules","dirtyCheck","errorMessageClass","ErrorMessageClass","errorElementClass","ErrorElementClass","successElementClass","SuccessElementClass","ClientValidator","options","relatedValidationProviders","requiredMessage","invalidMessage","ChangedItem","change","ErrorMessage","DefaultErrorStyles","DefaultErrorClass","AttributeName","AttributeOptionName","AttributeDynamicName","ErrorTargetId","DynamicErrorAttribute","ERROR_ELEMENT_ID","ERROR_ITEM_ELEMENT_ID","VALIDATION_ID","ARRAY_SEQUENCE_ID","Save","Cancel","Back","SaveAll","EditColumnOptions","SaveAndNew","Reset","Update","Add","Delete","BaseRequest","MockData","SearchBaseRequest","BaseTemplate","AggregatorViewModel","ButtonDefinition","style","ToolbarActionPayload","ObjectChange","LookupItem","ExtendedMainMenuGroup","KeyValueItem","BreadCrumbItem","ControlType","Textbox","Dropdown","Button","MenuTab","MenuItem","Breadcrumb","MediaItem","Audit","TrackingGroup","TrackingDetail","RecommendationResponse","show","label","deboundTime","all","DataService","_sanitizer","cloneItem","item","response","fields","keys","forEach","field","cloneItems","items","id","newItem","newGuid","transformToSafeHtml","input","bypassSecurityTrustHtml","initDebounceTime","time","delegator","Subject","pipe","debounceTime","subscribe","action","removeHTML","str","replace","removeAllSpaces","replaceAt","substring","isValidEmail","email","test","convertUCode","c","indexOf","fuzzysearch","needle","haystack","haystackLC","toLowerCase","needleLC","hlen","nlen","outer","j","nch","Math","random","toString","isNullOrEmpty","obj","undefined","toPascalCase","text","lowerCase","toUpperCase","compareObjects","source","target","changes","sourceProperties","getOwnPropertyNames","targetProperties","addedProperties","filter","x","removedProperties","modifiedProperties","modifiedProperties_1","tslib_1.__values","modifiedProperties_1_1","property","_.isEqual","propertyName","changeType","ChangeType","oldValue","newValue","map","getField","valueRef","isNumber","isDigit","Injectable","args","providedIn","DomSanitizer","ValidationProvider","of","isRequired","phone","isValidPhone","trimmedValue","trim","isArray","CacheService","set","data","window","localStorage","setItem","JSON","stringify","get","parse","getItem","remove","removeItem","SettingService","httpClient","_cacheService","search","request","params","useMock","currentValue","HttpClient","ActionService","_settingService","executeAsync","callback","timeout","setTimeout","scrollTop","scrollTo","isMobile","userAgent","navigator","verify","changeItem","menuTabs","parent","retrieveParent","state","find","name","url","mainState","children","k","retrieveChild","retrieveStateName","AggregatorService","emitters","publish","currentEmitter","register","emit","index","findIndex","splice","hasKey","emitter","EventEmitter","ValidationService","rendererFactory","validationProvider","_dataService","_actionService","_aggregatorService","onDestroy","elements","errClass","styles","attributeName","relatedProviders","subscriptions","Subscription","virtualValidationOptions","changedItems","renderer","createRenderer","ngOnDestroy","unsubscribe","model","validator","payloadRef","addRelatedProviders","option","displayText","validationName","element","rowIndex","displayingRowIndex","dynamic","updateAsync","setKey","relatedProvidersToRegister","registerElements","registerEvents","validCallback","invalidCallback","retrieveSummaryErrors","focus","errors","el","valid","payload","fieldValue","valueResolver","handleErrors","res","commit","take","setElementError","removeClass","addClass","errorElement","findErrorElement","createElement","setAttribute","parentElement","parentNode","appendChild","errorItemElementKey","errorItemElement","findErrorItemElement","dynamicSequenceId","findDynamicSequenceId","createText","clearErrorItemElement","removeChild","isDirty","syncErrorMessages","errorMessages","messages","validateElementAsync","errors$","validateElement","newOption","errorBatch","forkJoin","relatedErrors","reduce","previous","provider","subErrors$","merge","defaultIfEmpty","result","itemRef","validatedActions$","Error","requiredRule","sequenceId","status","message","validatedActions","relevantFields","validateRelevantFields","attributes","findElementOption","validationOption","validationIdAttribute","validationId","from","sequenceIdAttribute","nonDynamicOptions","nonDynamicElements","current","query","scope","formRef","nativeElement","querySelectorAll","generatedDynamicOptions","dynamicElements","clonedOptions","elementOption","focusoutListener","listen","handleBlurEvent","$event","currentItem","rule","providers","newProviders","_a","RendererFactory2","Output","ValidationModule","forRoot","ngModule","NgModule","declarations","imports","SettingSearchRequest","SettingSearchResponse","BaseResponse","GetLookupItemsRequest","GetLookupItemsResponse","SendNotificationRequest","notificationTypes","payloadItems","recipients","SendNotificationResponse","NotificationType","Sms","Local","EditNotificationThreadViewModel","detailGroups","NotificationDetailGroup","details","NotificationDetail","RetrieveNotificationThreadRequest","RetrieveNotificationThreadResponse","NotificationTemplateVariable","OrderIdentifier","PendingApprovalProductsCount","SuppliersCount","PendingInquiriesCount","BuyerName","ProductName","RegisterChannelRequest","SendLiveNotificationRequest","RemoveNotificationDetailRequest","RemoveNotificationDetailResponse","RemoveNotificationDetailGroupType","All","GroupByDate","Single","RetrieveNotificationDetailRequest","RetrieveNotificationDetailResponse","SearchInboxNotificationsRequest","SearchInboxNotificationsResponse","MarkAllNotificationsReadRequest","MarkAllNotificationsReadResponse","threshold","NotificationViewModel","ConfirmViewModel","TemplateViewModel","ModalServiceConstant","Mode","Create","Picker","NotificationComponent","_sanitizationService","_modalRef","html","cancel","hide","autoClose","Component","selector","template","encapsulation","ViewEncapsulation","None","BsModalRef","ConfirmComponent","cancelCallback","accept","acceptCallback","MockService","delay","MenuService","tabs","menuTabbedItems","role","menu","subName","loadMenuItems","tab","loadFirstTabItems","currentMenu","loadFirstTab","getTabs","UtilityService","BaseNotificationService","LoaderComponent","_componentFactoryResolver","_viewContainerRef","ngAfterViewInit","createComponent","clear","factory","resolveComponentFactory","componentRef","instance","rootNodes","containerRef","ComponentFactoryResolver","ViewContainerRef","Input","ViewChild","static","TemplateComponent","loader","close","getValidator","validationKey","mode","ModalService","_bsModalService","Ng4LoadingSpinnerService","showLoading","hideLoading","showNotificationDialog","customCss","customSize","center","_modalInstance","backdrop","class","keyboard","ignoreBackdropClick","animated","content","showConfirmDialog","showTemplateDialog","BsModalService","LoadingComponent","ngOnInit","LoadingViewModel","HtmlPipe","transform","v","Pipe","LoaderModule","CommonModule","FormsModule","ReactiveFormsModule","entryComponents","exports","ButtonComponent","customClass","disabled","loadingIcon","lazyload","loading","handleAction","preventdefault","retrieveButtonClass","DropdownButtonComponent","TemplateRef","DropdownButtonsComponent","ContentChildren","ButtonModule","BsDropdownModule","CModalModule","ComponentLoaderFactory","PositioningService","ModalModule","Ng4LoadingSpinnerModule","AuthenticationViewModel","AuthenticationLoginRequest","AuthenticationLoginResponse","AuthenticationCreateRequest","AuthenticationCreateResponse","AuthenticationUpdateRequest","AuthenticationUpdateResponse","AuthenticationRetrieveRequest","AuthenticationRetrieveResponse","AuthenticationDeleteRequest","AuthenticationDeleteResponse","AuthenticationSearchRequest","AuthenticationSearchResponse","SearchBaseResponse","AuthConst","Token","User","KeyConst","ViewImage","PageChanged","NewNotifications","MenuChanged","LoggedIn","SignOut","Menu","AuthApi","KeywordChanged","Search","AuthenticationService","_router","icon","type","user","currentUser","setApi","getApi","mockData","retrieve","userName","login","post","update","put","delete","ids","logout","path","refresh","navigate","location","href","Router","fadeInOut","trigger","transition","opacity","animate","fadeDownInOut","fadeRightInOut","AuthComponent","route","_authenticationService","_validationService","title","api","success","completed","succeedPath","initValidations","token","code","UserViewModel","fullName","dateOfBirth","Date","image","src","ValidationOption","password","animations","ActivatedRoute","FormDirectorExtraItemDirective","Directive","FormDirectorComponent","direction","alignVertical","FormItemDirective","FormComponent","column","smallWidth","mediumWidth","largeWidth","ngOnChanges","firstChange","FormModule","TextboxComponent","placeholder","readonly","maxCharacters","emitNullOnDestroy","modelChange","document","getElementsByTagName","submitNumeric","minNumber","event","preventDefault","maxNumber","getElement","ContentChild","CustomCurrencyMaskConfig","align","allowNegative","decimal","precision","prefix","suffix","thousands","TextboxModule","CurrencyMaskModule","provide","CURRENCY_MASK_CONFIG","useValue","AuthModule","TabItemComponent","TabComponent","_changeDetectorRef","displayMode","activeTabIndex","clicked","switchTab","tabIndex","detectChanges","ChangeDetectorRef","TabModule","DaterangePickerComponent","startView","pickerType","pickerMode","selectMode","DatetimePickerComponent","DatetimePickerModule","forChild","OWL_DATE_TIME_LOCALE","OwlDateTimeIntl","useClass","DefaultDateTimeLabels","OwlDateTimeModule","OwlNativeDateTimeModule","upSecondLabel","downSecondLabel","upMinuteLabel","downMinuteLabel","upHourLabel","downHourLabel","prevMonthLabel","nextMonthLabel","prevYearLabel","nextYearLabel","prevMultiYearLabel","nextMultiYearLabel","switchToMonthViewLabel","switchToMultiYearViewLabel","cancelBtnLabel","setBtnLabel","rangeFromLabel","rangeToLabel","hour12AMLabel","hour12PMLabel","FileViewModel","FileRequest","FileResponse","FileService","authenticationService","uploadFiles","uploadProgress","file","HttpResponse","body","createdDate","lastModifiedDate","createdBy","lastModifiedBy","FileConst","AcceptedFiles","MaxSize","FileProvider","_fileService","_modalService","uploadAsync","files","attachments","fileRef","buildRequest","calculateTotalBytes","btnTitle","others","uploadFileAsync","otherTypes_1","btnAcceptTitle","btnCancelTitle","totalAmount","attachment","size","otherFiles","reader_1","FileReader","readAsDataURL","onloadend","base64String","CropperComponent","cutRatio","resizeToWidth","maintainAspectRatio","imageChangedEvent","croppedImage","showCropper","setImage","eventFile","imageLoaded","console","log","cropperReady","loadImageFailed","imageCropped","base64","getErrors","UploaderComponent","modalService","fileService","multiple","maxSize","fileType","changeLoading","changeProgress","fileUploaded","progress","onFileUploaded","validationResult","initValidation","cropImage","reader","loadEvent","imageElement","base64FileParts","split","base64FileData","finalize","uploadedFilePath","uploadFileSubscription","tap","HttpEventType","UploadProgress","round","loaded","total","Response","err","add","initExtentionFile","types","extension","currentTypes","CropperModule","LibraryModule","FileModule","EditorAdapter","upload","then","Promise","resolve","base64Data","default","EditorComponent","plainTextChange","editor","Editor","config","height","plainText","nativeEditor","elementRef","textContent","ready","plugins","createUploadAdapter","ui","getEditableElement","EditorModule","CKEditorModule","DropdownComponent","changeDetectorRef","closeOnSelect","dropdownPosition","loadingText","notFoundText","pageSize","typeToSearchText","searchable","totalItems","searchItems","searchText$","BehaviorSubject","currentPage","numberOfItemsFromEndBeforeFetchingMore","fetchMore$","search$","distinctUntilChanged","switchMap","searchFunction","rebind","pageIndex","getValue","append","beforeSearch","afterSearch","afterSearchSubscription","skip","onBlur","scroll","lastIndex","fetchMore","totalRecords","markForCheck","DropdownModule","NgSelectModule","CardComponent","classHeader","cardToggle","cardClose","loadCard","isCardToggled","toggleCard","closeCard","fullScreen","fullCard","fullCardIcon","cardRefresh","cardLoad","overflow","AUTO_STYLE","display","CardModule","AccordionDirective","router","navlinks","countState","closeOtherLinks","openLink","group","innerWidth","querySelector","click","link","open","addLink","removeGroup","getUrl","events","NavigationEnd","AccordionLinkDirective","nav","defineProperty","_open","classList","toggle","decorators","Inject","HostBinding","AccordionAnchorDirective","navlink","onClick","HostListener","AccordionModule","CurrencyPipe","digits","locale","DecimalPipe","CDatePipe","DatePipe","CDatetimePipe","TimePipe","NumberPipe","BadgePipe","SafePipe","sanitizer","CembedVideoPipe","extractOembedTagPattern","RegExp","extractOembedTagsResult","exec","oembedTags","tag","KbPipe","FilePipe","pipes","FormatterModule","MenuKey","Admin","Admin2","DefaultLayoutService","toolbarItems","navType","themeLayout","vNavigationView","verticalPlacement","verticalLayout","deviceType","verticalNavType","verticalEffect","pcodedHeaderPosition","pcodedSidebarPosition","headerTheme","logoTheme","toggleOn","headerFixedMargin","navBarTheme","activeItemTheme","isCollapsedMobile","chatToggle","chatToggleInverse","chatInnerToggle","chatInnerToggleInverse","menuTitleTheme","itemBorder","itemBorderStyle","subItemBorder","subItemIcon","dropDownIcon","isSidebarChecked","isHeaderChecked","scrollHeight","screen","innerHeight","windowWidth","setMenuAttributes","navigationSubscription","onResize","reSizeFlag","toggleOpened","onClickedOutside","onMobileMenu","toggleChat","toggleChatInner","setSidebarPosition","setHeaderPosition","setBackgroundPattern","pattern","setLayoutType","layoutType","setNavBarTheme","theme","initToolbarItems","actions","ToolbarAction","getToolbarItems","hasToolbarItems","showImage","AdminLayoutComponent","workspaceLayoutService","actionService","aggregatorService","cacheService","notifications","logo","isModalShow","modalImageSrc","imageAltText","breadcrumbs","authUrl","setActive","menuType","recommendation","altText","breadcrumb","closeImage","changeMenu","DefaultBreadcrumbsComponent","selectItem","child","DefaultCustomizerComponent","toggleRightbar","configOpenRightBar","DefaultFooterComponent","DefaultHeaderComponent","layoutService","dataService","menuService","menuItems","isSupplier","toggleMenu","debound","keyword","setTemplate","setCommendation","which","selected","selectedMenu","getParentLink","getChildLink","selectSubMenu","initMenu","setMenu","currentUrl","isCollapsedSideBar","kid","currentChild","DefaultNavBarComponent","hideBreadcrumbsSection","states","retrieveCurrentItem","DefaultSidebarComponent","collapsedItems","isPageLoad","selectMenu","navigateTo","toggleOpenedSidebar","loadMenu","toLocaleLowerCase","NotFoundComponent","gotoHome","AccessDeniedComponent","_location","back","Location","WorkingComponent","PageModule","LoaderProvider","SpinnerComponent","isSpinnerVisible","routerSubscription","NavigationStart","NavigationCancel","NavigationError","SpinnerModule","CheckboxComponent","customModelChange","customModel","customModelTransformation","onModelChange","CheckboxModule","TableRowDetailDirective","TableColumn","TableSorter","TableAction","TableConstant","ActionType","Inline","TableText","placeholderSearch","DisplayText","PlaceholderSearch","btnSearch","BtnSearch","btnReset","BtnReset","Action","selectPageSize","SelectPageSize","deleteTitle","DeleteTitle","BtnAcceptTitle","BtnCancelTitle","filterTitle","FilterTitle","applyFilter","ApplyFilter","detailTitle","DetailTitle","pageTitle","PageTitle","advancedSearchTitle","AdvancedSearchTitle","advancedBtnTitle","AdvancedBtnTitle","advancedBtnCancelTitle","AdvancedBtnCancelTitle","allTitle","AllTitle","TableMessage","notFoundMessage","Message","NotFoundMessage","foundMessage","FoundMessage","invalidFormatMessage","InvalidFormatMessage","selectedItemsMessage","SelectedItemsMessage","confirmSelectAllRecordsMessage","ConfirmSelectAllRecordsMessage","confirmClearAllRecordsMessage","ConfirmClearAllRecordsMessage","deleteMessage","DeleteMessage","loadingMessage","LoadingMessage","refMessage","RefMessage","TableDatetimeFormat","format","full","EdittedField","ChangedCell","ChangedRow","TableOption","datetimeFormat","mainColumns","topButtons","defaultPageSize","totalToolbarItem","TableMode","hideSequenceColumn","hideCheckboxColumn","inlineEdit","compact","ComponentClass","Key","DatetimeLocate","PageSizes","Direction","ASC","DESC","TextAlign","Left","Right","Center","Edit","Both","Toolbar","Number","String","DateTime","DateRange","DateTimeRange","Time","TimeRange","Boolean","Description","Currency","TableComponent","thisElement","validationService","excelExporterService","selectedItems","totalPages","maxPage","selectedAll","filterColumns","toolbarActions","inlineActions","filterSectionToggle","textSearched","showReset","changePage$","changedRows","previousRequest","recursiveCounter","edittedFields","previousItems","_render","changePageSubscription","searchAsync","defaultOrderBy","defautOrderDirection","componentClass","maxLenghtext","initTableTableTexts","initTableTableMessages","initMainColumns","inFullMode","allowFilter","sort","a","order","hasFilterSection","paging","pageSizes","hasToolbarActions","hasTopButtons","hasToolbarSection","hasFooterSection","hasPageSizeChooser","copy","copyItem","localData","exportToExcel","fileName","req","searchLocalItems","serviceProvider","exportedItem","exportData","IgxExcelExporterOptions","getTime","resetChanges","acceptInlineEdit","ref","previousItem","currentField","cells","cellIndex","currentItemIndex","oldItem","closeInlineEdit","cancelInlineEdit","retrieveInlineEdit","itemIndex","editInline","hasInlineEdit","resetFilters","getToolbarActions","standard","changePageSize","handkeKeypress","goto","blur","toggleFilterSection","showSorter","toggleRowDetail","sortAsync","resetSortAsync","allowSort","orderBy","selectAll","clearAll","existingItemIndex","isRowSelected","hasAnyAction","executeActionAsync","loadedCallback","isActive","checkedRow","getCurrentIndex","getDropdownDisplayText","values","dropdownConfiguration","bindLabel","join","getPages","pages","count","floor","reload","keepSelectedItems","advancedFilter","trackRecords","record","bindResultData","checkedAllPageItems","check","setDefaultOrder","setFilter","retrieveAdvancedFilters","datetimeValues","convertDatetime","searchText","dt","convertedDatetime","days","getDate","months","getMonth","hours","getHours","minutes","getMinutes","year","getFullYear","localResult_1","searchFields","calculatePages","currentColumn","textAlign","TableColumnType","validationOptions","wrapper","gotoRef","max","parseInt","ElementRef","IgxExcelExporterService","TableModule","NgStringPipesModule","FullMediaComponent","videoPlayerHtml","generateHtml","videoTag","fullSrc","MediaViewerComponent","removed","videoId","thumbnailHtml","viewMedia","MediaViewerModule","ImageViewerComponent","defaultImageUrl","editable","imageRemoved","radious","selectedChange","imageSrc","removeImage","selectImage","ImageViewerModule","GalleryComponent","initTable","tableRef","headers","customTemplate","imageTemplate","nameTemplate","sizeTemplate","ViewerComponent","isLoading","images","useLibrary","componentTitle","uploadDialogTitle","uploadDialogIcon","uploadTitle","uploadIcon","openGalleryTitle","openGalleryIcon","zoomPrimaryImage","onOpenUserMediaGallery","addImage","setLoading","openUserMediaGallery","galleryItems","ViewerModule","ImageCropperModule","NgxDnDModule","RadioItemComponent","checked","stopPropagation","selectedCallBack","select","registerSelectedCallback","RadioComponent","ngAfterContentInit","groupIndex","y","RadioModule","TimelineComponent","TimelineModule","ChipComponent","onAdd","onRemove","handleBlur","ChipModule","TagInputModule","PanelHeaderDirective","PanelComponent","includeBorder","expand","PanelModule","ListItemDirective","ListComponent","eventSelect","emptyListMessage","itemSelected","isSelected","getSelectedItems","fetchMoreSubsription","ListModule","TreeViewComponent","nodes","TreeViewModule","TreeModule","DefaultToolbarComponent","errorContainer","onButtonClicked","createEmbeddedView","errorTemplate","read","FloatingToolbarComponent","widthProcess","clickHide","bottom","RecommendationComponent","LayoutModule","RouterModule","ClickOutsideModule","Framework4CModule","BrowserModule","BrowserAnimationsModule","HttpClientModule"],"mappings":"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O,CACLC,SAAUshC,EACV7hC,UAAW,CACTrI,GACA2jC,EAAAA,+CAxEP96B,EAAAA,SAAQvM,KAAA,CAAC,CACRyM,QAAS,CACPsI,EAAAA,aACAC,EAAAA,YACAC,EAAAA,oBACA44B,EAAAA,cACAC,EAAAA,wBACAC,EAAAA,iBACAjvB,GACA0J,GACAvS,GACA6V,GACA+B,GACAvR,GACAqxB,EAAAA,mBACA7V,GACAhM,GACAsM,GACAta,GACAwpB,GACArgB,GACAihB,GACAU,GACA0B,GACAa,GACAE,GACAK,GACAM,GACAS,GACAG,GACAxd,GAAgB9P,WAChBlT,GAAiBC,UACjB8J,GAAa9J,UACb8R,GAAW9R,UACXgT,GAAqBC,WACrBmuB,GAAaphC,WAEf8I,QAAS,CACPgJ,GACAW,GACA3I,GACAkJ,GACAmJ,GACAlM,GACAsO,GACAkN,GACAhM,GACA7V,GACA4X,GACAuK,GACAta,GACAwpB,GACArgB,GACAihB,GACAU,GACA0B,GACAa,GACAE,GACAK,GACAM,GACAS,GACAG,IAEF7gC,UAAW,OAab6hC,EAjHA","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { ElementRef } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ValidationService } from './validation.service';\r\n\r\nexport interface IValidation {\r\n    callback(): Observable<any>;\r\n    getErrors(): Observable<SummaryError[]>;\r\n}\r\n\r\nexport class SummaryError {\r\n    element: ElementRef;\r\n    messages: string[];\r\n    constructor(init?: Partial<SummaryError>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ValidationRuleResponse {\r\n    status?: boolean;\r\n    message?: string;\r\n    constructor(init?: Partial<ValidationRuleResponse>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport abstract class ValidationRule {\r\n    key: string;\r\n    execute: (value?: any, payload?: any, rowIndex?: number) => Observable<ValidationRuleResponse>;\r\n    errorMessage: (element?: any, rowIndex?: string) => string;\r\n    id?: string;\r\n    isValid?: boolean;\r\n    required?: boolean;\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        this.errorMessage = overridenErrorMessage;\r\n    }\r\n}\r\n\r\nexport class RequiredValidationRule extends ValidationRule {\r\n    constructor(\r\n        overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Required;\r\n    }\r\n}\r\n\r\nexport class EmailValidationRule extends ValidationRule {\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Email;\r\n    }\r\n}\r\n\r\nexport class PhoneValidationRule extends ValidationRule {\r\n    constructor(overridenErrorMessage?: (element?: any, rowIndex?: string) => string\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.key = ValidationConstant.Phone;\r\n    }\r\n}\r\n\r\nexport class CustomValidationRule extends ValidationRule {\r\n    constructor(\r\n        execute: (value?: any, payload?: any, rowIndex?: number) => Observable<ValidationRuleResponse>,\r\n        required?: boolean,\r\n        overridenErrorMessage?: (element?: any, rowIndex?: string) => string,\r\n        isValid?: boolean\r\n    ) {\r\n        super(overridenErrorMessage);\r\n        this.execute = execute;\r\n        this.key = ValidationConstant.Custom;\r\n        this.isValid = isValid;\r\n        this.required = required;\r\n    }\r\n}\r\n\r\nexport class ValidationOption {\r\n    validationName: string;\r\n    rules: ValidationRule[] = [];\r\n    valueResolver: (item: any, payload: any, rowIndex?: number) => any | any[];\r\n    itemRef?: any;\r\n    displayText?: string;\r\n    validationId?: string;\r\n    payloadRef?: () => any;\r\n    relevantFields: (payload: any) => string[];\r\n    dynamic?: boolean;\r\n    dirtyCheck: boolean = true;\r\n    scope?: string;\r\n    errorTargetId?: string;\r\n    errorMessageClass?: string = ValidationConstant.ErrorMessageClass;\r\n    errorElementClass?: string = ValidationConstant.ErrorElementClass;\r\n    successElementClass?: string = ValidationConstant.SuccessElementClass;\r\n    constructor(init?: Partial<ValidationOption>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ClientValidator {\r\n    formRef: ElementRef;\r\n    options: ValidationOption[] = [];\r\n    payloadRef?: () => any;\r\n    scope?: string;\r\n    relatedValidationProviders?: ValidationService[] = [];\r\n    requiredMessage: string = ValidationConstant.requiredMessage;\r\n    invalidMessage: string = ValidationConstant.invalidMessage;\r\n    constructor(init?: Partial<ClientValidator>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ChangedItem {\r\n    id?: string;\r\n    oldValue?: any;\r\n    value?: any;\r\n    field?: string;\r\n    change: boolean = false;\r\n    constructor(init?: Partial<ChangedItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ValidationConstant {\r\n    public static Required: string = 'Required';\r\n    public static Email: string = 'Email';\r\n    public static Phone: string = 'Phone';\r\n    public static Custom: string = 'Custom';\r\n    public static ErrorMessage: string = 'Khng hp l vui lng th li.';\r\n    public static ErrorElementClass: string = 'ng-invalid';\r\n    public static SuccessElementClass: string = 'ng-valid';\r\n    public static ErrorMessageClass: string = 'text-danger';\r\n    public static DefaultErrorStyles: string = 'padding:0;list-style:none;font-weight:400;font-size:13px; width: 100%';\r\n    public static DefaultErrorClass: string = 'validation-error';\r\n    public static AttributeName: string = 'validation-name';\r\n    public static AttributeOptionName: string = 'dynamic-option';\r\n    public static AttributeDynamicName: string = 'dynamic-validation';\r\n    public static ErrorTargetId: string = 'error-target-id';\r\n    public static DynamicErrorAttribute: string = 'dynamic-error-attribute';\r\n    public static ERROR_ELEMENT_ID = 'error-element-id';\r\n    public static ERROR_ITEM_ELEMENT_ID = 'error-item-element-id';\r\n    public static VALIDATION_ID = 'validation-id';\r\n    public static ARRAY_SEQUENCE_ID = 'array-sequence-id';\r\n    public static requiredMessage: string = 'l bt buc';\r\n    public static invalidMessage: string = 'khng hp l';\r\n};\r\n","export enum ToolbarAction {\r\n    Save = 'Save',\r\n    Cancel = 'Cancel',\r\n    Back = 'Back',\r\n    SaveAll = 'SaveAll',\r\n    EditColumnOptions = 'EditColumnOptions',\r\n    SaveAndNew = 'SaveAndNew',\r\n    Reset = 'Reset',\r\n}\r\n\r\nexport enum ChangeType {\r\n    Update,\r\n    Add,\r\n    Delete\r\n}","import { Type, EventEmitter, TemplateRef } from '@angular/core';\r\nimport { ChangeType } from '../enums/base.enum';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport class MockData<T> {\r\n    mockData?: any;\r\n    constructor(init?: Partial<MockData<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseRequest<T> extends MockData<T> {\r\n    payload?: T;\r\n    constructor(init?: Partial<BaseRequest<T>>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseResponse<T> {\r\n    data?: T;\r\n    success?: boolean;\r\n    code?: number;\r\n    message?: string;\r\n    constructor(init?: Partial<BaseResponse<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class SearchBaseRequest extends MockData<any> {\r\n    searchText?: string;\r\n    pageIndex?: number;\r\n    pageSize?: number;\r\n    direction?: string;\r\n    orderBy?: string;\r\n    all?: boolean;\r\n    constructor(init?: Partial<SearchBaseRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class SearchBaseResponse<T> {\r\n    items?: T[];\r\n    success?: boolean;\r\n    code?: number;\r\n    message?: string;\r\n    constructor(init?: Partial<SearchBaseResponse<T>>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class BaseTemplate {\r\n    data?: any;\r\n    validationKey?: string;\r\n    template?: Type<any>;\r\n    constructor(init?: Partial<BaseTemplate>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class AggregatorViewModel {\r\n    value?: EventEmitter<any>;\r\n    key?: string;\r\n    currentEmitter: any;\r\n    constructor(init?: Partial<AggregatorViewModel>) {\r\n        Object.assign(this, init);\r\n    };\r\n}\r\n\r\nexport class ButtonDefinition {\r\n    action: string;\r\n    title: string;\r\n    icon: string;\r\n    hide: boolean;\r\n    disabled: boolean;\r\n    lazyload: boolean;\r\n    style: 'default' | 'success' | 'warning' | 'danger' | 'link' | 'info' | 'inverse' | 'primary' | 'outline-primary' | 'outline-inverse' = 'default';\r\n    constructor(init?: Partial<ButtonDefinition>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ToolbarActionPayload {\r\n    loadedCallback: Function;\r\n    action: string;\r\n    callback: Function;\r\n    constructor(init?: Partial<ToolbarActionPayload>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ObjectChange {\r\n    propertyName: string;\r\n    oldValue: any;\r\n    newValue: any;\r\n    changeType: ChangeType;\r\n    constructor(init?: Partial<ObjectChange>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class LookupItem {\r\n    name: string;\r\n    key?: string;\r\n    constructor(init?: Partial<LookupItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ExtendedMainMenuGroup {\r\n    label: string;\r\n    children: any[];\r\n    icon: string;\r\n    selected?: boolean;\r\n    constructor(init?: Partial<ExtendedMainMenuGroup>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class KeyValueItem {\r\n    key: string;\r\n    value: string;\r\n    constructor(init?: Partial<KeyValueItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class BreadCrumbItem {\r\n    label: string;\r\n    url: string;\r\n    constructor(init?: Partial<BreadCrumbItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ControlType {\r\n    static Textbox: string = 'Textbox';\r\n    static Dropdown: string = 'Dropdown';\r\n    static Button: string = 'Button';\r\n    constructor(init?: Partial<ControlType>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MenuTab {\r\n    role: string;\r\n    items: ExtendedMainMenuGroup[];\r\n    constructor(init?: Partial<MenuTab>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MenuItem {\r\n    menu: string;\r\n    items: ExtendedMainMenuGroup[];\r\n    subName: string;\r\n    name?: string;\r\n    selected?: boolean;\r\n    constructor(init?: Partial<MenuItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class Breadcrumb {\r\n    label: string;\r\n    url: string;\r\n    state?: string;\r\n    constructor(init?: Partial<Breadcrumb>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class MediaItem {\r\n    src: string;\r\n    name: string;\r\n    fullSrc: string;\r\n    constructor(init?: Partial<MediaItem>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class Audit {\r\n    createdDate?: Date;\r\n    createdBy?: string;\r\n    lastModifiedDate?: Date;\r\n    lastModifiedBy?: string;\r\n    constructor(init?: Partial<Audit>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class TrackingGroup {\r\n    date: Date;\r\n    details: TrackingDetail[];\r\n    constructor(init?: Partial<TrackingGroup>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class TrackingDetail {\r\n    description: string;\r\n    time: Date;\r\n    constructor(init?: Partial<TrackingDetail>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class RecommendationResponse {\r\n    selectedMenu?: string;\r\n    keyword?: string;\r\n    show: boolean = false;\r\n    searchPath?: string;\r\n    template?: Type<any>;\r\n    label: string = 'Kt qu gi ';\r\n    deboundTime: number = 500;\r\n    all: boolean = false;\r\n    constructor(init?: Partial<RecommendationResponse>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport interface ICallback<T> {\r\n    isValid: () => boolean;\r\n    callback: (value: any) => Observable<T>;\r\n}","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { ChangeType } from '../enums/base.enum';\r\nimport { ObjectChange } from '../models/base.model';\r\nimport * as _ from 'lodash';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DataService {\r\n    constructor(\r\n        private _sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    public cloneItem(item: any): any {\r\n        if (!item) return null;\r\n        const response: any = {};\r\n        const fields = Object.keys(item);\r\n        if (fields) {\r\n            fields.forEach((field) => {\r\n                response[field] = item[field];\r\n            });\r\n        }\r\n        return response;\r\n    }\r\n\r\n    public cloneItems(items: any[], id: boolean = true): any {\r\n        if (!items || items.length == 0) return null;\r\n        const response: any[] = [];\r\n        items.forEach((item) => {\r\n            var newItem = this.cloneItem(item);\r\n            if (id) newItem.id = this.newGuid();\r\n            response.push(newItem);\r\n        });\r\n        return response;\r\n    }\r\n\r\n    public transformToSafeHtml(input: string): SafeHtml {\r\n        return this._sanitizer.bypassSecurityTrustHtml(input);\r\n    }\r\n\r\n    public initDebounceTime(time: number = 500): Subject<any> {\r\n        const delegator: Subject<any> = new Subject();\r\n        delegator.pipe(debounceTime(time)).subscribe((action) => {\r\n            if (action) {\r\n                action();\r\n            }\r\n        });\r\n        return delegator;\r\n    }\r\n\r\n    public removeHTML(str: string): string {\r\n        if (!str) return str;\r\n        return str.replace(/<\\/?[^>]+>/gi, '').replace(/&nbsp;/g, '');\r\n    }\r\n\r\n    public removeAllSpaces(str?: string): string {\r\n        if (!str) return '';\r\n        return str.replace(/\\s/g, '');\r\n    }\r\n\r\n    public replaceAt(s: string, n: number, t: string) {\r\n        return s.substring(0, n) + t + s.substring(n + 1);\r\n    }\r\n\r\n    public isValidEmail(email: string): boolean {\r\n        if (!email) return true;\r\n        const regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n        return regex.test(email);\r\n    }\r\n\r\n    public convertUCode(c: string): string {\r\n        if ('a'.indexOf(c) > -1) return 'a';\r\n        if ('d'.indexOf(c) > -1) return 'd';\r\n        if ('o'.indexOf(c) > -1) return 'o';\r\n        if ('u'.indexOf(c) > -1) return 'u';\r\n        if ('i'.indexOf(c) > -1) return 'i';\r\n        if ('y'.indexOf(c) > -1) return 'y';\r\n        if ('e'.indexOf(c) > -1) return 'e';\r\n        return c;\r\n    }\r\n\r\n    public fuzzysearch(needle: string, haystack: string): boolean {\r\n        const haystackLC = this.removeAllSpaces(haystack.toLowerCase());\r\n        const needleLC = this.removeAllSpaces(needle.toLowerCase());\r\n        const hlen = haystack.length;\r\n        const nlen = needleLC.length;\r\n        if (nlen > hlen) {\r\n            return false;\r\n        }\r\n        if (nlen === hlen) {\r\n            return needleLC === haystackLC;\r\n        }\r\n        outer: for (let i = 0, j = 0; i < nlen; i++) {\r\n            const nch = this.convertUCode(needleLC[i]);\r\n            while (j < hlen) {\r\n                if (this.convertUCode(haystackLC[j++]) === nch) {\r\n                    continue outer;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public newGuid(): string {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    public isNullOrEmpty(obj: any): boolean {\r\n        return obj == null || obj === undefined || obj == '';\r\n    }\r\n\r\n    public toPascalCase(text: string, lowerCase?: boolean): string {\r\n        if (!text) return '';\r\n        if (!lowerCase) {\r\n            return text[0].toString().toUpperCase() + text.substring(1, text.length);\r\n        } else {\r\n            return text[0].toString().toLowerCase() + text.substring(1, text.length);\r\n        }\r\n    }\r\n\r\n    public compareObjects(source: any, target: any): ObjectChange[] {\r\n        let changes: ObjectChange[] = [];\r\n        const sourceProperties = Object.getOwnPropertyNames(source);\r\n        const targetProperties = Object.getOwnPropertyNames(target);\r\n\r\n        const addedProperties = targetProperties.filter(x => sourceProperties.indexOf(x) < 0);\r\n        const removedProperties = sourceProperties.filter(x => targetProperties.indexOf(x) < 0);\r\n        const modifiedProperties = sourceProperties.filter(x => removedProperties.indexOf(x) < 0);\r\n\r\n        for (let property of modifiedProperties) {\r\n            if (!_.isEqual(source[property], target[property])) {\r\n                changes.push(new ObjectChange({\r\n                    propertyName: property,\r\n                    changeType: ChangeType.Update,\r\n                    oldValue: source[property],\r\n                    newValue: target[property]\r\n                }));\r\n            }\r\n        }\r\n\r\n        changes.push(...addedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Add,\r\n            oldValue: target[x],\r\n            newValue: target[x]\r\n        })));\r\n\r\n        changes.push(...removedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Delete,\r\n            oldValue: source[x],\r\n            newValue: source[x]\r\n        })));\r\n        return changes;\r\n    }\r\n\r\n    public getField(valueRef: string, lowerCase?: boolean): string {\r\n        if (!valueRef) return '';\r\n        if (!lowerCase) {\r\n            return valueRef[0].toString().toUpperCase() + valueRef.substring(1, valueRef.length);\r\n        } else {\r\n            return valueRef[0].toString().toLowerCase() + valueRef.substring(1, valueRef.length);\r\n        }\r\n    }\r\n\r\n    public isNumber(input: string): boolean {\r\n        var regex = /^[+-]?\\d+(\\.\\d+)?([eE][+-]?\\d+)?$/;\r\n        return regex.test(input);\r\n    }\r\n\r\n    public isDigit(input: string): boolean {\r\n        return /^[0-9]$/.test(input);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ValidationProvider {\r\n  constructor() { }\r\n\r\n  public required: (value: any) => Observable<boolean> = (value: any) => {\r\n    return of(this.isRequired(value));\r\n  }\r\n\r\n  public email: (email: string) => Observable<boolean> = (email: string) => {\r\n    if (!email) return of(true);\r\n    return of(this.isValidEmail(email));\r\n  }\r\n\r\n  public phone: (phone: string) => Observable<boolean> = (phone: string) => {\r\n    if (!phone) return of(true);\r\n    return of(this.isValidPhone(phone));\r\n  }\r\n\r\n  private isRequired(value: any): boolean {\r\n    if (typeof (value) === 'string') {\r\n      const trimmedValue = <string>value.trim();\r\n      return trimmedValue != '' && trimmedValue != undefined && trimmedValue != null;\r\n    }\r\n    if (Array.isArray(value)) {\r\n      return value.length > 0;\r\n    }\r\n    if (value) return true;\r\n    return false;\r\n  }\r\n\r\n  private isValidEmail(email: string): boolean {\r\n    if (!email) return true;\r\n    var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n    return regex.test(email);\r\n  }\r\n\r\n  private isValidPhone(phone: string): boolean {\r\n    if (!phone) return true;\r\n    return phone.length === 10;\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class CacheService {\r\n    public set(key: string, data: any): void {\r\n        window.localStorage.setItem(key, JSON.stringify(data));\r\n    }\r\n\r\n    public get(key: string): any {\r\n        return JSON.parse(window.localStorage.getItem(key));\r\n    }\r\n\r\n    public remove(key: string): void {\r\n        window.localStorage.removeItem(key);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { SettingSearchResponse } from '../models';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SearchBaseRequest } from '../models/base.model';\r\nimport { CacheService } from './cache.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SettingService {\r\n    constructor(\r\n        protected httpClient: HttpClient,\r\n        private _cacheService: CacheService\r\n    ) { }\r\n\r\n    public search(request: SearchBaseRequest): Observable<SettingSearchResponse> {\r\n        return this.httpClient.get<SettingSearchResponse>(`v1/settings/search`, { params: request as any });\r\n    }\r\n\r\n    public useMock(value?: boolean): boolean {\r\n        if (value == true || value == false) {\r\n            this._cacheService.set('mock', value);\r\n            return value;\r\n        }\r\n        var currentValue = <boolean>this._cacheService.get('mock');\r\n        if (!currentValue) return false;\r\n        return currentValue;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { SettingService } from './setting.service';\r\nimport { Breadcrumb, MenuTab } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ActionService {\r\n    constructor(\r\n        private _settingService: SettingService\r\n    ) { }\r\n\r\n    public executeAsync(callback: () => any, timeout: number = 50): void {\r\n        setTimeout(() => {\r\n            if (callback) callback();\r\n        }, timeout);\r\n    }\r\n\r\n    public scrollTop(): void {\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    public isMobile(): boolean {\r\n        const userAgent = navigator.userAgent;\r\n        return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(userAgent));\r\n    }\r\n\r\n    public verify<T>(callback: Observable<T>): Observable<T> {\r\n        var mock = this._settingService.useMock();\r\n        if (mock) return of({} as T);\r\n        return callback;\r\n    }\r\n\r\n    public changeItem(item: any, menuTabs: MenuTab[], callback?: (breadCrumbs: Breadcrumb[]) => any): Breadcrumb[] {\r\n        var items: Breadcrumb[] = [];\r\n        var parent = <Breadcrumb>this.retrieveParent(item.state, menuTabs);\r\n        if (parent != null) {\r\n            items.push(parent);\r\n        }\r\n        if (!items.find(s => s.label == item.name)) {\r\n            items.push(new Breadcrumb({\r\n                label: item.name,\r\n                url: item.mainState ? `/${item.mainState}/${item.state}` : `${item.state}`\r\n            }));\r\n        }\r\n        if (callback) callback(items);\r\n        return items;\r\n    }\r\n\r\n    public retrieveParent(state: string, menuTabs: MenuTab[]): Breadcrumb {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].state == state) return new Breadcrumb({\r\n                        label: items[j].label,\r\n                        state: children[k].mainState,\r\n                        url: children[k].mainState ? `/${children[k].mainState}/${children[0].state}` : `${children[0].state}`\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public retrieveChild(state: string, menuTabs: MenuTab[]): Breadcrumb {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].mainState == state) {\r\n                        return new Breadcrumb({\r\n                            state: children[k].mainState,\r\n                            label: children[k].name,\r\n                            url: children[k].mainState\r\n                                ? `/${children[k].mainState}/${children[0].state}`\r\n                                : `/${children[0].state}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public retrieveStateName(state: string, menuTabs: MenuTab[]): string {\r\n        if (!menuTabs || menuTabs.length == 0) return;\r\n        for (let i = 0; i < menuTabs.length; i++) {\r\n            var items = menuTabs[i].items;\r\n            if (!items || items.length == 0) continue;\r\n            for (let j = 0; j < items.length; j++) {\r\n                var children = items[j].children;\r\n                if (!children || children.length == 0) return;\r\n                for (let k = 0; k < children.length; k++) {\r\n                    if (children[k].state == state) return children[k].name;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { AggregatorViewModel } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AggregatorService {\r\n    protected emitters: AggregatorViewModel[] = [];\r\n\r\n    public publish<T>(key: string, value?: T): void {\r\n        if (!key) return;\r\n        let currentEmitter = <AggregatorViewModel>this.emitters.find(s => s.key == key);\r\n        if (!currentEmitter) {\r\n            currentEmitter = new AggregatorViewModel({\r\n                value: this.register(key)\r\n            });\r\n        }\r\n        currentEmitter.value.emit(value);\r\n    }\r\n\r\n    public subscribe<T>(key: string, callback: (response: T) => void): void {\r\n        if (!key) return;\r\n        let index = this.emitters.findIndex(s => s.key == key);\r\n        if (index > -1) {\r\n            this.emitters.splice(index, 1);\r\n        }\r\n        var currentEmitter = new AggregatorViewModel({\r\n            value: this.register(key)\r\n        });\r\n        currentEmitter.value.subscribe((response: T) => {\r\n            callback(response);\r\n        });\r\n    }\r\n\r\n    public hasKey(key: string): boolean {\r\n        return this.emitters.findIndex(s => s.key == key) > -1;\r\n    }\r\n\r\n    private register(key: string): EventEmitter<any> {\r\n        var emitter = new AggregatorViewModel({\r\n            key: key,\r\n            value: new EventEmitter<any>()\r\n        });\r\n        this.emitters.push(emitter);\r\n        return emitter.value;\r\n    }\r\n}\r\n","import { Renderer2, Injectable, RendererFactory2, EventEmitter, Output } from '@angular/core';\r\nimport { ValidationOption, ClientValidator, ValidationConstant, SummaryError, ValidationRule, ChangedItem } from './validation.model';\r\nimport { Subscription, Observable, forkJoin, merge, of } from 'rxjs';\r\nimport { map, defaultIfEmpty, take } from 'rxjs/operators';\r\nimport { DataService } from '../services/data.service';\r\nimport { ValidationProvider } from './validation.provider';\r\nimport { ActionService } from '../services/action.service';\r\nimport { AggregatorService } from '../services/aggregator.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ValidationService {\r\n    @Output() public onDestroy: EventEmitter<void> = new EventEmitter();\r\n    private elements: Element[] = [];\r\n    private validator: ClientValidator;\r\n    private errClass: string = ValidationConstant.DefaultErrorClass;\r\n    private styles: string = ValidationConstant.DefaultErrorStyles;\r\n    private attributeName: string = ValidationConstant.AttributeName;\r\n    private renderer: Renderer2;\r\n    private relatedProviders: ValidationService[] = [];\r\n    private subscriptions: Subscription = new Subscription();\r\n    private virtualValidationOptions: ValidationOption[] = [];\r\n    private changedItems: ChangedItem[] = [];\r\n    private key: string;\r\n\r\n    constructor(\r\n        protected rendererFactory: RendererFactory2,\r\n        protected validationProvider: ValidationProvider,\r\n        private _dataService: DataService,\r\n        private _actionService: ActionService,\r\n        private _aggregatorService: AggregatorService\r\n    ) {\r\n        this.renderer = rendererFactory.createRenderer(null, null);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscriptions.unsubscribe();\r\n        this.onDestroy.emit();\r\n    }\r\n\r\n    public init(model: { validator: ClientValidator }): void {\r\n        this.validator = model.validator;\r\n        if (!this.validator.payloadRef) this.validator.payloadRef = () => { return {} };\r\n\r\n        if (this.validator.relatedValidationProviders) {\r\n            this.addRelatedProviders(this.validator.relatedValidationProviders);\r\n        }\r\n\r\n        this.validator.options.forEach(option => {\r\n            if (!option.displayText) option.displayText = option.validationName;\r\n            if (!option.payloadRef) option.payloadRef = this.validator.payloadRef;\r\n            option.rules.forEach(action => {\r\n                if (!action.id) action.id = this._dataService.newGuid();\r\n                if (!action.errorMessage) {\r\n                    switch (action.key) {\r\n                        case ValidationConstant.Required: {\r\n                            action.errorMessage = (element: Element, rowIndex: string) => {\r\n                                const displayingRowIndex = (+rowIndex + 1).toString();\r\n                                return `${option.displayText}${option.dynamic ? ' [' + displayingRowIndex + ']' : ''} ${this.validator.requiredMessage}`;\r\n                            };\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            action.errorMessage = () => `${option.displayText} ${this.validator.invalidMessage}`;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        this.virtualValidationOptions = this.validator.options.filter(x => x.dynamic);\r\n        this.updateAsync();\r\n    }\r\n\r\n    public setKey(key: string): void {\r\n        this.key = key;\r\n    }\r\n\r\n    public updateAsync(relatedProvidersToRegister?: ValidationService[], item?: any): void {\r\n        this._actionService.executeAsync(() => {\r\n            if (relatedProvidersToRegister && relatedProvidersToRegister.length) {\r\n                this.addRelatedProviders(relatedProvidersToRegister);\r\n            }\r\n            this.registerElements(item);\r\n            this.registerEvents();\r\n        });\r\n    }\r\n\r\n    public executeAsync(validCallback: (errors?: SummaryError[]) => any, invalidCallback?: (errors?: SummaryError[]) => any): Observable<boolean> {\r\n        this.retrieveSummaryErrors().subscribe((response) => {\r\n            if (!response || response.length == 0) {\r\n                if (validCallback) validCallback(response);\r\n                return of(true);\r\n            } else {\r\n                if (invalidCallback) invalidCallback(response);\r\n            }\r\n        });\r\n        return of(true);\r\n    }\r\n\r\n    public isValid(show: boolean = true, focus: boolean = true): boolean {\r\n        if (show) {\r\n            this.retrieveSummaryErrors().subscribe((errors: SummaryError[]) => {\r\n                this._aggregatorService.publish(this.key, errors);\r\n                if (focus) {\r\n                    if (errors && errors.length > 0) {\r\n                        var focusElement = errors[0];\r\n                        var el = <any>focusElement.element;\r\n                        if (el) {\r\n                            this._actionService.executeAsync(() => {\r\n                                el.focus();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        let valid = true;\r\n        if (this.validator.options) {\r\n            this.validator.options.forEach((option) => {\r\n                const payload = this.validator.payloadRef();\r\n                const fieldValue = option.valueResolver ? option.valueResolver(null, payload) : null;\r\n                if (option.rules) {\r\n                    option.rules.forEach((action) => {\r\n                        if (action.isValid != true) {\r\n                            if (action.isValid == false) {\r\n                                valid = false;\r\n                            } else {\r\n                                if (fieldValue) valid = false;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    public handleErrors(callback?: (response: SummaryError[]) => void): void {\r\n        this.retrieveSummaryErrors().subscribe((res) => {\r\n            if (callback) callback(res);\r\n        });\r\n    }\r\n\r\n    public commit(callback?: Function): Observable<boolean> {\r\n        return this.retrieveSummaryErrors().pipe(\r\n            map(errors => {\r\n                if (callback) callback(errors);\r\n                if (errors.length == 0) return true;\r\n                return false;\r\n            }), take(1));\r\n    }\r\n\r\n    public setElementError(element: Element, action: ValidationRule, option: ValidationOption): string {\r\n        if (!element) return;\r\n        this.renderer.removeClass(element, ValidationConstant.SuccessElementClass);\r\n        this.renderer.addClass(element, option.errorElementClass);\r\n        let errorElement = this.findErrorElement(element);\r\n        if (!errorElement) {\r\n            errorElement = this.renderer.createElement('ul');\r\n            this.renderer.setAttribute(errorElement, ValidationConstant.ERROR_ELEMENT_ID, `${this._dataService.newGuid()}`);\r\n            this.renderer.setAttribute(errorElement, 'style', this.styles);\r\n            this.renderer.addClass(errorElement, this.errClass);\r\n            this.renderer.addClass(errorElement, option.errorMessageClass);\r\n            const parentElement = this.renderer.parentNode(element);\r\n            this.renderer.appendChild(parentElement, errorElement);\r\n        }\r\n\r\n        const errorItemElementKey: string = `${action.id}`;\r\n        let errorItemElement = this.findErrorItemElement(errorElement, errorItemElementKey);\r\n        const dynamicSequenceId = this.findDynamicSequenceId(element);\r\n        const errorMessage = action.errorMessage(element, dynamicSequenceId);\r\n\r\n        if (!errorItemElement) {\r\n            errorItemElement = this.renderer.createElement('li');\r\n            this.renderer.setAttribute(errorItemElement, ValidationConstant.ERROR_ITEM_ELEMENT_ID, errorItemElementKey);\r\n            this.renderer.appendChild(errorItemElement, this.renderer.createText(errorMessage));\r\n\r\n            this.renderer.appendChild(errorElement, errorItemElement);\r\n        }\r\n        return errorMessage;\r\n    }\r\n\r\n    public clearErrorItemElement(element: any, action: ValidationRule) {\r\n        let errorElement = this.findErrorElement(element);\r\n        if (!errorElement) return;\r\n\r\n        const errorItemElementKey: string = `${action.id}`;\r\n        let errorItemElement = this.findErrorItemElement(errorElement, errorItemElementKey);\r\n        if (!errorItemElement) return;\r\n        this.renderer.removeChild(errorElement, errorItemElement);\r\n    }\r\n\r\n    public isDirty(callback?: (items: ChangedItem[]) => void): boolean {\r\n        if (!this.changedItems || this.changedItems.length == 0) return false;\r\n        var response = this.changedItems.filter(s => s.change);\r\n        if (callback) callback(response);\r\n        return response.length > 0;\r\n    }\r\n\r\n    public syncErrorMessages(element: any, option: ValidationOption): SummaryError | null {\r\n        let errorMessages: string[] = [];\r\n        option.rules.forEach(action => {\r\n            if (action.isValid) {\r\n                this.clearErrorItemElement(element, action);\r\n            } else {\r\n                const errorMessage = this.setElementError(element, action, option);\r\n                errorMessages.push(errorMessage);\r\n            }\r\n        });\r\n\r\n        const invalidActions = option.rules.filter(x => !x.isValid);\r\n        if (invalidActions.length === 0) {\r\n            this.renderer.removeClass(element, option.errorElementClass);\r\n            this.renderer.removeClass(element, option.successElementClass);\r\n            return null;\r\n        }\r\n\r\n        return {\r\n            element: element,\r\n            messages: errorMessages\r\n        }\r\n    }\r\n\r\n    public validateElementAsync(element: any, option: ValidationOption): Observable<SummaryError[]> {\r\n        const errors$ = [this.validateElement(element, option).pipe(\r\n            map(newOption => option = newOption),\r\n            map(option => this.syncErrorMessages(element, option)),\r\n        )];\r\n\r\n        const errorBatch = forkJoin(errors$);\r\n        const relatedErrors = <Observable<SummaryError[]>>this.relatedProviders.reduce((previous: Observable<SummaryError[]>, provider: ValidationService) => {\r\n            const subErrors$ = provider.retrieveSummaryErrors();\r\n            return merge(previous, subErrors$);\r\n        }, of([]));\r\n\r\n        return forkJoin(errorBatch, relatedErrors).pipe(\r\n            defaultIfEmpty([[], []]),\r\n            map(value => [...value[0], ...value[1]]),\r\n            map(result => [].concat(result.filter(error => error))),\r\n        );\r\n    }\r\n\r\n    public validateElement(element: any, option: ValidationOption, all: boolean = false): Observable<ValidationOption> {\r\n        const payload = this.validator.payloadRef();\r\n        const fieldValue = option.valueResolver ? option.valueResolver(option.itemRef, payload) : null;\r\n        const validatedActions$ = option.rules.map(action => {\r\n            switch (action.key) {\r\n                case ValidationConstant.Required: {\r\n                    return this.validationProvider.required(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Email: {\r\n                    return this.validationProvider.email(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Phone: {\r\n                    return this.validationProvider.phone(fieldValue).pipe(map(isValid => {\r\n                        action.isValid = isValid;\r\n                        return action;\r\n                    }));\r\n                }\r\n                case ValidationConstant.Custom: {\r\n                    if (!action.execute) throw new Error('!action.execute');\r\n                    if (!all && !action.required) {\r\n                        if (!fieldValue) {\r\n                            action.isValid = true;\r\n                            return of(action);\r\n                        } else {\r\n                            var requiredRule = option.rules.find(s => s.key == ValidationConstant.Required);\r\n                            if (requiredRule) {\r\n                                requiredRule.isValid = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    const sequenceId = this.findDynamicSequenceId(element);\r\n                    return action.execute(fieldValue, payload, +sequenceId)\r\n                        .pipe(map(response => {\r\n                            if (response) {\r\n                                action.isValid = response.status;\r\n                                if (response.message) action.errorMessage = () => { return response.message; };\r\n                            }\r\n                            return action;\r\n                        }));\r\n                }\r\n                default: throw new Error(`Unhandled action: ${action.key}`);\r\n            }\r\n        });\r\n\r\n        return forkJoin(validatedActions$).pipe(\r\n            take(1),\r\n            map(validatedActions => {\r\n                if (option.relevantFields) this.validateRelevantFields(option.relevantFields(payload));\r\n                option.rules = validatedActions;\r\n                return option;\r\n            }),\r\n        );\r\n    }\r\n\r\n    private validateRelevantFields(relevantFields?: string[]): void {\r\n        if (!relevantFields || relevantFields.length == 0) return;\r\n        if (relevantFields && relevantFields.length > 0) {\r\n            relevantFields.forEach(item => {\r\n                for (let i = 0; i < this.elements.length; i++) {\r\n                    var attributes = this.elements[i].attributes;\r\n                    if (attributes && attributes.length > 0) {\r\n                        if (attributes[this.attributeName].value == item) {\r\n                            var option = this.findElementOption(this.elements[i]);\r\n                            if (option) {\r\n                                this.validateElement(this.elements[i], option, true).pipe(\r\n                                    map(newOption => option = newOption),\r\n                                    map(option => this.syncErrorMessages(this.elements[i], option)),\r\n                                ).subscribe();\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private retrieveSummaryErrors(): Observable<SummaryError[]> {\r\n        const errors$ = this.elements.map(element => {\r\n            let validationOption = this.findElementOption(element);\r\n            if (!validationOption) return;\r\n\r\n            return this.validateElement(element, validationOption).pipe(\r\n                map(newOption => validationOption = newOption),\r\n                map(option => this.syncErrorMessages(element, option)),\r\n            );\r\n        });\r\n\r\n        const errorBatch = forkJoin(errors$);\r\n        const relatedErrors = <Observable<SummaryError[]>>this.relatedProviders.reduce((previous: Observable<SummaryError[]>, provider: ValidationService) => {\r\n            const subErrors$ = provider.retrieveSummaryErrors();\r\n            return merge(previous, subErrors$);\r\n        }, of([]));\r\n\r\n        return forkJoin(errorBatch, relatedErrors).pipe(\r\n            defaultIfEmpty([[], []]),\r\n            map(value => [...value[0], ...value[1]]),\r\n            map(result => [].concat(result.filter(error => error))),\r\n        );\r\n    }\r\n\r\n    private findElementOption(element: Element): ValidationOption | null {\r\n        const validationIdAttribute = element.attributes[ValidationConstant.VALIDATION_ID];\r\n        if (!validationIdAttribute) return null;\r\n\r\n        const validationId = validationIdAttribute.value;\r\n        if (!validationId) return null;\r\n        return this.validator.options.find(option => option.validationId === validationId);\r\n    }\r\n\r\n    private findErrorItemElement(errorElement: any, key: string): any | null {\r\n        const children = <Element[]>Array.from(errorElement.children);\r\n        return children\r\n            .filter(x => x.attributes[ValidationConstant.ERROR_ITEM_ELEMENT_ID])\r\n            .find(x => x.attributes[ValidationConstant.ERROR_ITEM_ELEMENT_ID].value === key);\r\n    }\r\n\r\n    private findDynamicSequenceId(element: Element): string | null {\r\n        const sequenceIdAttribute = element.attributes[ValidationConstant.ARRAY_SEQUENCE_ID];\r\n        if (!sequenceIdAttribute) return null;\r\n\r\n        const sequenceId = sequenceIdAttribute.value;\r\n        if (!sequenceId) return null;\r\n        return sequenceId;\r\n    }\r\n\r\n    private findErrorElement(element: Element): Element {\r\n        if (element.parentElement && element.parentElement.children) {\r\n            const slibings = <Element[]>Array.from(element.parentElement.children);\r\n            let result = slibings.filter(x => x.attributes).find(x => x.attributes[ValidationConstant.ERROR_ELEMENT_ID]);\r\n            return result;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private registerElements(item?: any): void {\r\n        const nonDynamicOptions = this.validator.options.filter(x => !x.dynamic);\r\n        const nonDynamicElements = nonDynamicOptions.reduce((previous: Element[], current: ValidationOption) => {\r\n            let query = `*[${this.attributeName}=\"${current.validationName}\"]`;\r\n            if (this.validator.scope) {\r\n                query += `[scope=\"${this.validator.scope}\"]`;\r\n            }\r\n            const elements = <Element[]>Array.from(this.validator.formRef.nativeElement.querySelectorAll(query));\r\n            elements.forEach(element => {\r\n                const validationId = this._dataService.newGuid();\r\n                this.renderer.setAttribute(element, ValidationConstant.VALIDATION_ID, validationId);\r\n                current.validationId = validationId;\r\n            });\r\n            return previous.concat(elements);\r\n        }, []);\r\n\r\n        let generatedDynamicOptions = [];\r\n        let dynamicElements = [];\r\n        this.validator.options = this.validator.options.filter(x => !x.dynamic);\r\n        this.virtualValidationOptions.forEach((current: ValidationOption) => {\r\n            let query = `*[${this.attributeName}=\"${current.validationName}\"]`;\r\n            if (this.validator.scope) {\r\n                query += `[scope=\"${this.validator.scope}\"]`;\r\n            }\r\n            const elements = Array.from(this.validator.formRef.nativeElement.querySelectorAll(query));\r\n            const clonedOptions = elements.map((element, index) => {\r\n                const validationId = this._dataService.newGuid();\r\n                this.renderer.setAttribute(element, ValidationConstant.VALIDATION_ID, validationId);\r\n                this.renderer.setAttribute(element, ValidationConstant.ARRAY_SEQUENCE_ID, index.toString());\r\n                return {\r\n                    ...current,\r\n                    validationId: validationId,\r\n                    itemRef: item,\r\n                    valueResolver: current.valueResolver\r\n                        ? (payload: any) => current.valueResolver(item, payload, index)\r\n                        : () => { return (<any>element).value; }\r\n                };\r\n            });\r\n            dynamicElements.push(...elements);\r\n            generatedDynamicOptions.push(...clonedOptions);\r\n        });\r\n\r\n        this.validator.options = nonDynamicOptions.concat(generatedDynamicOptions);\r\n        this.elements = nonDynamicElements.concat(dynamicElements);\r\n\r\n        if (this.elements) {\r\n            this.changedItems = [];\r\n            this.elements.forEach((element) => {\r\n                const payload = this.validator.payloadRef();\r\n                let elementOption = this.findElementOption(element);\r\n                this.changedItems.push(new ChangedItem({\r\n                    id: elementOption.validationId,\r\n                    field: elementOption.validationName,\r\n                    oldValue: elementOption.valueResolver ? elementOption.valueResolver(null, payload) : null\r\n                }));\r\n            });\r\n        }\r\n    }\r\n\r\n    private registerEvents(): void {\r\n        this.elements.filter(element => element.attributes[this.attributeName]).forEach((element: any) => {\r\n            if (!element.focusoutListener) {\r\n                element.focusoutListener = this.renderer.listen(element, 'focusout', () => {\r\n                    this.handleBlurEvent(element);\r\n                });\r\n                element.focusoutListener = this.renderer.listen(element, 'change', ($event) => {\r\n                    const payload = this.validator.payloadRef();\r\n                    let elementOption = this.findElementOption(element);\r\n                    var value = elementOption.valueResolver ? elementOption.valueResolver(null, payload) : null;\r\n                    if (elementOption && elementOption.dirtyCheck) {\r\n                        var currentItem = this.changedItems.find(s => s.id == elementOption.validationId);\r\n                        if (!currentItem) {\r\n                            this.changedItems.push(new ChangedItem({\r\n                                id: elementOption.validationId,\r\n                                field: elementOption.validationName,\r\n                                value: value,\r\n                                change: true\r\n                            }));\r\n                        } else {\r\n                            currentItem.value = value;\r\n                            if (currentItem.oldValue == undefined || currentItem.oldValue == '') {\r\n                                if (value == undefined || value == '') {\r\n                                    currentItem.change = false;\r\n                                } else {\r\n                                    currentItem.change = true;\r\n                                }\r\n                            } else {\r\n                                if (value == undefined || value == '') {\r\n                                    currentItem.change = true;\r\n                                } else {\r\n                                    if (currentItem.oldValue.toString() != currentItem.value.toString()) {\r\n                                        currentItem.change = true;\r\n\r\n                                    } else {\r\n                                        currentItem.change = false;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (elementOption && elementOption.rules) {\r\n                        elementOption.rules.forEach((rule) => {\r\n                            rule.isValid = false;\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private handleBlurEvent(element: any): void {\r\n        let elementOption = this.findElementOption(element);\r\n        if (!elementOption) throw new Error('!elementOption');\r\n\r\n        this.validateElement(element, elementOption).pipe(take(1)).subscribe(newOption => {\r\n            elementOption = newOption;\r\n            this.syncErrorMessages(element, elementOption);\r\n        });\r\n    }\r\n\r\n    private addRelatedProviders(providers: ValidationService[]): void {\r\n        let newProviders = providers.filter(x => this.relatedProviders.indexOf(x) < 0);\r\n        newProviders.forEach(provider =>\r\n            provider.onDestroy.subscribe(() => {\r\n                this.relatedProviders = this.relatedProviders.filter(() => this.relatedProviders.indexOf(provider) < 0);\r\n            }));\r\n        this.relatedProviders.push(...newProviders);\r\n    }\r\n}","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { ValidationService } from './validation.service';\r\nimport { ValidationProvider } from './validation.provider';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: []\r\n})\r\n\r\nexport class ValidationModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: ValidationModule,\r\n      providers: [\r\n        ValidationService,\r\n        ValidationProvider\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { BaseResponse, SearchBaseRequest } from './base.model';\r\n\r\nexport class SettingItemViewModel {\r\n    key: string;\r\n    value: string\r\n}\r\n\r\nexport class SettingSearchRequest extends SearchBaseRequest {\r\n}\r\n\r\nexport class SettingSearchResponse extends BaseResponse<SettingItemViewModel> {\r\n}","import { KeyValueItem } from './base.model';\r\n\r\nexport interface BaseSearchRequest {\r\n  searchText: string;\r\n  orderBy: string;\r\n  direction: string;\r\n  createdBy: string;\r\n  pageIndex: number;\r\n  pageSize: number;\r\n}\r\n\r\nexport interface BaseSearchResponse<T> {\r\n  items: T[];\r\n  totalRecords: number;\r\n}\r\n\r\nexport class GetLookupItemsRequest {\r\n  public params: string;\r\n  constructor(init?: Partial<GetLookupItemsRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class GetLookupItemsResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  item: any;\r\n  constructor(init?: Partial<GetLookupItemsResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendNotificationRequest {\r\n  notificationTypes: string[] = [];\r\n  payloadItems: KeyValueItem[] = [];\r\n  templateCode: string;\r\n  recipients: string[] = [];\r\n  fromAbiding: boolean;\r\n  constructor(init?: Partial<SendNotificationRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendNotificationResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<SendNotificationResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationType {\r\n  public static Email: string = 'Email';\r\n  public static Sms: string = 'Sms';\r\n  public static Local: string = 'Local';\r\n}\r\n\r\nexport class EditNotificationThreadViewModel {\r\n  id: string;\r\n  hasRead: boolean;\r\n  detailGroups: NotificationDetailGroup[] = [];\r\n  constructor(init?: Partial<EditNotificationThreadViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationDetailGroup {\r\n  details: NotificationDetail[] = [];\r\n  date: Date;\r\n  constructor(init?: Partial<NotificationDetailGroup>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationDetail {\r\n  description: string;\r\n  title: string;\r\n  time: Date;\r\n  code: string;\r\n  id: string;\r\n  hasRead: boolean;\r\n  payload: any;\r\n  constructor(init?: Partial<NotificationDetail>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationThreadRequest {\r\n  id: string;\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  constructor(init?: Partial<RetrieveNotificationThreadRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationThreadResponse {\r\n  message: string;\r\n  item: EditNotificationThreadViewModel;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RetrieveNotificationThreadResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationTemplateVariable {\r\n  public static OrderIdentifier: string = 'OrderIdentifier';\r\n  public static PendingApprovalProductsCount: string = 'PendingApprovalProductsCount';\r\n  public static SuppliersCount: string = 'SuppliersCount';\r\n  public static PendingInquiriesCount: string = 'PendingInquiriesCount';\r\n  public static BuyerName: string = 'BuyerName';\r\n  public static ProductName: string = 'ProductName';\r\n}\r\n\r\nexport class RegisterChannelRequest {\r\n  constructor(init?: Partial<RegisterChannelRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RegisterChannelResponse {\r\n  message: string;\r\n  id: string; success: boolean;\r\n  constructor(init?: Partial<RegisterChannelResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SendLiveNotificationRequest {\r\n  message: string;\r\n  recipients: string[] = [];\r\n  constructor(init?: Partial<SendLiveNotificationRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailRequest {\r\n  id: string;\r\n  groupType: string;\r\n  dateGroup: Date;\r\n  details: string[];\r\n  constructor(init?: Partial<RemoveNotificationDetailRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RemoveNotificationDetailResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RemoveNotificationDetailGroupType {\r\n  public static All: string = 'All';\r\n  public static GroupByDate: string = 'GroupByDate';\r\n  public static Single: string = 'Single';\r\n}\r\n\r\nexport class RetrieveNotificationDetailRequest {\r\n  id: string;\r\n  userId: string;\r\n  constructor(init?: Partial<RetrieveNotificationDetailRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class RetrieveNotificationDetailResponse {\r\n  message: string;\r\n  item: NotificationDetail;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<RetrieveNotificationDetailResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SearchInboxNotificationsRequest implements BaseSearchRequest {\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  searchText: string;\r\n  orderBy: string;\r\n  direction: string;\r\n  createdBy: string;\r\n  userId: string;\r\n  fromAbiding: boolean;\r\n  constructor(init?: Partial<SearchInboxNotificationsRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class SearchInboxNotificationsResponse implements BaseSearchResponse<NotificationDetailGroup> {\r\n  message: string;\r\n  items: NotificationDetailGroup[];\r\n  totalPendingRecords: number;\r\n  totalRecords: number;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<SearchInboxNotificationsResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class MarkAllNotificationsReadRequest {\r\n  id: string;\r\n  constructor(init?: Partial<MarkAllNotificationsReadRequest>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class MarkAllNotificationsReadResponse {\r\n  message: string;\r\n  success: boolean;\r\n  id: string;\r\n  constructor(init?: Partial<MarkAllNotificationsReadResponse>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n","import { BaseTemplate } from '../models';\r\n\r\nexport class LoadingViewModel {\r\n  threshold: number = 250;\r\n  timeout: number = 999999;\r\n  template?: string;\r\n  loadingText?: string;\r\n  constructor(init?: Partial<LoadingViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class NotificationViewModel {\r\n  center?: boolean;\r\n  title?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  message?: string;\r\n  btnTitle?: string;\r\n  callback?: (close: () => any) => any;\r\n  autoClose?: boolean;\r\n  constructor(init?: Partial<NotificationViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ConfirmViewModel {\r\n  center?: boolean;\r\n  title?: string;\r\n  icon?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  message?: string;\r\n  isDeleted?: boolean;\r\n  btnAcceptTitle?: string;\r\n  btnCancelTitle?: string;\r\n  autoClose?: boolean;\r\n  acceptCallback?: (close: () => any) => any;\r\n  cancelCallback?: (close: () => any) => any;\r\n  constructor(init?: Partial<ConfirmViewModel>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TemplateViewModel extends BaseTemplate {\r\n  center?: boolean;\r\n  title?: string;\r\n  mode?: string;\r\n  customSize?: string;\r\n  ignoreBackdropClick?: boolean;\r\n  request?: any;\r\n  icon?: string;\r\n  btnAcceptTitle?: string;\r\n  btnCancelTitle?: string;\r\n  autoClose?: boolean;\r\n  acceptCallback?: (response?: any, close?: () => any, provider?: any, ) => any;\r\n  cancelCallback?: (response?: any, close?: () => any, provider?: any) => any;\r\n  constructor(init?: Partial<TemplateViewModel>) {\r\n    super();\r\n    Object.assign(this, init);\r\n  }\r\n}","export class ModalServiceConstant {\r\n  public static Mode = {\r\n    Create: 'Create',\r\n    Update: 'Update',\r\n    Picker: 'Picker',\r\n    Delete: 'Delete',\r\n    Custom: 'Custom'\r\n  };\r\n}","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { NotificationViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-notification',\r\n    templateUrl: './notification.component.html',\r\n    styleUrls: ['./notification.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class NotificationComponent {\r\n    public data: NotificationViewModel;\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.callback) {\r\n            this.data.callback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n}\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { ConfirmViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-confirm',\r\n    templateUrl: './confirm.component.html',\r\n    styleUrls: ['./confirm.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class ConfirmComponent {\r\n    public data: ConfirmViewModel;\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.cancelCallback) {\r\n            this.data.cancelCallback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n\r\n    public accept() {\r\n        if (this.data.acceptCallback) {\r\n            this.data.acceptCallback(() => {\r\n                this._modalRef.hide();\r\n            });\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n}\r\n","import { Observable, of } from 'rxjs';\r\nimport { delay } from 'rxjs/operators';\r\n\r\nexport class MockService {\r\n    public verify<T>(callback: Observable<T>, response?: T): Observable<T> {\r\n        var mock = this.useMock();\r\n        if (mock) return of(response ? response : {} as T).pipe(delay(500));\r\n        return callback;\r\n    }\r\n\r\n    private useMock(): boolean {\r\n        var currentValue = JSON.parse(window.localStorage.getItem('mock'));\r\n        if (!currentValue) return false;\r\n        return currentValue;\r\n    }\r\n}","import { Injectable, OnInit } from \"@angular/core\";\r\nimport { MenuKey } from '../constants/menu.const';\r\nimport { MenuTab, ExtendedMainMenuGroup, MenuItem } from '../models/base.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MenuService {\r\n    public tabs: { name: string, menu: string, subName: string, items: ExtendedMainMenuGroup[] }[] = [];\r\n    public currentSupporterId: string;\r\n    public currentSelectedSupplierName: string;\r\n    public currentSelectedSupplierId: string;\r\n\r\n    public init(menuTabs: MenuTab[], callback: () => any, set: (role: string) => MenuItem): void {\r\n        let menuTabbedItems = menuTabs;\r\n        this.tabs = menuTabbedItems.reduce((result, current) => {\r\n            let item = set\r\n                ? set(current.role)\r\n                : new MenuItem({\r\n                    menu: current.role,\r\n                    items: current.items,\r\n                    subName: current.role,\r\n                    name: current.role\r\n                });\r\n            if (item.name) {\r\n                result.push(item);\r\n            }\r\n            return result;\r\n        }, []);\r\n        if (!this.tabs || !this.tabs[0]) {\r\n            this.tabs = [];\r\n        }\r\n        if (callback) callback();\r\n    }\r\n\r\n    public loadMenuItems(menu?: string) {\r\n        if (!menu) {\r\n            return this.tabs.reduce((result, current) => {\r\n                result.push(...current.items);\r\n                return result;\r\n            }, []);\r\n        }\r\n        const tab = this.tabs.find(x => x.menu === menu);\r\n        if (!tab) {\r\n            return;\r\n        }\r\n        return tab.items;\r\n    }\r\n\r\n    public loadFirstTabItems(key: string) {\r\n        let currentMenu = this.tabs.find(s => s.menu.toLowerCase() == key.toLowerCase());\r\n        if (!currentMenu) {\r\n            return [];\r\n        }\r\n        return currentMenu.items;\r\n    }\r\n\r\n    public loadFirstTab() {\r\n        return this.tabs[0];\r\n    }\r\n\r\n    public getTabs() {\r\n        return this.tabs;\r\n    }\r\n}","import * as _ from 'lodash';\r\nimport { Injectable } from '@angular/core';\r\nimport { ObjectChange } from '../models/base.model';\r\nimport { ChangeType } from '../enums/base.enum';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UtilityService {\r\n    public getField(valueRef: string, lowerCase?: boolean): string {\r\n        if (!valueRef) {\r\n            return '';\r\n        }\r\n        if (!lowerCase) {\r\n            return valueRef[0].toString().toUpperCase() + valueRef.substring(1, valueRef.length);\r\n        } else {\r\n            return valueRef[0].toString().toLowerCase() + valueRef.substring(1, valueRef.length);\r\n        }\r\n    }\r\n\r\n    public toPascalCase(text: string, lowerCase?: boolean): string {\r\n        if (!text) {\r\n            return '';\r\n        }\r\n        if (!lowerCase) {\r\n            return text[0].toString().toUpperCase() + text.substring(1, text.length);\r\n        } else {\r\n            return text[0].toString().toLowerCase() + text.substring(1, text.length);\r\n        }\r\n    }\r\n\r\n    public compareObjects(source: any, target: any): ObjectChange[] {\r\n        let changes: ObjectChange[] = [];\r\n        const sourceProperties = Object.getOwnPropertyNames(source);\r\n        const targetProperties = Object.getOwnPropertyNames(target);\r\n        const addedProperties = targetProperties.filter(x => sourceProperties.indexOf(x) < 0);\r\n        const removedProperties = sourceProperties.filter(x => targetProperties.indexOf(x) < 0);\r\n        const modifiedProperties = sourceProperties.filter(x => removedProperties.indexOf(x) < 0);\r\n\r\n        for (let property of modifiedProperties) {\r\n            if (!_.isEqual(source[property], target[property])) {\r\n                changes.push(new ObjectChange({\r\n                    propertyName: property,\r\n                    changeType: ChangeType.Update,\r\n                    oldValue: source[property],\r\n                    newValue: target[property]\r\n                }));\r\n            }\r\n        }\r\n\r\n        changes.push(...addedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Add,\r\n            oldValue: target[x],\r\n            newValue: target[x]\r\n        })));\r\n\r\n        changes.push(...removedProperties.map(x => new ObjectChange({\r\n            propertyName: x,\r\n            changeType: ChangeType.Delete,\r\n            oldValue: source[x],\r\n            newValue: source[x]\r\n        })));\r\n        \r\n        return changes;\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  SendNotificationRequest,\r\n  SendNotificationResponse,\r\n  RetrieveNotificationThreadRequest,\r\n  RetrieveNotificationThreadResponse,\r\n  SearchInboxNotificationsRequest,\r\n  SearchInboxNotificationsResponse,\r\n  RemoveNotificationDetailRequest,\r\n  RemoveNotificationDetailResponse,\r\n  RetrieveNotificationDetailRequest,\r\n  RetrieveNotificationDetailResponse,\r\n  MarkAllNotificationsReadRequest,\r\n  MarkAllNotificationsReadResponse,\r\n  NotificationDetail\r\n} from '../models/notification.model';\r\n\r\n@Injectable()\r\nexport abstract class BaseNotificationService {\r\n  public abstract success(message: string, title?: string): void;\r\n  public abstract error(message: string, title?: string): void;\r\n  public abstract info(message: string, title?: string): void;\r\n  public abstract warning(message: string, title?: string): void;\r\n  public abstract send(request: SendNotificationRequest): Observable<SendNotificationResponse>;\r\n  public abstract retrieveNotificationThread(request: RetrieveNotificationThreadRequest): Observable<RetrieveNotificationThreadResponse>;\r\n  public abstract searchNotificationDetails(request: SearchInboxNotificationsRequest): Observable<SearchInboxNotificationsResponse>;\r\n  public abstract removeNotificationDetail(request: RemoveNotificationDetailRequest): Observable<RemoveNotificationDetailResponse>;\r\n  public abstract retrieveNotificationDetail(request: RetrieveNotificationDetailRequest): Observable<RetrieveNotificationDetailResponse>;\r\n  public abstract markAllRead(request: MarkAllNotificationsReadRequest): Observable<MarkAllNotificationsReadResponse>;\r\n  public abstract registerConnection();\r\n  public abstract redirect(detail: NotificationDetail): void;\r\n}\r\n","import {\r\n  Component,\r\n  AfterViewInit,\r\n  Type,\r\n  ComponentFactoryResolver,\r\n  ViewContainerRef,\r\n  Input,\r\n  EmbeddedViewRef,\r\n  ViewChild,\r\n  ElementRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ActionService } from '../services';\r\n\r\n@Component({\r\n  selector: 'katana-loader',\r\n  templateUrl: 'loader.component.html',\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class LoaderComponent implements AfterViewInit {\r\n  @Input() public template: Type<any>;\r\n  @Input() public data: any;\r\n  @ViewChild('containerRef', { static: true }) public containerRef: ElementRef;\r\n  public componentRef: any;\r\n\r\n  constructor(\r\n    private _componentFactoryResolver: ComponentFactoryResolver,\r\n    private _actionService: ActionService,\r\n    private _viewContainerRef: ViewContainerRef) {\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    this.createComponent();\r\n  }\r\n\r\n  private createComponent() {\r\n    this._viewContainerRef.clear();\r\n    this._actionService.executeAsync(() => {\r\n      const factory = this._componentFactoryResolver.resolveComponentFactory(this.template);\r\n      this.componentRef = this._viewContainerRef.createComponent(factory);\r\n      if (this.data) {\r\n        const fields = Object.keys(this.data);\r\n        if (fields) {\r\n          fields.forEach((field) => {\r\n            this.componentRef.instance[field] = this.data[field];\r\n          });\r\n        }\r\n      }\r\n      if (this.componentRef.instance.init) {\r\n        this.componentRef.instance.init();\r\n      }\r\n      const element = (this.componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n      this.containerRef.nativeElement.appendChild(element);\r\n    });\r\n  }\r\n}","import { Component, ViewEncapsulation, ViewChild } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { TemplateViewModel } from '../../modal.model';\r\nimport { LoaderComponent } from '../../../loader/loader.component';\r\nimport { AggregatorService } from '../../../services/aggregator.service';\r\nimport { ValidationService } from '../../../validation/validation.service';\r\nimport { SummaryError } from '../../../validation/validation.model';\r\n\r\n@Component({\r\n    selector: 'katana-template',\r\n    templateUrl: './template.component.html',\r\n    styleUrls: ['./template.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class TemplateComponent {\r\n    @ViewChild('loader', { static: false }) public loader: LoaderComponent;\r\n    public data: TemplateViewModel;\r\n    protected close: Function;\r\n    protected key: string;\r\n\r\n    constructor(\r\n        private _sanitizationService: DomSanitizer,\r\n        private _aggregatorService: AggregatorService,\r\n        public _modalRef: BsModalRef) {\r\n    }\r\n\r\n    public bypassSecurityTrustHtml(html: string): SafeHtml {\r\n        return this._sanitizationService.bypassSecurityTrustHtml(html);\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.data.cancelCallback) {\r\n            this.data.cancelCallback(null, () => {\r\n                this._modalRef.hide();\r\n            }, this.loader.componentRef.instance);\r\n        } else {\r\n            this._modalRef.hide();\r\n        }\r\n        if (this.data.autoClose != false) {\r\n            this._modalRef.hide();\r\n        }\r\n    }\r\n\r\n    public accept(close) {\r\n        this.close = close;\r\n        this.setKey(() => {\r\n            this.isValid();\r\n        });\r\n    }\r\n\r\n    public show(): boolean {\r\n        if (this.loader && this.loader.componentRef && this.loader.componentRef.instance) {\r\n            return this.loader.componentRef.instance.show();\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public isValid(): boolean {\r\n        if (this.loader && this.loader.componentRef && this.loader.componentRef.instance && this.loader.componentRef.instance.isValid) {\r\n            return this.loader.componentRef.instance.isValid();\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public setKey(callback: () => any): void {\r\n        if (this.loader && this.loader.componentRef && this.loader.componentRef.instance && this.loader.componentRef.instance.getValidator) {\r\n            var validator = <ValidationService>this.loader.componentRef.instance.getValidator();\r\n            this.key = this.data.validationKey;\r\n            if (validator) validator.setKey(this.key);\r\n            this._aggregatorService.subscribe(this.key, (errors: SummaryError[]) => {\r\n                this.close();\r\n                if (!errors || errors.length == 0) {\r\n                    if (this.data.acceptCallback) {\r\n                        this._modalRef.hide();\r\n                        this.loader.componentRef.instance.callback(this.data.mode).subscribe((response) => {\r\n                            this.data.acceptCallback(response, () => {\r\n                                this._modalRef.hide();\r\n                            }, this.loader.componentRef.instance);\r\n                        });\r\n                    } else {\r\n                        this._modalRef.hide();\r\n                    }\r\n                    if (this.data.autoClose != false) {\r\n                        this._modalRef.hide();\r\n                    }\r\n                }\r\n            });\r\n            if (callback) callback();\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap';\r\nimport { NotificationViewModel, TemplateViewModel, ConfirmViewModel } from './modal.model';\r\nimport { NotificationComponent } from './components/notification/notification.component';\r\nimport { ConfirmComponent } from './components/confirm/confirm.component';\r\nimport { TemplateComponent } from './components/template/template.component';\r\nimport { Ng4LoadingSpinnerService } from 'ng4-loading-spinner';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ModalService {\r\n  private _modalInstance: BsModalRef;\r\n  constructor(\r\n    private _bsModalService: BsModalService,\r\n    private Ng4LoadingSpinnerService: Ng4LoadingSpinnerService\r\n  ) { }\r\n\r\n  public showLoading(): void {\r\n    this.Ng4LoadingSpinnerService.show();\r\n  }\r\n\r\n  public hideLoading(): void {\r\n    this.Ng4LoadingSpinnerService.hide();\r\n  }\r\n\r\n  public showNotificationDialog(data: NotificationViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(NotificationComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n\r\n  public showConfirmDialog(data: ConfirmViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(ConfirmComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n\r\n  public showTemplateDialog(data: TemplateViewModel): void {\r\n    var customCss = data.customSize + (data.center ? ' modal-dialog-centered modal-xlg' : '');\r\n    this._modalInstance = this._bsModalService.show(TemplateComponent, {\r\n      backdrop: 'static',\r\n      class: customCss,\r\n      keyboard: false,\r\n      ignoreBackdropClick: data.ignoreBackdropClick,\r\n      animated: true\r\n    });\r\n    this._modalInstance.content.data = data;\r\n  }\r\n}\r\n","import { Component, ViewEncapsulation, Input, OnInit } from '@angular/core';\r\nimport { LoadingViewModel } from '../../modal.model';\r\n\r\n@Component({\r\n    selector: 'katana-loading',\r\n    templateUrl: './loading.component.html',\r\n    styleUrls: ['./loading.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class LoadingComponent implements OnInit {\r\n    @Input() public option: LoadingViewModel;\r\n\r\n    ngOnInit(): void {\r\n        if (!this.option) this.option = new LoadingViewModel();\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'html'\r\n})\r\nexport class HtmlPipe implements PipeTransform {\r\n  constructor(private _sanitizer: DomSanitizer) {\r\n  }\r\n\r\n  public transform(v: string): SafeHtml {\r\n    return this._sanitizer.bypassSecurityTrustHtml(v);\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { LoaderComponent } from './loader.component';\r\nimport { HtmlPipe } from './html.pipe';\r\n\r\nconst declarations = [\r\n  LoaderComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: [declarations, ...[HtmlPipe]],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class LoaderModule { }","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-button',\r\n  templateUrl: './button.component.html',\r\n  styleUrls: ['./button.component.scss']\r\n})\r\n\r\nexport class ButtonComponent implements OnInit {\r\n  @Input() public title: string;\r\n  @Input() public customClass: 'default' | 'success' | 'warning' | 'danger' | 'link' | 'info' | 'inverse' | 'primary' | 'outline-primary' | 'outline-inverse' = 'default';\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public icon: string;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public tooltip: string;\r\n  @Output() public execute: EventEmitter<any> = new EventEmitter();\r\n  public loading: boolean = false;\r\n\r\n  ngOnInit() { }\r\n\r\n  public handleAction($event): void {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n\r\n  public retrieveButtonClass(): string {\r\n    if (this.customClass) return `btn-${this.customClass}`;\r\n    return 'btn-default';\r\n  }\r\n}\r\n","import { Component, ViewChild, TemplateRef, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-dropdown-button',\r\n  templateUrl: './dropdown-button.component.html',\r\n  styleUrls: ['./dropdown-button.component.scss']\r\n})\r\n\r\nexport class DropdownButtonComponent {\r\n  @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n  @Input() public title: string;\r\n  @Input() public disabled: boolean;\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public customClass: string;\r\n  @Input() public icon: string;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Output() public execute: EventEmitter<Function> = new EventEmitter();\r\n  public loading: boolean;\r\n\r\n  public handleAction($event) {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, ContentChildren } from '@angular/core';\r\nimport { DropdownButtonComponent } from './dropdown-button.component';\r\n\r\n@Component({\r\n  selector: 'katana-dropdown-buttons',\r\n  templateUrl: './dropdown-buttons.component.html',\r\n  styleUrls: ['./dropdown-buttons.component.scss']\r\n})\r\n\r\nexport class DropdownButtonsComponent {\r\n  @Input() public title: string;\r\n  @Input() public customClass: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public icon: string;\r\n  @Input() public lazyload: boolean = false;\r\n  @Input() public loadingIcon: string = 'fa fa-spinner icon-loader';\r\n  @Output() public execute: EventEmitter<any> = new EventEmitter();\r\n  @ContentChildren(DropdownButtonComponent) public items: DropdownButtonComponent[];\r\n  public loading: boolean;\r\n\r\n  public handleAction($event) {\r\n    if (this.loading) {\r\n      $event.preventdefault();\r\n      return;\r\n    };\r\n\r\n    if (this.lazyload) {\r\n      this.loading = true;\r\n      this.execute.emit(() => { this.loading = false; });\r\n    } else {\r\n      this.execute.emit();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonComponent } from './button/button.component';\r\nimport { DropdownButtonsComponent } from './dropdown-buttons/dropdown-buttons.component';\r\nimport { DropdownButtonComponent } from './dropdown-buttons/dropdown-button.component';\r\nimport { BsDropdownModule } from 'ngx-bootstrap';\r\n\r\n@NgModule({\r\n  declarations: [ButtonComponent, DropdownButtonsComponent, DropdownButtonComponent],\r\n  imports: [\r\n    CommonModule,\r\n    BsDropdownModule.forRoot()\r\n  ],\r\n  exports: [ButtonComponent, DropdownButtonsComponent, DropdownButtonComponent]\r\n})\r\n\r\nexport class ButtonModule { }\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { NotificationComponent } from './components/notification/notification.component';\r\nimport { ConfirmComponent } from './components/confirm/confirm.component';\r\nimport { TemplateComponent } from './components/template/template.component';\r\nimport { LoaderModule } from '../loader/loader.module';\r\nimport { ModalModule, ComponentLoaderFactory, PositioningService, BsModalService } from 'ngx-bootstrap';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ModalService } from './modal.service';\r\nimport { Ng4LoadingSpinnerModule, Ng4LoadingSpinnerService } from 'ng4-loading-spinner';\r\nimport { LoadingComponent } from './components/loading';\r\nimport { ButtonModule } from '../button/button.module';\r\n\r\nconst declarations = [\r\n  NotificationComponent,\r\n  ConfirmComponent,\r\n  TemplateComponent,\r\n  LoadingComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    LoaderModule,\r\n    ButtonModule,\r\n    ModalModule.forRoot(),\r\n    Ng4LoadingSpinnerModule.forRoot()\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class CModalModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: CModalModule,\r\n      providers: [\r\n        ComponentLoaderFactory, \r\n        PositioningService,\r\n        BsModalService,\r\n        ModalService,\r\n        Ng4LoadingSpinnerService \r\n      ]\r\n    };\r\n  }\r\n}","import { BaseRequest, BaseResponse, SearchBaseRequest, SearchBaseResponse, MenuTab } from '../shared/models/base.model';\r\nimport { FileViewModel } from '../shared/file/file.model';\r\n\r\nexport class UserViewModel {\r\n    id: string;\r\n    fullName: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    userName: string;\r\n    email?: string;\r\n    image?: FileViewModel;\r\n    phone?: string;\r\n    dateOfBirth?: Date;\r\n    externalInfo?: any;\r\n    constructor(init?: Partial<UserViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationViewModel {\r\n    userName: string;\r\n    password: string;\r\n    constructor(init?: Partial<AuthenticationViewModel>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationLoginRequest extends BaseRequest<AuthenticationViewModel> {\r\n    token?: string;\r\n    payload: AuthenticationViewModel = new AuthenticationViewModel();\r\n    constructor(init?: Partial<AuthenticationLoginRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationLoginResponse extends BaseResponse<AuthenticationViewModel> {\r\n    user?: UserViewModel;\r\n    menuTabs?: MenuTab[] = [];\r\n    token?: string;\r\n    constructor(init?: Partial<AuthenticationLoginResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationCreateRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationCreateRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationCreateResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationCreateResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationUpdateRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationUpdateRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationUpdateResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationUpdateResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationRetrieveRequest extends BaseRequest<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationRetrieveRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationRetrieveResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationRetrieveResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationDeleteRequest extends BaseRequest<AuthenticationViewModel> {\r\n    ids: string[];\r\n    constructor(init?: Partial<AuthenticationDeleteRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationDeleteResponse extends BaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationDeleteResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationSearchRequest extends SearchBaseRequest {\r\n    constructor(init?: Partial<AuthenticationSearchRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class AuthenticationSearchResponse extends SearchBaseResponse<AuthenticationViewModel> {\r\n    constructor(init?: Partial<AuthenticationSearchResponse>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}","export class AuthConst {\r\n    public static Token: string = 'Token';\r\n    public static User: string = 'User';\r\n}","export class KeyConst {\r\n    public static ViewImage = 'VIEW_IMAGE';\r\n    public static PageChanged = 'PAGE_CHANGED';\r\n    public static NewNotifications = 'NEW_NOTIFICATIONS';\r\n    public static MenuChanged = 'MENU_CHANGED';\r\n    public static LoggedIn = 'LOGGED_IN';\r\n    public static SignOut = 'SIGN_OUT';\r\n    public static Menu = 'MENU';\r\n    public static AuthApi = 'AUTH_API';\r\n    public static KeywordChanged = 'KEYWORD_CHANGED';\r\n    public static Search = 'SEARCH';\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  AuthenticationLoginRequest,\r\n  AuthenticationLoginResponse,\r\n  UserViewModel,\r\n  AuthenticationSearchRequest,\r\n  AuthenticationSearchResponse,\r\n  AuthenticationRetrieveRequest,\r\n  AuthenticationRetrieveResponse,\r\n  AuthenticationCreateRequest,\r\n  AuthenticationCreateResponse,\r\n  AuthenticationUpdateRequest,\r\n  AuthenticationUpdateResponse,\r\n  AuthenticationDeleteRequest,\r\n  AuthenticationDeleteResponse\r\n} from './auth.model';\r\nimport { CacheService } from '../shared/services/cache.service';\r\nimport { AuthConst } from './auth.const';\r\nimport { Router } from '@angular/router';\r\nimport { MockService } from '../shared/services/mock.service';\r\nimport { MenuTab } from '../shared/models/base.model';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthenticationService extends MockService {\r\n  public currentUser: UserViewModel;\r\n  protected menuTabs: MenuTab[] = [\r\n    {\r\n      role: 'SA',\r\n      items: [\r\n        {\r\n          label: 'Dashboard',\r\n          icon: 'fa fa-pie-chart ',\r\n          children: [\r\n            { state: 'dashboard', name: 'Dashboard', type: 'link', icon: 'fa fa-pie' }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  constructor(\r\n    protected httpClient: HttpClient,\r\n    private _cacheService: CacheService,\r\n    private _router: Router\r\n  ) {\r\n    super();\r\n    var user = <UserViewModel>this._cacheService.get(AuthConst.User);\r\n    this._cacheService.set(AuthConst.User, user);\r\n    this.currentUser = user;\r\n  }\r\n\r\n  public setApi(url: string): void {\r\n    this._cacheService.set(KeyConst.AuthApi, url);\r\n  }\r\n\r\n  public getApi(): string {\r\n    var url = this._cacheService.get(KeyConst.AuthApi);\r\n    if (!url) url = 'v1/authentications';\r\n    return url;\r\n  }\r\n\r\n  public search(request: AuthenticationSearchRequest): Observable<AuthenticationSearchResponse> {\r\n    return this.verify(this.httpClient.get<AuthenticationSearchResponse>(`${this.getApi()}/search`, { params: request as any }), request.mockData)\r\n  }\r\n\r\n  public retrieve(request: AuthenticationRetrieveRequest): Observable<AuthenticationRetrieveResponse> {\r\n    return this.verify(this.httpClient.get<AuthenticationRetrieveResponse>(`${this.getApi()}/${request.payload.userName}`), request.mockData);\r\n  }\r\n\r\n  public login(request: AuthenticationLoginRequest): Observable<AuthenticationLoginResponse> {\r\n    if (request.mockData && !request.mockData.menuTabs || (<any[]>request.mockData.menuTabs).length == 0) request.mockData.menuTabs = this.menuTabs;\r\n    return this.verify(this.httpClient.post<AuthenticationLoginResponse>(`${this.getApi()}/login`, request), request.mockData);\r\n  }\r\n\r\n  public create(request: AuthenticationCreateRequest): Observable<AuthenticationCreateResponse> {\r\n    return this.verify(this.httpClient.post<AuthenticationCreateResponse>(`${this.getApi()}/`, request), request.mockData);\r\n  }\r\n\r\n  public update(request: AuthenticationUpdateRequest): Observable<AuthenticationUpdateResponse> {\r\n    return this.verify(this.httpClient.put<AuthenticationUpdateResponse>(`${this.getApi()}/`, request), request.mockData);\r\n  }\r\n\r\n  public delete(request: AuthenticationDeleteRequest): Observable<AuthenticationDeleteResponse> {\r\n    return this.verify(this.httpClient.delete<AuthenticationDeleteResponse>(`${this.getApi()}?ids=${request.ids}`), request.mockData);\r\n  }\r\n\r\n  public logout(path: string = '/', refresh: boolean = false): void {\r\n    this._cacheService.remove(AuthConst.User);\r\n    this._cacheService.remove(KeyConst.Menu);\r\n    if (path) this._router.navigate([path]);\r\n    if (refresh) window.location.href = window.location.href;\r\n  }\r\n}","import { trigger, style, animate, transition } from '@angular/animations';\r\n\r\nexport const fadeInOut = trigger(\r\n  'fadeInOut', [\r\n  transition(':enter', [\r\n    style({ opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ opacity: 0 }))\r\n  ])\r\n]);\r\n\r\nexport const fadeDownInOut = trigger(\r\n  'fadeDownInOut', [\r\n  transition(':enter', [\r\n    style({ transform: 'translateY(30px)', opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateY(0)', opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ transform: 'translateY(0)', opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateY(30px)', opacity: 0 }))\r\n  ])\r\n]);\r\n\r\nexport const fadeRightInOut = trigger(\r\n  'fadeRightInOut', [\r\n  transition(':enter', [\r\n    style({ transform: 'translateX(30px)', opacity: 0 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateX(0)', opacity: 1 }))\r\n  ]),\r\n  transition(':leave', [\r\n    style({ transform: 'translateX(0)', opacity: 1 }),\r\n    animate('300ms ease-in-out', style({ transform: 'translateX(30px)', opacity: 0 }))\r\n  ])\r\n]);","import { Component, ViewChild, ElementRef, AfterViewInit, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { AuthenticationLoginRequest, AuthenticationLoginResponse, UserViewModel } from './auth.model';\r\nimport { AuthenticationService } from './auth.service';\r\nimport { AuthConst } from './auth.const';\r\nimport { CacheService } from '../shared/services/cache.service';\r\nimport { DataService } from '../shared/services/data.service';\r\nimport { ValidationService, ValidationOption, RequiredValidationRule, ClientValidator } from '../shared/validation';\r\nimport { fadeInOut } from '../shared/triggers';\r\nimport { BaseTemplate } from '../shared/models/base.model';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\n\r\n@Component({\r\n  selector: 'katana-auth',\r\n  templateUrl: './auth.component.html',\r\n  styleUrls: ['./auth.component.scss'],\r\n  animations: [fadeInOut]\r\n})\r\n\r\nexport class AuthComponent implements OnInit, AfterViewInit {\r\n  @Input() public title: string = 'ng nhp';\r\n  @Input() public validator: ClientValidator;\r\n  @Input() public succeedPath: string;\r\n  @Input() public template: BaseTemplate;\r\n  @Input() public api: string = 'v1/authentications/search';\r\n  @Input() public success: boolean = true;\r\n  @Output() public completed = new EventEmitter<AuthenticationLoginResponse>();\r\n  @ViewChild('formRef', { static: true }) public formRef: ElementRef;\r\n  public request: AuthenticationLoginRequest = new AuthenticationLoginRequest();\r\n  public errorMessage: string;\r\n\r\n  constructor(\r\n    public route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _cacheService: CacheService,\r\n    private _authenticationService: AuthenticationService,\r\n    private _validationService: ValidationService,\r\n    private _dataService: DataService,\r\n    private _aggregatorService: AggregatorService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe(data => {\r\n      if (data) {\r\n        if (data.succeedPath) this.succeedPath = <string>data.succeedPath;\r\n        if (data.api) this.api = <string>data.api;\r\n        if (data.success != undefined) this.success = <boolean>data.success;\r\n        this._authenticationService.setApi(this.api);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.initValidations();\r\n  }\r\n\r\n  public login(): void {\r\n    if (!this._validationService.isValid()) return;\r\n    this.request.mockData = new AuthenticationLoginResponse({\r\n      success: this.success,\r\n      message: `Status: ${this.success}`,\r\n      token: this._dataService.newGuid(),\r\n      code: this.success ? 200 : 500,\r\n      user: new UserViewModel({\r\n        id: this._dataService.newGuid(),\r\n        fullName: this.request.payload.userName,\r\n        email: this.request.payload.userName + '@test.com',\r\n        dateOfBirth: new Date(),\r\n        userName: this.request.payload.userName,\r\n        image: {\r\n          src: 'https://img.icons8.com/cotton/64/000000/user-female--v3.png'\r\n        }\r\n      })\r\n    });\r\n    this._authenticationService.login(this.request).subscribe((response: AuthenticationLoginResponse) => {\r\n      if (response.success) {\r\n        this._cacheService.set(AuthConst.User, response.user);\r\n        this.completed.emit(response);\r\n        if (this.succeedPath) this._router.navigate([this.succeedPath]);\r\n        this._aggregatorService.publish(KeyConst.LoggedIn, response);      \r\n      } else {\r\n        this._cacheService.remove(AuthConst.User);\r\n        this.completed.emit(response);\r\n        this.errorMessage = response.message;\r\n      }\r\n    });\r\n  }\r\n\r\n  private initValidations(): void {\r\n    if (!this.formRef) throw new Error('formRef is null');\r\n    var options: ValidationOption[] = [\r\n      new ValidationOption({\r\n        validationName: 'UserName',\r\n        valueResolver: () => this.request.payload.userName,\r\n        rules: [new RequiredValidationRule()]\r\n      }),\r\n      new ValidationOption({\r\n        validationName: 'Password',\r\n        valueResolver: () => this.request.payload.password,\r\n        rules: [new RequiredValidationRule()]\r\n      })\r\n    ];\r\n\r\n    var validator = new ClientValidator({\r\n      formRef: this.formRef,\r\n      options: options,\r\n      payloadRef: () => this\r\n    });\r\n\r\n    this._validationService.init({\r\n      validator: this.validator ? this.validator : validator\r\n    });\r\n  }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[katanaLabelExtraItem]'\r\n})\r\n\r\nexport class FormDirectorExtraItemDirective {\r\n  constructor(\r\n    public template: TemplateRef<any>\r\n  ) { }\r\n\r\n}\r\n","import { Component, Input } from \"@angular/core\";\r\nimport { FormDirectorExtraItemDirective } from './form-director-extra-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-form-director',\r\n    templateUrl: './form-director.component.html',\r\n    styleUrls: ['./form-director.component.scss'],\r\n})\r\n\r\nexport class FormDirectorComponent {\r\n    @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n    @Input() public alignVertical: boolean = true;\r\n    @Input() public title: string;\r\n    @Input() public description: string;\r\n    @Input() extraLabelItem: FormDirectorExtraItemDirective;\r\n}","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-item]'\r\n})\r\n\r\nexport class FormItemDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) { }\r\n}\r\n","import { Component, OnInit, ContentChildren, QueryList, TemplateRef, Input, SimpleChanges } from '@angular/core';\r\nimport { FormItemDirective } from './form-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-form',\r\n    templateUrl: './form.component.html',\r\n    styleUrls: ['./form.component.scss']\r\n})\r\n\r\nexport class FormComponent implements OnInit {\r\n    @ContentChildren(FormItemDirective) public formItems: QueryList<TemplateRef<any>>;\r\n    @Input() public column: 1 | 2 | 3 | 4 = 4;\r\n    public smallWidth: number = 12;\r\n    public mediumWidth: number = 4;\r\n    public largeWidth: number = 3;\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.column && changes.column.firstChange) {\r\n            const column = changes.column.currentValue;\r\n            switch (column) {\r\n                case 1: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 12;\r\n                    this.largeWidth = 12;\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 12;\r\n                    this.largeWidth = 6;\r\n                    break;\r\n                }\r\n                case 3: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 6;\r\n                    this.largeWidth = 4;\r\n                    break;\r\n                }\r\n                case 4: {\r\n                    this.smallWidth = 12;\r\n                    this.mediumWidth = 4;\r\n                    this.largeWidth = 3;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormComponent } from './form.component';\r\nimport { FormDirectorComponent } from './form-director.component';\r\nimport { FormItemDirective } from './form-item.directive';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FormDirectorExtraItemDirective } from './form-director-extra-item.directive';\r\n\r\nconst declarations = [FormComponent, FormDirectorComponent, FormItemDirective, FormDirectorExtraItemDirective];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  exports: declarations\r\n})\r\n\r\nexport class FormModule { }\r\n","import { Component, Input, Output, EventEmitter, OnDestroy, ContentChild, AfterViewInit, ViewChildren, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormDirectorExtraItemDirective } from '../form';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n  selector: 'katana-textbox',\r\n  templateUrl: './textbox.component.html',\r\n  styleUrls: ['./textbox.component.scss']\r\n})\r\n\r\nexport class TextboxComponent implements OnDestroy, AfterViewInit {\r\n  @Input() public title: string;\r\n  @Input() public model: string | number;\r\n  @Input() public type: 'text' | 'currency' | 'phone' | 'email' | 'number' | 'password' = 'text';\r\n  @Input() public name: string;\r\n  @Input() public placeholder: string = 'in thng tin';\r\n  @Input() public readonly: boolean = false;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public maxCharacters: number = 100;\r\n  @Input() public minNumber: number;\r\n  @Input() public maxNumber: number;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n  @Input() public alignVertical: boolean = true;\r\n  @Input() public controlName: string;\r\n  @Input() public description: string;\r\n  @Input() public emitNullOnDestroy: boolean = false;\r\n  @Input() public suffix: string;\r\n  @Input() public item: any;\r\n  @Input() public focus: boolean;\r\n  @Output() public modelChange: EventEmitter<string | number> = new EventEmitter();\r\n  @ContentChild(FormDirectorExtraItemDirective, { static: true }) extraLabelItem: FormDirectorExtraItemDirective;\r\n  @ViewChild('itemRef', { static: true }) public itemRef: ElementRef;\r\n\r\n  constructor(\r\n    private _actionService: ActionService\r\n  ) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.focus) {\r\n      this._actionService.executeAsync(() => {\r\n        var elements = document.getElementsByTagName('input');\r\n        if (elements) {\r\n          for (let i = 0; i < elements.length; i++) {\r\n            if (elements[i].id == this.item.id) {\r\n              elements[i].focus();\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy === true) {\r\n      this.modelChange.emit(null);\r\n    }\r\n  }\r\n\r\n  public submitNumeric(newValue: number) {\r\n    if (this.minNumber && newValue < this.minNumber) {\r\n      this.modelChange.emit(this.minNumber);\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    if (this.maxNumber && newValue > this.maxNumber) {\r\n      this.modelChange.emit(this.maxNumber);\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    this.modelChange.emit(newValue);\r\n  }\r\n\r\n  public getElement(): any {\r\n    var elements = document.getElementsByTagName('input');\r\n    if (elements) {\r\n      for (let i = 0; i < elements.length; i++) {\r\n        if (elements[i].id == this.item.id) {\r\n          return elements[i];\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TextboxComponent } from './textbox.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\nimport { FormModule } from '../form/form.module';\r\nimport { CURRENCY_MASK_CONFIG } from 'ng2-currency-mask/src/currency-mask.config';\r\n\r\nexport const CustomCurrencyMaskConfig = {\r\n  align: 'left',\r\n  allowNegative: false,\r\n  decimal: '.',\r\n  precision: 0,\r\n  prefix: '',\r\n  suffix: ' VN',\r\n  thousands: ','\r\n};\r\n\r\n@NgModule({\r\n  declarations: [TextboxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FormModule,\r\n    CurrencyMaskModule\r\n  ],\r\n  exports: [TextboxComponent],\r\n  providers: [\r\n    { provide: CURRENCY_MASK_CONFIG, useValue: CustomCurrencyMaskConfig }\r\n  ]\r\n})\r\n\r\nexport class TextboxModule {\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AuthComponent } from './auth.component';\r\nimport { AuthenticationService } from './auth.service';\r\nimport { LoaderModule } from '../shared/loader/loader.module';\r\nimport { ButtonModule } from '../shared/button/button.module';\r\nimport { TextboxModule } from '../shared/textbox/textbox.module';\r\n\r\nconst declarations = [\r\n  AuthComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    LoaderModule,\r\n    ReactiveFormsModule,\r\n    ButtonModule,\r\n    TextboxModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations\r\n})\r\n\r\nexport class AuthModule { \r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AuthModule,\r\n      providers: [\r\n        AuthenticationService\r\n      ]\r\n    };\r\n  }\r\n}","import { Component, ViewChild, TemplateRef, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n    selector: 'katana-tab',\r\n    template: '<ng-template><ng-content></ng-content></ng-template>'\r\n})\r\n\r\nexport class TabItemComponent {\r\n    @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n    @Input() name: string;\r\n    @Input() icon: string;\r\n    public index: number;\r\n}\r\n","import { Component, OnInit, ContentChildren, Output, EventEmitter, Input, ChangeDetectorRef } from '@angular/core';\r\nimport { TabItemComponent } from './tab-item.component';\r\n\r\n@Component({\r\n  selector: 'katana-tabs',\r\n  templateUrl: './tab.component.html',\r\n  styleUrls: ['./tab.component.scss']\r\n})\r\n\r\nexport class TabComponent {\r\n  @ContentChildren(TabItemComponent) public tabs: TabItemComponent[];\r\n  @Output() public change: EventEmitter<TabItemComponent> = new EventEmitter();\r\n  @Input() public displayMode: 'full' | 'default' = 'default';\r\n\r\n  public activeTabIndex: number = 0;\r\n  public clicked: boolean = false;\r\n\r\n  constructor(\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) { }\r\n\r\n  public switchTab(tabIndex: number, tab: TabItemComponent) {\r\n    if (this.activeTabIndex === tabIndex) return;\r\n    this._changeDetectorRef.detectChanges();\r\n    this.activeTabIndex = tabIndex;\r\n    tab.index = tabIndex;\r\n    this.change.emit(tab);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TabComponent } from './tab.component';\r\nimport { TabItemComponent } from './tab-item.component';\r\n\r\nconst declarations = [\r\n  TabComponent,\r\n  TabItemComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations\r\n})\r\n\r\nexport class TabModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-daterange-picker',\r\n  templateUrl: './daterange.component.html',\r\n  styleUrls: ['./daterange.component.scss']\r\n})\r\n\r\nexport class DaterangePickerComponent implements OnDestroy {\r\n  @Input() public title: string;\r\n  @Input() public model: Date[];\r\n  @Input() public disabled: boolean;\r\n  @Input() public minValue: Date;\r\n  @Input() public maxValue: Date;\r\n  @Input() public placeholder: string = 'in thng tin';\r\n  @Input() public startView: 'month' | 'years' | 'multi-years' = 'month';\r\n  @Input() public pickerType: 'calendar' | 'timer' | 'both' = 'calendar';\r\n  @Input() public pickerMode: 'popup' | 'dialog' = 'popup';\r\n  @Input() public selectMode: 'range' | 'single' | 'rangeFrom' | 'rangeTo' = 'range';\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<Date[]> = new EventEmitter();\r\n  \r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy)\r\n      this.modelChange.emit(null);\r\n  }\r\n}\r\n","import { Component, OnDestroy, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-datetime-picker',\r\n  templateUrl: './datetime.component.html',\r\n  styleUrls: ['./datetime.component.scss']\r\n})\r\n\r\nexport class DatetimePickerComponent implements OnDestroy {\r\n  @Input() public title: string;\r\n  @Input() public model: Date;\r\n  @Input() public disabled: boolean;\r\n  @Input() public minValue: Date;\r\n  @Input() public maxValue: Date;\r\n  @Input() public placeholder: string = 'in thng tin';\r\n  @Input() public startView: 'month' | 'years' | 'multi-years' = 'month';\r\n  @Input() public pickerType: 'calendar' | 'timer' | 'both' = 'calendar';\r\n  @Input() public pickerMode: 'popup' | 'dialog' = 'popup';\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<Date> = new EventEmitter();\r\n\r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy)\r\n      this.modelChange.emit(null);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, Injectable } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { OwlDateTimeModule, OwlNativeDateTimeModule, OWL_DATE_TIME_LOCALE, OwlDateTimeIntl } from 'ng-pick-datetime';\r\nimport { DatetimePickerComponent } from './datetime/datetime.component';\r\nimport { DaterangePickerComponent } from './daterange/daterange.component';\r\n\r\nconst declarations = [DatetimePickerComponent, DaterangePickerComponent];\r\n\r\n@NgModule({\r\n    declarations: declarations,\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        OwlDateTimeModule,\r\n        OwlNativeDateTimeModule\r\n    ],\r\n    entryComponents: declarations,\r\n    exports: declarations\r\n})\r\n\r\nexport class DatetimePickerModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: DatetimePickerModule,\r\n            providers: [\r\n            ]\r\n        };\r\n    }\r\n\r\n    public static forChild(): ModuleWithProviders {\r\n        return {\r\n            ngModule: DatetimePickerModule,\r\n            providers: [\r\n                { provide: OWL_DATE_TIME_LOCALE, useValue: 'vi' },\r\n                { provide: OwlDateTimeIntl, useClass: DefaultDateTimeLabels }\r\n            ]\r\n        };\r\n    }\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DefaultDateTimeLabels extends OwlDateTimeIntl {\r\n    upSecondLabel = 'Thm 1 giy';\r\n    downSecondLabel = 'Bt 1 giy';\r\n    upMinuteLabel = 'Thm 1 pht';\r\n    downMinuteLabel = 'Bt 1 pht';\r\n    upHourLabel = 'Thm 1 gi';\r\n    downHourLabel = 'Bt 1 gi';\r\n    prevMonthLabel = 'Thng trc';\r\n    nextMonthLabel = 'Thng ti';\r\n    prevYearLabel = 'Nm trc';\r\n    nextYearLabel = 'Nm ti';\r\n    prevMultiYearLabel = '21 nm trc';\r\n    nextMultiYearLabel = '21 nm sau';\r\n    switchToMonthViewLabel = 'Xem theo thng';\r\n    switchToMultiYearViewLabel = 'Xem theo thng nm';\r\n    cancelBtnLabel = 'Quay li';\r\n    setBtnLabel = 'Chn';\r\n    rangeFromLabel = 'T';\r\n    rangeToLabel = 'n';\r\n    hour12AMLabel = 'AM';\r\n    hour12PMLabel = 'PM';\r\n};","import { MockData, Audit } from '../models';\r\n\r\nexport class FileViewModel extends Audit {\r\n    id?: string;\r\n    name?: string;\r\n    src?: string;\r\n    type?: string;\r\n    size?: number;\r\n    constructor(init?: Partial<FileViewModel>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class FileRequest extends MockData<FileResponse> {\r\n    items: FileViewModel[];\r\n    others?: FileViewModel[];\r\n    createdBy: string;\r\n    constructor(init?: Partial<FileRequest>) {\r\n        super();\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class FileResponse {\r\n    code?: string;\r\n    status?: boolean;\r\n    message?: string;\r\n    totalRecords?: number;\r\n    items: FileViewModel[] = [];\r\n    constructor(init?: Partial<FileResponse>) {\r\n        Object.assign(this, init);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpEvent, HttpResponse } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\nimport { FileRequest, FileResponse, FileViewModel } from './file.model';\r\nimport { MockService } from '../services';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FileService extends MockService {\r\n    constructor(\r\n        protected httpClient: HttpClient,\r\n        protected authenticationService: AuthenticationService\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    public uploadFiles(request: FileRequest): Observable<FileResponse> {\r\n        return this.verify(this.httpClient.post<FileResponse>('v1/Files/', request), request.mockData);\r\n    }\r\n\r\n    public uploadProgress(file: File): Observable<HttpEvent<FileResponse>> {\r\n        const response = new HttpResponse<FileResponse>({\r\n            body: new FileResponse({\r\n                items: [new FileViewModel({\r\n                    src: 'https://znews-photo.zadn.vn/w660/Uploaded/xbhunku/2017_06_02/338006.jpg',\r\n                    createdDate: new Date(),\r\n                    lastModifiedDate: new Date(),\r\n                    createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                    lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                })]\r\n            })\r\n        });\r\n        return of(response);\r\n    }\r\n}\r\n\r\n","export class FileConst {\r\n    public static AcceptedFiles: string = 'txt|doc|docx|image/jpg|image/jpeg|image/png';\r\n    public static MaxSize: number = 5; //MB\r\n}","import { Injectable } from '@angular/core';\r\nimport { FileService } from './file.service';\r\nimport { ModalService } from '../modals';\r\nimport { FileViewModel, FileRequest } from './file.model';\r\nimport { FileConst } from './file.const';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FileProvider {\r\n    constructor(\r\n        private _fileService: FileService,\r\n        private _modalService: ModalService,\r\n        private _actionService: ActionService,\r\n        private _authenticationService: AuthenticationService\r\n    ) { }\r\n\r\n    public uploadAsync(files: File[], attachments: FileViewModel[], fileRef: any, callback?: () => any): void {\r\n        var request = this.buildRequest(files, attachments);\r\n        this._actionService.executeAsync(() => {\r\n            const totalAttachmentSize = this.calculateTotalBytes(attachments, request.items);\r\n            if (totalAttachmentSize > FileConst.MaxSize * 1024 * 1024) {\r\n                this._modalService.showNotificationDialog({\r\n                    autoClose: true,\r\n                    title: 'Thng bo',\r\n                    message: 'Dung lng khng c vt qu <span class=\"text-bold text-primary\">' + FileConst.MaxSize + '</span> MB.',\r\n                    btnTitle: 'ng'\r\n                });\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            } else {\r\n                if (request.others.length == 0) {\r\n                    this.uploadFileAsync(request, fileRef, callback);\r\n                } else {\r\n                    let otherTypes = '';\r\n                    request.others.forEach(file => {\r\n                        if (file) {\r\n                            if (otherTypes.indexOf(file.type) == -1) {\r\n                                otherTypes += file.type + '|';\r\n                            }\r\n                        }\r\n                    });\r\n                    if (otherTypes) otherTypes = otherTypes.substring(0, otherTypes.length - 1);\r\n                    if (request.items.length == 0) {\r\n                        this._modalService.showNotificationDialog({\r\n                            autoClose: true,\r\n                            title: 'Thng bo',\r\n                            message: 'nh dng tp tin khng hp l <span class=\"text-bold text-primary\">' + otherTypes + '</span>.',\r\n                            btnTitle: 'ng'\r\n                        });\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    } else {\r\n                        this._modalService.showConfirmDialog({\r\n                            autoClose: true,\r\n                            title: 'Thng bo',\r\n                            message: 'C <span class=\"text-bold text-primary\">' + request.others.length + '</span> nh dng tp tin khng hp l <span class=\"text-bold text-primary\">' + otherTypes + '</span>.<br/> Bn c mun tip tc ti tp tin khc khng?',\r\n                            btnAcceptTitle: 'Tip tc',\r\n                            btnCancelTitle: 'Hy',\r\n                            acceptCallback: () => {\r\n                                this.uploadFileAsync(request, fileRef, callback);\r\n                            }\r\n                        });\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private uploadFileAsync(request: FileRequest, fileRef: any, callback?: () => any): void {\r\n        this._fileService.uploadFiles(request).subscribe(response => {\r\n            if (fileRef && fileRef.value) {\r\n                fileRef.value = '';\r\n            }\r\n\r\n            if (response && response.items) {\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n\r\n                response.items.forEach((item) => {\r\n                    const currentAttachment = request.items.find(s => s.src == item.src && s.name == item.name);\r\n                    if (!currentAttachment) {\r\n                        request.items.push(item);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private calculateTotalBytes(attachments: FileViewModel[], items?: FileViewModel[]): number {\r\n        let totalAmount = 0;\r\n        if (attachments) {\r\n            if (attachments) {\r\n                attachments.forEach((attachment) => {\r\n                    totalAmount += attachment.size;\r\n                });\r\n            }\r\n\r\n            if (items) {\r\n                items.forEach((attachment) => {\r\n                    totalAmount += attachment.size;\r\n                });\r\n            }\r\n        }\r\n        return totalAmount;\r\n    }\r\n\r\n    private buildRequest(files: File[], attachments: FileViewModel[]): FileRequest {\r\n        const request: FileRequest = {\r\n            createdBy: this._authenticationService.currentUser.id,\r\n            items: []\r\n        }\r\n\r\n        const otherFiles: FileViewModel[] = [];\r\n\r\n        for (let i = 0; i < files.length; i++) {\r\n            if (files[i]) {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(files[i]);\r\n                reader.onloadend = () => {\r\n                    const base64String = <string>reader.result;\r\n                    if (files[i].type && FileConst.AcceptedFiles.indexOf(files[i].type) > -1) {\r\n                        request.items.push(\r\n                            {\r\n                                size: files[i].size,\r\n                                type: files[i].type,\r\n                                src: base64String,\r\n                                name: files[i].name\r\n                            });\r\n                    } else {\r\n                        otherFiles.push(\r\n                            {\r\n                                size: files[i].size,\r\n                                type: files[i].type,\r\n                                src: base64String,\r\n                                name: files[i].name\r\n                            });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (attachments) {\r\n            attachments.forEach((item) => {\r\n                const currentAttachment = request.items.find(s => s.src == item.src && s.name == item.name);\r\n                if (!currentAttachment) {\r\n                    request.items.push(item);\r\n                }\r\n            });\r\n        }\r\n\r\n        request.others = otherFiles;\r\n        return request;\r\n    }\r\n}\r\n","import { Component, Input, ViewChild, OnInit } from \"@angular/core\";\r\nimport { Observable, of } from 'rxjs';\r\nimport { ImageCropperComponent, ImageCroppedEvent } from \"ngx-image-cropper\";\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n    selector: 'katana-cropper',\r\n    templateUrl: './cropper.component.html',\r\n    styleUrls: ['./cropper.component.scss']\r\n})\r\n\r\nexport class CropperComponent implements OnInit {\r\n    @ViewChild('cropper', { static: true }) public cropper: ImageCropperComponent;\r\n    @Input() public imageElement: HTMLImageElement;\r\n    @Input() public eventFile: any;\r\n    @Input() public cutRatio: number = 1 / 1;\r\n    @Input() public resizeToWidth: number = 800;\r\n    @Input() public maintainAspectRatio: boolean = true;\r\n    imageChangedEvent: any = '';\r\n    croppedImage: any = '';\r\n    showCropper = false;\r\n\r\n    constructor(\r\n        private _actionService: ActionService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.init();\r\n    }\r\n\r\n    public setImage(image: any) {\r\n        this.imageChangedEvent = this.eventFile;\r\n    }\r\n\r\n    public imageLoaded() {\r\n        this.showCropper = true;\r\n        console.log('Image loaded');\r\n    }\r\n\r\n    public cropperReady() {\r\n        console.log('Cropper ready');\r\n    }\r\n\r\n    public loadImageFailed() {\r\n        console.log('Load failed');\r\n    }\r\n\r\n    public imageCropped(event: ImageCroppedEvent) {\r\n        this.croppedImage = event.base64;\r\n    }\r\n\r\n    public isValid(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public callback(): Observable<any> {\r\n        return of(this.croppedImage);\r\n    }\r\n\r\n    public getErrors() {\r\n        return of([]);\r\n    }\r\n\r\n    private init(): void {\r\n        this._actionService.executeAsync(() => {\r\n            this.imageChangedEvent = this.eventFile;\r\n        });\r\n    }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { take, finalize, tap } from 'rxjs/operators';\r\nimport { HttpEventType } from '@angular/common/http';\r\nimport { Subscription } from 'rxjs';\r\nimport { FileViewModel, FileRequest, FileResponse } from './file.model';\r\nimport { CropperComponent } from '../cropper/cropper.component';\r\nimport { FileService } from './file.service';\r\nimport { NotificationViewModel } from '../modals/modal.model';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ModalService } from '../modals/modal.service';\r\n\r\n@Component({\r\n  selector: 'katana-file-uploader',\r\n  templateUrl: './file.component.html',\r\n  styleUrls: ['./file.component.scss']\r\n})\r\n\r\nexport class UploaderComponent implements OnInit, OnDestroy {\r\n  @Input() public icon: string = 'fa fa-twitter';\r\n  @Input() public title: string = 'Chnh sa nh';\r\n  @Input() public multiple: boolean = true;\r\n  @Input() public cropImage: boolean;\r\n  @Input() public validationName: string;\r\n  @Input() public maxSize: number = 10 * 1024 * 1024;\r\n  @Input() public fileType: 'doc' | 'image' | 'audio' | 'video' | 'default' = 'default';\r\n  @Input() public cutRatio: number;\r\n  @Input() public resizeToWidth: number;\r\n  @Input() public maintainAspectRatio: boolean;\r\n  @Output('checkedLoading') changeLoading = new EventEmitter<boolean>();\r\n  @Output('checkedProgress') changeProgress = new EventEmitter<number>();\r\n  @Output() public fileUploaded: EventEmitter<FileViewModel> = new EventEmitter();\r\n  public loading: boolean;\r\n  public progress: number = 0;\r\n  private currentTypes: any[];\r\n  private subscriptions: Subscription = new Subscription();\r\n\r\n  constructor(\r\n    protected modalService: ModalService,\r\n    protected fileService: FileService,\r\n    protected authenticationService: AuthenticationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  public onFileUploaded(files: File[], event: any) {\r\n    if (!files || files.length == 0) return;\r\n    this.execute(files, event);\r\n  }\r\n\r\n  private execute(files: File[], event: any): void {\r\n    if (files.length == 0) return;\r\n    var file = files[0];\r\n    const validationResult = this.initValidation(file);\r\n    if (!validationResult.isValid) {\r\n      validationResult.errors.forEach(x => {\r\n        switch (x) {\r\n          case 'Size':\r\n            this.modalService.showNotificationDialog(new NotificationViewModel({\r\n              message: `Kch thc file phi nh hn ${this.maxSize / (1024 * 1024)} mb`\r\n            }));\r\n            break;\r\n          case 'Type':\r\n            this.modalService.showNotificationDialog(new NotificationViewModel({\r\n              message: `Loi file khng ph hp`\r\n            }));\r\n            break;\r\n        }\r\n      });\r\n      return;\r\n    }\r\n    if (this.cropImage) {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onloadend = (loadEvent: any) => {\r\n        const image = new FileViewModel({\r\n          createdDate: new Date(),\r\n          lastModifiedDate: new Date(),\r\n          createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n          lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n        });\r\n        image.src = loadEvent.target.result;\r\n        this.modalService.showTemplateDialog({\r\n          title: this.title,\r\n          customSize: 'modal-lg',\r\n          mode: 'Custom',\r\n          autoClose: true,\r\n          icon: this.icon,\r\n          data: {\r\n            imageElement: image,\r\n            eventFile: event,\r\n            cutRatio: this.cutRatio,\r\n            maintainAspectRatio: this.maintainAspectRatio,\r\n            resizeToWidth: this.resizeToWidth\r\n          },\r\n          template: CropperComponent,\r\n          acceptCallback: (base64String) => {\r\n            const base64FileParts = base64String.split(',');\r\n            if (base64FileParts.length < 2) {\r\n              return;\r\n            }\r\n            const base64FileData = base64FileParts[1];\r\n            this.loading = true;\r\n            this.changeLoading.emit(this.loading);\r\n            this.fileService.uploadFiles(new FileRequest({\r\n              createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n              items: [new FileViewModel({\r\n                src: base64FileData,\r\n                name: file.name,\r\n                size: file.size,\r\n                type: file.type,\r\n                createdDate: new Date(),\r\n                lastModifiedDate: new Date(),\r\n                createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n              })],\r\n              mockData: new FileResponse({\r\n                status: true,\r\n                items: [\r\n                  new FileViewModel({\r\n                    src: base64String,\r\n                    size: file.size,\r\n                    name: file.name,\r\n                    createdDate: new Date(),\r\n                    lastModifiedDate: new Date(),\r\n                    createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                    lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                  })\r\n                ]\r\n              })\r\n            })).pipe(take(1), finalize(() => {\r\n              this.loading = false;\r\n              this.changeLoading.emit(this.loading);\r\n            })).subscribe(response => {\r\n              if (response.items.length > 0) {\r\n                const uploadedFilePath = response.items[0].src;\r\n                this.fileUploaded.emit(new FileViewModel({\r\n                  src: uploadedFilePath,\r\n                  name: file.name,\r\n                  size: file.size,\r\n                  type: file.type,\r\n                  createdDate: new Date(),\r\n                  lastModifiedDate: new Date(),\r\n                  createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n                  lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n                }));\r\n              }\r\n            });\r\n          }\r\n        })\r\n      };\r\n    } else {\r\n      this.loading = true;\r\n      this.changeLoading.emit(this.loading);\r\n      const uploadFileSubscription = this.fileService.uploadProgress(file).pipe(\r\n        tap((event => {\r\n          if (event.type === HttpEventType.UploadProgress) {\r\n            this.progress = Math.round((100 * event.loaded) / event.total);\r\n            this.changeProgress.emit(this.progress);\r\n          } else if (event.type === HttpEventType.Response) {\r\n            const response = event.body;\r\n            this.progress = 0;\r\n            this.loading = false;\r\n            this.changeProgress.emit(this.progress);\r\n            this.changeLoading.emit(this.loading);\r\n            this.fileUploaded.emit(new FileViewModel({\r\n              src: response.items && response.items.length > 0 ? response.items[0].src : null,\r\n              name: file.name\r\n            }));\r\n          }\r\n        }),\r\n          (err) => {\r\n            console.log(err);\r\n          }\r\n        )).subscribe();\r\n      this.subscriptions.add(uploadFileSubscription);\r\n    }\r\n  }\r\n\r\n  private initValidation(file: File): { isValid: Boolean; errors: any[] } {\r\n    let isValid: boolean = true;\r\n    let errors = [];\r\n    if (this.fileType) {\r\n      this.initExtentionFile(this.fileType);\r\n      const types = file.name.split('.');\r\n      const extension = types[types.length - 1];\r\n      isValid = this.currentTypes.indexOf(extension) >= 0;\r\n      if (!isValid) {\r\n        errors.push('Type');\r\n        return { isValid: isValid, errors: errors };\r\n      }\r\n    }\r\n\r\n    if (this.maxSize && this.maxSize !== 0) {\r\n      isValid = +file.size < +this.maxSize;\r\n      if (!isValid) {\r\n        errors.push('Size');\r\n        return { isValid: isValid, errors: errors };\r\n      };\r\n    }\r\n    return { isValid: isValid, errors: errors };\r\n  }\r\n\r\n  private initExtentionFile(fileType: string) {\r\n    switch (fileType) {\r\n      case 'doc':\r\n        this.currentTypes = ['csv', 'doc', 'docx', 'log', 'msg', 'rtf', 'txt', 'wpf', 'pdf', 'csv', 'ppt', 'pps', 'vcf', 'xlr', 'xls', 'xlsx'];\r\n        break;\r\n      case 'image':\r\n        this.currentTypes = ['bmp', 'dds', 'gif', 'heic', 'jpg', 'png', 'psd', 'thm', 'tif', 'jpe', 'jpeg'];\r\n        break;\r\n      case 'audio':\r\n        this.currentTypes = ['aif', 'iff', 'm3u', 'm4a', 'mid', 'mp3', 'mpa', 'wav', 'wma'];\r\n        break;\r\n      case 'video':\r\n        this.currentTypes = ['3g2', '3gp', 'avi', 'flv', 'm4v', 'mov', 'mp4', 'mpg', 'wmv'];\r\n        break;\r\n      case 'default':\r\n        this.currentTypes = ['csv', 'doc', 'docx', 'log', 'msg', 'rtf', 'txt', 'wpf', 'pdf', 'csv', 'ppt', 'pps', 'vcf', 'xlr', 'xls', 'xlsx',\r\n          'bmp', 'dds', 'gif', 'heic', 'jpg', 'png', 'psd', 'thm', 'tif', 'jpe', 'jpeg',\r\n          'aif', 'iff', 'm3u', 'm4a', 'mid', 'mp3', 'mpa', 'wav', 'wma',\r\n          '3g2', '3gp', 'avi', 'flv', 'm4v', 'mov', 'mp4', 'mpg', 'wmv'\r\n        ];\r\n        break;\r\n      default: return;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageCropperModule as LibraryModule } from 'ngx-image-cropper';\r\nimport { CropperComponent } from './cropper.component';\r\n\r\n@NgModule({\r\n  declarations: [CropperComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LibraryModule\r\n  ],\r\n  exports: [CropperComponent],\r\n  entryComponents: [CropperComponent]\r\n})\r\n\r\nexport class CropperModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FileService } from './file.service';\r\nimport { FileProvider } from './file.provider';\r\nimport { UploaderComponent } from './file.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CropperModule } from '../cropper/cropper.module';\r\n\r\n@NgModule({\r\n  declarations: [UploaderComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    CropperModule\r\n  ],\r\n  exports: [UploaderComponent],\r\n  entryComponents: [UploaderComponent],\r\n  providers: [\r\n    FileService,\r\n    FileProvider\r\n  ]\r\n})\r\n\r\nexport class FileModule { }\r\n","import { FileService } from '../file/file.service';\r\nimport { FileRequest, FileViewModel, FileResponse } from '../file/file.model';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\nexport class EditorAdapter {\r\n    protected loader: any;\r\n    protected fileService: FileService;\r\n    protected authenticationService: AuthenticationService;\r\n\r\n    constructor(loader: any, fileService: FileService, authenticationService: AuthenticationService) {\r\n        this.loader = loader;\r\n        this.fileService = fileService;\r\n        this.authenticationService = authenticationService;\r\n    }\r\n\r\n    public upload(): any {\r\n        return this.loader.file.then(file => new Promise((resolve) => {\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                const base64Data = reader.result.toString().split(',');\r\n                if (base64Data.length < 2) {\r\n                    return;\r\n                }\r\n                const base64FileData = base64Data[1];\r\n                this.fileService.uploadFiles(new FileRequest({\r\n                    items: [\r\n                        new FileViewModel({\r\n                            name: file.name,\r\n                            src: base64FileData\r\n                        })\r\n                    ],\r\n                    mockData: new FileResponse({\r\n                        items: [new FileViewModel({\r\n                            src: <string>reader.result,\r\n                            name: file.name\r\n                        })]\r\n                    })\r\n                })).subscribe(response => {\r\n                    var src = '';\r\n                    if (response.items && response.items.length > 0) {\r\n                        src = response.items[0].src;\r\n                    }\r\n                    resolve({ default: src });\r\n                }, (err) => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n            reader.readAsDataURL(file);\r\n        }));\r\n    }\r\n}","import { Component, OnDestroy, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport * as Editor from '@ckeditor/ckeditor5-build-classic';\r\nimport { FileService } from '../file';\r\nimport { EditorAdapter } from './editor.adaptor';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\nimport { ActionService } from '../services/action.service';\r\n\r\n@Component({\r\n  selector: 'katana-editor',\r\n  templateUrl: './editor.component.html',\r\n  styleUrls: ['./editor.component.scss']\r\n})\r\n\r\nexport class EditorComponent implements OnDestroy {\r\n  @ViewChild('nativeEditor', { static: true }) public nativeEditor: any;\r\n  @Input() public model: string = '';\r\n  @Input() public plainText: string;\r\n  @Input() public title: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<string> = new EventEmitter();\r\n  @Input() public focus: boolean;\r\n  @Output() public plainTextChange: EventEmitter<string> = new EventEmitter();\r\n  public editor = Editor;\r\n  public config: any = {\r\n    height: '600px'\r\n  };\r\n\r\n  constructor(\r\n    public fileService: FileService,\r\n    public authenticationService: AuthenticationService,\r\n    private _actionService: ActionService\r\n  ) { }\r\n\r\n  ngOnDestroy() {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit(null);\r\n  }\r\n\r\n  public change(html: string) {\r\n    const plainText = this.nativeEditor.elementRef.nativeElement.textContent;\r\n    this.plainTextChange.emit(plainText);\r\n    this.modelChange.emit(html);\r\n  }\r\n\r\n  public ready(event: any, fileService: FileService, authenticationService: AuthenticationService): void {\r\n    event.plugins.get('FileRepository').createUploadAdapter = function (loader: any) {\r\n      return new EditorAdapter(loader, fileService, authenticationService);\r\n    };\r\n    if (this.focus) {\r\n      this._actionService.executeAsync(() => {\r\n        event.ui.getEditableElement().focus();\r\n      });\r\n    }\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EditorComponent } from './editor.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\n\r\n@NgModule({\r\n  declarations: [EditorComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    CKEditorModule\r\n  ],\r\n  exports: [EditorComponent]\r\n})\r\n\r\nexport class EditorModule { }\r\n","import { Component, OnInit, OnDestroy, ContentChild, TemplateRef, Input, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';\r\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, tap, switchMap, map, concat, skip } from 'rxjs/operators';\r\nimport { FormDirectorExtraItemDirective } from '../form/form-director-extra-item.directive';\r\n\r\n@Component({\r\n    selector: 'katana-dropdown',\r\n    templateUrl: './dropdown.component.html',\r\n    styleUrls: ['./dropdown.component.scss']\r\n})\r\n\r\nexport class DropdownComponent implements OnInit, OnDestroy {\r\n    @ContentChild('itemTemplate', { static: true }) public itemTemplate: TemplateRef<any>;\r\n    @ContentChild('groupTemplate', { static: true }) public groupTemplate: TemplateRef<any>;\r\n    @ContentChild('footerTemplate', { static: true }) public footerTemplate: TemplateRef<any>;\r\n    @ContentChild(FormDirectorExtraItemDirective, { static: true }) extraLabelItem: FormDirectorExtraItemDirective;\r\n    @Output() public change = new EventEmitter<any>();\r\n    @Input() public title: string;\r\n    @Input() public description: string;\r\n    @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n    @Input() public alignVertical: boolean = true;\r\n    @Input() public multiple: boolean = false;\r\n    @Input() public bindLabel: string;\r\n    @Input() public bindValue: string;\r\n    @Input() public model: any;\r\n    @Input() public closeOnSelect: boolean = true;\r\n    @Input() public dropdownPosition: string = 'auto';\r\n    @Input() public loading: boolean;\r\n    @Input() public loadingText: string = 'ang ti...';\r\n    @Input() public markFirst: boolean;\r\n    @Input() public notFoundText: string = 'Khng tm thy';\r\n    @Input() public placeholder: string = 'Chn thng tin';\r\n    @Input() public pageSize: number = 10;\r\n    @Input() public groupBy: string;\r\n    @Input() public readonly: boolean = false;\r\n    @Input() public disabled: boolean = false;\r\n    @Input() public typeToSearchText: string = 'G  tm kim';\r\n    @Input() public searchable: boolean = true;\r\n    @Input() public searchFunction: (searchText: string, index: number, pageIndex: number, pageSize: number) => Observable<{ items: any[], totalItems: number }>;\r\n    @Input() public lazyload: boolean = false;\r\n    @Input() public beforeSearch: Observable<any>;\r\n    @Input() public afterSearch: Observable<any>;\r\n    @Input() public validationName: string;\r\n    @Input() public validationScope: string;\r\n    @Input() public controlName: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    public totalItems: number = 0;\r\n    public searchItems: any[] = [];\r\n    public searchText$ = new BehaviorSubject<string>(null);\r\n    private subscriptions: Subscription = new Subscription();\r\n    private currentPage: number = 0;\r\n    private numberOfItemsFromEndBeforeFetchingMore: number = 3;\r\n    private fetchMore$: BehaviorSubject<number> = new BehaviorSubject(0);\r\n\r\n    constructor(\r\n        private changeDetectorRef: ChangeDetectorRef\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        const search$ = this.searchText$\r\n            .pipe(\r\n                debounceTime(200),\r\n                distinctUntilChanged(),\r\n                tap(() => this.loading = true),\r\n                switchMap((text: string) => {\r\n                    this.currentPage = 0;\r\n                    return this.searchFunction(text, 0, this.currentPage, this.lazyload ? this.pageSize : null);\r\n                }),\r\n                map((response: any) => this.rebind(response)),\r\n                tap(() => this.loading = false),\r\n            );\r\n\r\n        const fetchMore$ = this.fetchMore$\r\n            .pipe(\r\n                tap(() => this.loading = true),\r\n                switchMap((pageIndex: number) => {\r\n                    return this.searchFunction(this.searchText$.getValue(), 0, pageIndex, this.lazyload ? this.pageSize : null);\r\n                }),\r\n                map((response: any) => this.append(response)),\r\n                tap(() => this.loading = false),\r\n            );\r\n        this.subscriptions.add(fetchMore$.subscribe());\r\n\r\n        if (this.beforeSearch) {\r\n            this.subscriptions.add(this.beforeSearch.pipe(concat(search$)).subscribe());\r\n        } else {\r\n            this.subscriptions.add(search$.subscribe());\r\n        }\r\n\r\n        if (this.afterSearch) {\r\n            const afterSearchSubscription = this.afterSearch.pipe(skip(1)).subscribe(response => this.rebind(response));\r\n            this.subscriptions.add(afterSearchSubscription);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subscriptions.unsubscribe();\r\n        if (this.emitNullOnDestroy === true)\r\n            this.change.emit(null);\r\n    }\r\n\r\n    public onBlur() {\r\n        this.searchText$.next(null);\r\n    }\r\n\r\n    public scroll(lastIndex: number) {\r\n        if (this.loading) {\r\n            return;\r\n        }\r\n\r\n        if (lastIndex + this.numberOfItemsFromEndBeforeFetchingMore >= this.searchItems.length) {\r\n            this.fetchMore();\r\n        }\r\n    }\r\n\r\n    public fetchMore() {\r\n        this.currentPage++;\r\n        this.fetchMore$.next(this.currentPage);\r\n    }\r\n\r\n    public clear() {\r\n        if (this.lazyload) {\r\n            this.currentPage = 0;\r\n            this.fetchMore$.next(this.currentPage);\r\n        }\r\n    }\r\n\r\n    private rebind(response: any) {\r\n        this.searchItems = response.items;\r\n        this.totalItems = response.totalRecords;\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n\r\n    private append(response: any) {\r\n        this.searchItems = this.searchItems.concat(response.items);\r\n        this.totalItems = response.totalRecords;\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DropdownComponent } from './dropdown.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select'\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { FormModule } from '../form/form.module';\r\n\r\n@NgModule({\r\n  declarations: [DropdownComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule,\r\n    NgSelectModule,\r\n    FormModule\r\n  ],\r\n  exports: [DropdownComponent]\r\n})\r\n\r\nexport class DropdownModule { }\r\n","import { Component, Input } from '@angular/core';\r\nimport { trigger, state, style, AUTO_STYLE, transition, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'katana-card',\r\n  templateUrl: './card.component.html',\r\n  styleUrls: ['./card.component.scss'],\r\n  animations: [trigger('cardToggle', [\r\n    state('collapsed, void',\r\n      style({\r\n        overflow: 'hidden',\r\n        height: '0px',\r\n      })\r\n    ),\r\n    state('expanded',\r\n      style({\r\n        height: AUTO_STYLE,\r\n      })\r\n    ),\r\n    transition('collapsed <=> expanded', [\r\n      animate('400ms ease-in-out')\r\n    ])\r\n  ]), trigger('cardClose', [\r\n    state('open', style({\r\n      opacity: 1\r\n    })),\r\n    state('closed', style({\r\n      opacity: 0,\r\n      display: 'none'\r\n    })),\r\n    transition('open <=> closed', animate('400ms')),\r\n  ])],\r\n})\r\n\r\nexport class CardComponent {\r\n  @Input() public headerContent: string;\r\n  @Input() public title: string;\r\n  @Input() public blockClass: string;\r\n  @Input() public cardClass: string;\r\n  @Input() public classHeader = false;\r\n  public cardToggle = 'expanded';\r\n  public cardClose = 'open';\r\n  public fullCard: string;\r\n  public fullCardIcon: string;\r\n  public loadCard = false;\r\n  public isCardToggled = false;\r\n  public cardLoad: string;\r\n\r\n  public toggleCard(event: any) {\r\n    this.cardToggle = this.cardToggle === 'collapsed' ? 'expanded' : 'collapsed';\r\n  }\r\n\r\n  public closeCard(event: any) {\r\n    this.cardClose = this.cardClose === 'closed' ? 'open' : 'closed';\r\n  }\r\n\r\n  public fullScreen(event: any) {\r\n    this.fullCard = this.fullCard === 'full-card' ? '' : 'full-card';\r\n    this.fullCardIcon = this.fullCardIcon === 'icofont-resize' ? '' : 'icofont-resize';\r\n  }\r\n\r\n  public cardRefresh(event: any) {\r\n    this.loadCard = true;\r\n    this.cardLoad = 'card-load';\r\n    setTimeout(() => {\r\n      this.cardLoad = '';\r\n      this.loadCard = false;\r\n    }, 3000);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CardComponent } from './card.component';\r\n\r\n@NgModule({\r\n  declarations: [CardComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [CardComponent]\r\n})\r\n\r\nexport class CardModule { }\r\n","import { Directive, OnInit } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\nimport { Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordion]',\r\n})\r\n\r\nexport class AccordionDirective implements OnInit {\r\n  protected navlinks: AccordionLinkDirective[] = [];\r\n  private countState = 1;\r\n  private _router: Subscription;\r\n  public constructor(private router: Router) { }\r\n\r\n  public closeOtherLinks(openLink: AccordionLinkDirective): void {\r\n    this.countState++;\r\n    if ((openLink.group !== 'sub-toggled' || openLink.group !== 'main-toggled') && this.countState === 1) {\r\n      if (window.innerWidth < 768 || (window.innerWidth >= 768 && window.innerWidth <= 1024)) {\r\n        const toggledElement = <HTMLElement>document.querySelector('#mobile-collapse');\r\n        toggledElement.click();\r\n      }\r\n    }\r\n    this.navlinks.forEach((link: AccordionLinkDirective) => {\r\n      if (link !== openLink && (link.group === 'sub-toggled' || openLink.group !== 'sub-toggled')) {\r\n        link.open = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  public addLink(link: AccordionLinkDirective): void {\r\n    this.navlinks.push(link);\r\n  }\r\n\r\n  public removeGroup(link: AccordionLinkDirective): void {\r\n    const index = this.navlinks.indexOf(link);\r\n    if (index !== -1) {\r\n      this.navlinks.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  public getUrl() {\r\n    return this.router.url;\r\n  }\r\n\r\n  public ngOnInit(): any {\r\n    this._router = this.router.events.pipe(filter((event) => event instanceof NavigationEnd)).subscribe((event: NavigationEnd) => {\r\n      this.countState = 0;\r\n      this.navlinks.forEach((link: AccordionLinkDirective) => {\r\n        if (link.group) {\r\n          const routeUrl = this.getUrl();\r\n          const currentUrl = routeUrl.split('/');\r\n          if (currentUrl.indexOf(link.group) > 0) {\r\n            link.open = true;\r\n            this.closeOtherLinks(link);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { Directive, HostBinding, Inject, Input, OnInit, OnDestroy } from '@angular/core';\r\nimport { AccordionDirective } from './accordion.directive';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordionLink]'\r\n})\r\n\r\nexport class AccordionLinkDirective implements OnInit, OnDestroy {\r\n  @Input() public group: any;\r\n  @HostBinding('class.pcoded-trigger')\r\n  @Input()\r\n\r\n  get open(): boolean {\r\n    return this._open;\r\n  }\r\n\r\n  set open(value: boolean) {\r\n    this._open = value;\r\n    document.querySelector('.pcoded-inner-navbar').classList.toggle('scroll-sidebar');\r\n    if (value) {\r\n      this.nav.closeOtherLinks(this);\r\n    }\r\n  }\r\n\r\n  protected _open: boolean;\r\n  protected nav: AccordionDirective;\r\n\r\n  constructor(@Inject(AccordionDirective) nav: AccordionDirective) {\r\n    this.nav = nav;\r\n  }\r\n\r\n  public ngOnInit(): any {\r\n    this.nav.addLink(this);\r\n  }\r\n\r\n  public ngOnDestroy(): any {\r\n    this.nav.removeGroup(this);\r\n  }\r\n\r\n  public toggle(): any {\r\n    document.querySelector('.pcoded-inner-navbar').classList.add('scroll-sidebar');\r\n    this.open = !this.open;\r\n  }\r\n}\r\n","import { Directive, HostListener, Inject } from '@angular/core';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\n\r\n@Directive({\r\n  selector: '[katanaAccordionToggle]'\r\n})\r\n\r\nexport class AccordionAnchorDirective {\r\n  protected navlink: AccordionLinkDirective;\r\n\r\n  constructor( @Inject(AccordionLinkDirective) navlink: AccordionLinkDirective) {\r\n    this.navlink = navlink;\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: any) {\r\n    this.navlink.toggle();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AccordionDirective } from './accordion.directive';\r\nimport { AccordionAnchorDirective } from './accordionanchor.directive';\r\nimport { AccordionLinkDirective } from './accordionlink.directive';\r\n\r\n@NgModule({\r\n  declarations: [AccordionAnchorDirective, AccordionDirective, AccordionLinkDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [AccordionAnchorDirective, AccordionDirective, AccordionLinkDirective]\r\n})\r\n\r\nexport class AccordionModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaCurrency'\r\n})\r\n\r\nexport class CurrencyPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: any, digits?: string, locale?: string): string | null {\r\n    return `${super.transform(value, '1.0')} VN`;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaDate'\r\n})\r\n\r\nexport class CDatePipe extends DatePipe implements PipeTransform {\r\n  transform(value: any, args?: any): any {\r\n    return super.transform(value, 'dd/MM/yyyy');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaDateTime'\r\n})\r\nexport class CDatetimePipe extends DatePipe implements PipeTransform {\r\n  transform(value: Date) {\r\n    return super.transform(value, 'dd/MM/yyyy HH:mm');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaTime'\r\n})\r\n\r\nexport class TimePipe extends DatePipe implements PipeTransform {\r\n  transform(value: Date) {\r\n    return super.transform(value, 'hh:mm');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaNumber'\r\n})\r\n\r\nexport class NumberPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: any, digits?: string, locale?: string): string | null {\r\n    return super.transform(value, '1.0');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'katanaBadge'\r\n})\r\n\r\nexport class BadgePipe implements PipeTransform {\r\n  transform(value: any, args?: any): any {\r\n    return null;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n    name: 'katanaSafe'\r\n})\r\n\r\nexport class SafePipe implements PipeTransform {\r\n    constructor(\r\n        private sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    transform(value: any) {\r\n        return this.sanitizer.bypassSecurityTrustHtml(value);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n    name: 'katanaEmbedVideo'\r\n})\r\n\r\nexport class CembedVideoPipe implements PipeTransform {\r\n    constructor(\r\n        private sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    transform(text: any) {\r\n        let result = text;\r\n        const extractOembedTagPattern = new RegExp('<\\s*oembed[^>]*>.*?<\\s*\\/\\s*oembed>', 'gm');\r\n        let extractOembedTagsResult = extractOembedTagPattern.exec(text);\r\n        if (extractOembedTagsResult && extractOembedTagsResult.length) {\r\n            const oembedTags = [...extractOembedTagsResult];\r\n            while (extractOembedTagsResult) {\r\n                extractOembedTagsResult = extractOembedTagPattern.exec(text);\r\n                if (extractOembedTagsResult && extractOembedTagsResult.length) {\r\n                    oembedTags.push(...extractOembedTagsResult);\r\n                }\r\n            }\r\n\r\n            const videoTags = oembedTags.map(tag => {\r\n                const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(tag);\r\n                const videoLink = match[1];\r\n                const videoTag = `<iframe src=\"https://www.youtube.com/embed/${videoLink}\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>`;\r\n                return videoTag;\r\n            });\r\n\r\n            videoTags.forEach(tag => {\r\n                result = text.replace(extractOembedTagPattern, tag);\r\n            });\r\n        }\r\n\r\n        return this.sanitizer.bypassSecurityTrustHtml(result);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaKb'\r\n})\r\n\r\nexport class KbPipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: number, digits?: string, locale?: string): string | null {\r\n    return `${super.transform(Math.round(value / 1024), '1.0')} KB`;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\n\r\n@Pipe({\r\n  name: 'katanaFile'\r\n})\r\n\r\nexport class FilePipe extends DecimalPipe implements PipeTransform {\r\n  transform(value: string, digits?: string, locale?: string): string | null {\r\n    if (!value) return '';\r\n    var name = value.toString();\r\n    var data = name.split('.');\r\n    if (data.length == 1) return `${data[0]}`;\r\n    var index = name.indexOf(data[data.length - 1]);\r\n    return `${name.substring(0, index - 1)} ${data[data.length - 1]}`;\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CurrencyPipe } from './currency.pipe';\r\nimport { CDatePipe } from './date.pipe';\r\nimport { CDatetimePipe } from './datetime.pipe';\r\nimport { TimePipe } from './time.pipe';\r\nimport { NumberPipe } from './number.pipe';\r\nimport { BadgePipe } from './badge.pipe';\r\nimport { SafePipe } from './safe.pipe';\r\nimport { CembedVideoPipe } from './oembed-video.pipe';\r\nimport { KbPipe } from './kb.pipe';\r\nimport { FilePipe } from './file.pipe';\r\n\r\nconst pipes = [\r\n  CurrencyPipe,\r\n  CDatePipe,\r\n  CDatetimePipe,\r\n  TimePipe,\r\n  NumberPipe,\r\n  BadgePipe,\r\n  SafePipe,\r\n  CembedVideoPipe,\r\n  KbPipe,\r\n  FilePipe\r\n];\r\n\r\n@NgModule({\r\n  declarations: pipes,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: pipes\r\n})\r\n\r\nexport class FormatterModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FormatterModule,\r\n      providers: [\r\n      ]\r\n    };\r\n  }\r\n\r\n  public static forChild(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FormatterModule,\r\n      providers: pipes\r\n    };\r\n  }\r\n}\r\n","export class MenuKey {\r\n    public static Admin: string = 'Admin';\r\n    public static Admin2: string = 'Admin2';\r\n}","import { Injectable } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { filter } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\nimport { ButtonDefinition } from '../shared/models/base.model';\r\nimport { ToolbarAction } from '../shared/enums/base.enum';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DefaultLayoutService {\r\n    public navType: string;\r\n    public themeLayout: string;\r\n    public layoutType: string;\r\n    public verticalPlacement: string;\r\n    public verticalLayout: string;\r\n    public deviceType: string;\r\n    public imgSrc: string;\r\n    public imgTitle: string;\r\n    public verticalNavType: string;\r\n    public verticalEffect: string;\r\n    public vNavigationView: string;\r\n    public pcodedHeaderPosition: string;\r\n    public pcodedSidebarPosition: string;\r\n    public headerTheme: string;\r\n    public logoTheme: string;\r\n    public innerHeight: string;\r\n    public windowWidth: number;\r\n    public toggleOn: boolean;\r\n    public headerFixedMargin: string;\r\n    public navBarTheme: string;\r\n    public activeItemTheme: string;\r\n    public isCollapsedMobile: string;\r\n    public chatToggle: string;\r\n    public chatToggleInverse: string;\r\n    public chatInnerToggle: string;\r\n    public chatInnerToggleInverse: string;\r\n    public menuTitleTheme: string;\r\n    public itemBorder: boolean;\r\n    public itemBorderStyle: string;\r\n    public subItemBorder: boolean;\r\n    public subItemIcon: string;\r\n    public dropDownIcon: string;\r\n    public isSidebarChecked: boolean;\r\n    public isHeaderChecked: boolean;\r\n    private subscriptions: Subscription = new Subscription();\r\n    private toolbarItems: ButtonDefinition[] = [];\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private _aggregatorService: AggregatorService\r\n    ) {\r\n        this.navType = 'st5';\r\n        this.themeLayout = 'vertical';\r\n        this.vNavigationView = 'view1';\r\n        this.verticalPlacement = 'left';\r\n        this.verticalLayout = 'wide';\r\n        this.deviceType = 'desktop';\r\n        this.verticalNavType = 'offcanvas';\r\n        this.verticalEffect = 'shrink';\r\n        this.pcodedHeaderPosition = 'fixed';\r\n        this.pcodedSidebarPosition = 'fixed';\r\n        this.headerTheme = 'theme1';\r\n        this.logoTheme = 'theme1';\r\n        this.toggleOn = true;\r\n        this.headerFixedMargin = '50px';\r\n        this.navBarTheme = 'themelight1';\r\n        this.activeItemTheme = 'theme4';\r\n        this.isCollapsedMobile = 'no-block';\r\n        this.chatToggle = 'out';\r\n        this.chatToggleInverse = 'in';\r\n        this.chatInnerToggle = 'off';\r\n        this.chatInnerToggleInverse = 'on';\r\n        this.menuTitleTheme = 'theme5';\r\n        this.itemBorder = true;\r\n        this.itemBorderStyle = 'none';\r\n        this.subItemBorder = true;\r\n        this.subItemIcon = 'style6';\r\n        this.dropDownIcon = 'style1';\r\n        this.isSidebarChecked = true;\r\n        this.isHeaderChecked = true;\r\n        const scrollHeight = window.screen.height - 150;\r\n        this.innerHeight = scrollHeight + 'px';\r\n        this.windowWidth = window.innerWidth;\r\n        this.setMenuAttributes(this.windowWidth);\r\n\r\n        const navigationSubscription = this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\r\n            this.toolbarItems = [];\r\n        });\r\n        this.subscriptions.add(navigationSubscription);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscriptions.unsubscribe();\r\n    }\r\n\r\n    public onResize(event) {\r\n        this.innerHeight = event.target.innerHeight + 'px';\r\n        this.windowWidth = event.target.innerWidth;\r\n        let reSizeFlag = true;\r\n        if (this.deviceType === 'tablet' && this.windowWidth >= 768 && this.windowWidth <= 1024) {\r\n            reSizeFlag = false;\r\n        } else if (this.deviceType === 'mobile' && this.windowWidth < 768) {\r\n            reSizeFlag = false;\r\n        }\r\n        if (reSizeFlag) {\r\n            this.setMenuAttributes(this.windowWidth);\r\n        }\r\n    }\r\n\r\n    public setMenuAttributes(windowWidth) {\r\n        if (windowWidth >= 768 && windowWidth <= 1024) {\r\n            this.deviceType = 'tablet';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'push';\r\n        } else if (windowWidth < 768) {\r\n            this.deviceType = 'mobile';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'overlay';\r\n        } else {\r\n            this.deviceType = 'desktop';\r\n            this.verticalNavType = 'offcanvas';\r\n            this.verticalEffect = 'shrink';\r\n        }\r\n    }\r\n\r\n    public toggleOpened() {\r\n        if (this.windowWidth < 768) {\r\n            this.toggleOn = this.verticalNavType === 'offcanvas' ? true : this.toggleOn;\r\n        }\r\n        this.verticalNavType = this.verticalNavType === 'expanded' ? 'offcanvas' : 'expanded';\r\n    }\r\n\r\n    public onClickedOutside(e: Event) {\r\n        if (this.windowWidth < 768 && this.toggleOn && this.verticalNavType !== 'offcanvas') {\r\n            this.toggleOn = true;\r\n            this.verticalNavType = 'offcanvas';\r\n        }\r\n    }\r\n\r\n    public onMobileMenu() {\r\n        this.isCollapsedMobile = this.isCollapsedMobile === 'yes-block' ? 'no-block' : 'yes-block';\r\n    }\r\n\r\n    public toggleChat() {\r\n        this.chatToggle = this.chatToggle === 'out' ? 'in' : 'out';\r\n        this.chatToggleInverse = this.chatToggleInverse === 'out' ? 'in' : 'out';\r\n        this.chatInnerToggle = 'off';\r\n        this.chatInnerToggleInverse = 'off';\r\n    }\r\n\r\n    public toggleChatInner() {\r\n        this.chatInnerToggle = this.chatInnerToggle === 'off' ? 'on' : 'off';\r\n        this.chatInnerToggleInverse = this.chatInnerToggleInverse === 'off' ? 'on' : 'off';\r\n    }\r\n\r\n    public setSidebarPosition() {\r\n        this.isSidebarChecked = !this.isSidebarChecked;\r\n        this.pcodedSidebarPosition = this.isSidebarChecked === true ? 'fixed' : 'absolute';\r\n    }\r\n\r\n    public setHeaderPosition() {\r\n        this.isHeaderChecked = !this.isHeaderChecked;\r\n        this.pcodedHeaderPosition = this.isHeaderChecked === true ? 'fixed' : 'relative';\r\n        this.headerFixedMargin = this.isHeaderChecked === true ? '50px' : '';\r\n    }\r\n\r\n    public setBackgroundPattern(pattern) {\r\n        document.querySelector('body').setAttribute('themebg-pattern', pattern);\r\n    }\r\n\r\n    public setLayoutType(type: string) {\r\n        this.layoutType = type;\r\n        if (type === 'dark') {\r\n            this.headerTheme = 'theme6';\r\n            this.navBarTheme = 'theme1';\r\n            this.logoTheme = 'theme6';\r\n            document.querySelector('body').classList.add('dark');\r\n        } else {\r\n            this.headerTheme = 'theme1';\r\n            this.navBarTheme = 'themelight1';\r\n            this.logoTheme = 'theme1';\r\n            document.querySelector('body').classList.remove('dark');\r\n        }\r\n    }\r\n\r\n    public setNavBarTheme(theme: string) {\r\n        if (theme === 'themelight1') {\r\n            this.navBarTheme = 'themelight1';\r\n        } else {\r\n            this.navBarTheme = 'theme1';\r\n        }\r\n    }\r\n\r\n    public initToolbarItems(actions: string[]) {\r\n        this.toolbarItems = actions.map(action => {\r\n            switch (action) {\r\n                case ToolbarAction.Save:\r\n                    return new ButtonDefinition({ action: action, title: 'Lu', style: 'primary', lazyload: true });\r\n                case ToolbarAction.SaveAll:\r\n                    return new ButtonDefinition({ action: action, title: 'Lu tt c', lazyload: true });\r\n                case ToolbarAction.Cancel:\r\n                    return new ButtonDefinition({ action: action, title: 'Hy lu' });\r\n                case ToolbarAction.Back:\r\n                    return new ButtonDefinition({ action: action, title: 'Quay li' });\r\n                case ToolbarAction.EditColumnOptions:\r\n                    return new ButtonDefinition({ action: action, title: 'Qun l ct' });\r\n                case ToolbarAction.SaveAndNew:\r\n                    return new ButtonDefinition({ action: action, title: 'Lu v to mi', lazyload: true });\r\n                case ToolbarAction.Reset:\r\n                    return new ButtonDefinition({ action: action, title: 'Lm mi' });\r\n            }\r\n        });\r\n    }\r\n\r\n    public getToolbarItems() {\r\n        return this.toolbarItems;\r\n    }\r\n\r\n    public hasToolbarItems(): boolean {\r\n        if (!this.toolbarItems) return false;\r\n        return this.toolbarItems.length > 0;\r\n    }\r\n\r\n    public showImage(image: any) {\r\n        this._aggregatorService.publish(KeyConst.ViewImage, image);\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { NotificationDetail } from '../shared/models/notification.model';\r\nimport { MenuTab, Breadcrumb, RecommendationResponse } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { AuthenticationService } from '../auth/auth.service';\r\nimport { AuthenticationLoginResponse } from '../auth/auth.model';\r\nimport { CacheService } from '../shared/services/cache.service';\r\n\r\n@Component({\r\n    templateUrl: './backsite-layout.component.html',\r\n    styleUrls: ['./backsite-layout.component.scss']\r\n})\r\n\r\nexport class AdminLayoutComponent implements OnInit, AfterViewInit {\r\n    public notifications: NotificationDetail[] = [];\r\n    public logo: string = 'https://cmcglobal.com.vn/css/image-common/Combined%20Shape.svg';\r\n    public title: string = 'CMC Global - Aspire to inspire the Digital World';;\r\n    public menuTabs: MenuTab[];\r\n    public isModalShow: boolean = false;\r\n    public modalImageSrc: string = '';\r\n    public imageAltText: string = '';\r\n    public breadcrumbs: Breadcrumb[] = [];\r\n    public breadcrumb: Breadcrumb;\r\n    public url: string = '/dashboard';\r\n    public authUrl: string = '/auth';\r\n    public setActive: boolean = false;\r\n    public menuType: string = 'TOP';\r\n    public isMobile: boolean;\r\n    public recommendation = new RecommendationResponse({});\r\n\r\n    constructor(\r\n        public workspaceLayoutService: DefaultLayoutService,\r\n        public route: ActivatedRoute,\r\n        public authenticationService: AuthenticationService,\r\n        protected router: Router,\r\n        protected actionService: ActionService,\r\n        protected aggregatorService: AggregatorService,\r\n        protected cacheService: CacheService\r\n    ) {\r\n        this.registerEvents();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.isMobile = this.actionService.isMobile();\r\n        if (this.isMobile) this.menuType = 'LEFT';\r\n        this.aggregatorService.subscribe(KeyConst.ViewImage, (image: any) => {\r\n            this.isModalShow = true;\r\n            this.modalImageSrc = image.src;\r\n            this.imageAltText = image.altText;\r\n        });\r\n\r\n        this.route.data.subscribe(data => {\r\n            if (data) {\r\n                if (data.menuTabs) this.menuTabs = <MenuTab[]>data.menuTabs;\r\n                if (!this.menuTabs || this.menuTabs.length == 0) {\r\n                    this.menuTabs = this.cacheService.get(KeyConst.Menu);\r\n                }\r\n                if (data.menuType) this.menuType = <string>data.menuType;\r\n                if (data.logo) this.logo = <string>data.logo;\r\n                if (data.title)<string>data.title;\r\n                if (data.url) this.url = <string>data.url;\r\n                if (data.authUrl) this.authUrl = <string>data.authUrl;\r\n                if (data.breadcrumb) this.breadcrumb = <Breadcrumb>data.breadcrumb;\r\n                if (data.recommendation) this.recommendation = <RecommendationResponse>data.recommendation;\r\n                if (!this.breadcrumb) {\r\n                    this.breadcrumb = new Breadcrumb({\r\n                        label: 'Home',\r\n                        url: this.url\r\n                    });\r\n                } else {\r\n                    this.breadcrumb.url = this.url;\r\n                }\r\n                if (this.router.url == '/') this.router.navigate([this.url]);\r\n                if (!this.authenticationService.currentUser) this.router.navigate([this.authUrl]);\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.router.events.subscribe((event) => {\r\n            if (event instanceof NavigationEnd) {\r\n                if (this.router.url == '/') {\r\n                    this.router.navigate([this.url]);\r\n                    this.setActive = !this.setActive;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public closeImage(): void {\r\n        this.isModalShow = false;\r\n    }\r\n\r\n    public changeMenu(items: Breadcrumb[]): void {\r\n        this.breadcrumbs = items;\r\n        this.breadcrumbs.splice(0, 0, this.breadcrumb);\r\n        this.aggregatorService.publish(KeyConst.MenuChanged, this.breadcrumbs);\r\n    }\r\n\r\n    private registerEvents(): void {\r\n        this.aggregatorService.subscribe(KeyConst.LoggedIn, (response: AuthenticationLoginResponse) => {\r\n            if (!response) return;\r\n            if (response.menuTabs) {\r\n                this.menuTabs = response.menuTabs;\r\n                this.cacheService.set(KeyConst.Menu, this.menuTabs);\r\n            }\r\n            this.authenticationService.currentUser = response.user;\r\n            this.workspaceLayoutService.verticalEffect = this.menuType == 'LEFT' ? 'overlay' : 'shrink';\r\n            this.actionService.executeAsync(() => {\r\n                this.setActive = !this.setActive;\r\n            });\r\n        });\r\n    }\r\n}\r\n","import { Component, ViewEncapsulation, Output, EventEmitter, Input, OnInit } from \"@angular/core\";\r\nimport { Breadcrumb, MenuTab } from '../shared/models/base.model';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { ActionService } from '../shared/services/action.service';\r\n\r\n@Component({\r\n    selector: 'default-breadcrumbs',\r\n    templateUrl: './breadcrumbs.component.html',\r\n    styleUrls: ['./breadcrumbs.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class DefaultBreadcrumbsComponent implements OnInit {\r\n    @Input() public items: Breadcrumb[];\r\n    @Input() public menuTabs: MenuTab[];\r\n    @Output() change: EventEmitter<Breadcrumb[]> = new EventEmitter();\r\n\r\n    constructor(\r\n        protected aggregatorService: AggregatorService,\r\n        protected actionService: ActionService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.aggregatorService.subscribe(KeyConst.MenuChanged, (items: Breadcrumb[]) => {\r\n            this.items = items;\r\n        });\r\n    }\r\n\r\n    public selectItem(item: Breadcrumb): void {\r\n        if (!this.items || this.items.length == 0) return;\r\n        var index = this.items.findIndex(s => s.label == item.label);\r\n        if (index == -1) return;\r\n\r\n        var data = [];\r\n        for (let i = 0; i < this.items.length; i++) {\r\n            data.push(this.items[i]);\r\n            if (this.items[i].label == item.label) break;\r\n        }\r\n        var child = this.actionService.retrieveChild(item.state, this.menuTabs);\r\n        if (child) {\r\n            data.push(child);\r\n        }\r\n        this.items = data;\r\n        this.aggregatorService.publish(KeyConst.MenuChanged, this.items);\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { animate, style, transition, trigger } from '@angular/animations';\r\nimport { DefaultLayoutService } from './layout.service';\r\n\r\n@Component({\r\n    selector: 'default-customizer',\r\n    templateUrl: 'customizer.component.html',\r\n    styleUrls: [],\r\n    animations: [\r\n        trigger('fadeInOutTranslate', [\r\n            transition(':enter', [\r\n                style({ opacity: 0 }),\r\n                animate('400ms ease-in-out', style({ opacity: 1 }))\r\n            ]),\r\n            transition(':leave', [\r\n                style({ transform: 'translate(0)' }),\r\n                animate('400ms ease-in-out', style({ opacity: 0 }))\r\n            ])\r\n        ])\r\n    ]\r\n})\r\n\r\nexport class DefaultCustomizerComponent {\r\n    public configOpenRightBar: string;\r\n\r\n    constructor(\r\n        public workspaceLayoutService: DefaultLayoutService\r\n    ) { }\r\n\r\n    public toggleRightbar() {\r\n        this.configOpenRightBar = this.configOpenRightBar === 'open' ? '' : 'open';\r\n    }\r\n}\r\n","import { Component, Input } from \"@angular/core\";\r\nimport { BaseTemplate } from '../shared/models/base.model';\r\n\r\n@Component({\r\n    selector: 'default-footer',\r\n    templateUrl: './footer.component.html',\r\n    styleUrls: ['./footer.component.scss']\r\n})\r\n\r\nexport class DefaultFooterComponent {\r\n    @Input() public template: BaseTemplate;\r\n    constructor() { }\r\n}\r\n","import { Component, Input, ViewChild, ElementRef } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { NotificationDetail } from '../shared/models/notification.model';\r\nimport { UserViewModel, AuthenticationLoginResponse } from '../auth/auth.model';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { AuthenticationService } from '../auth/auth.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\nimport { MenuTab, ExtendedMainMenuGroup, MenuItem, RecommendationResponse } from '../shared/models/base.model';\r\nimport { MenuService } from '../shared/services/menu.service';\r\nimport { DataService } from '../shared/services/data.service';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'default-header',\r\n    templateUrl: './header.component.html',\r\n    styleUrls: ['./header.component.scss']\r\n})\r\n\r\nexport class DefaultHeaderComponent {\r\n    @Input() public notifications: NotificationDetail[] = [];\r\n    @Input() public logo: string;\r\n    @Input() public title: string;\r\n    @Input() public menuType: string;\r\n    @Input() public set: (role: string) => MenuItem;\r\n    @Input() public menuTabs: MenuTab[] = [];\r\n    @Input() public data = new RecommendationResponse();\r\n    @ViewChild('menu', { static: true }) public menu: ElementRef;\r\n    public loading: boolean = false;\r\n    public filter: string;\r\n    public user: UserViewModel;\r\n    public isMobile: boolean;\r\n    public currentUrl: string;\r\n    public menuItems: ExtendedMainMenuGroup[] = [];\r\n    public isCollapsedSideBar: string;\r\n    public isSupplier = false;\r\n    public tabs: { name: string, menu: string, subName: string }[] = [];\r\n    public selectedMenu: ExtendedMainMenuGroup;\r\n    protected debound: Subject<any>;\r\n\r\n    constructor(\r\n        public layoutService: DefaultLayoutService,\r\n        protected router: Router,\r\n        protected route: ActivatedRoute,\r\n        protected actionService: ActionService,\r\n        protected dataService: DataService,\r\n        protected aggregatorService: AggregatorService,\r\n        protected authenticationService: AuthenticationService,\r\n        protected menuService: MenuService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.isMobile = this.actionService.isMobile();\r\n        if (this.isMobile) {\r\n            this.toggleMenu();\r\n        }\r\n        if (!this.authenticationService.currentUser) {\r\n            this.toggleMenu();\r\n        }\r\n\r\n        this.user = this.authenticationService.currentUser;\r\n        this.debound = this.dataService.initDebounceTime(this.data.deboundTime);\r\n        this.registerEvents();\r\n    }\r\n\r\n    public search(): void {\r\n        this.data.show = false;\r\n        this.data.all = false;\r\n        this.aggregatorService.publish(KeyConst.Search, this.data);\r\n    }\r\n\r\n    public clear(): void {\r\n        this.data.keyword = '';\r\n        this.data.show = false;\r\n    }\r\n\r\n    public focus(): void {\r\n        this.setTemplate();\r\n    }\r\n\r\n    public setCommendation($event): void {\r\n        if ($event.which == 13) {\r\n            this.search();\r\n        } else {\r\n            this.setTemplate();\r\n        }\r\n    }\r\n\r\n    public toggleMenu(): void {\r\n        if (this.layoutService.verticalEffect == 'overlay') {\r\n            this.layoutService.verticalEffect = 'shrink';\r\n        } else {\r\n            this.layoutService.verticalEffect = 'overlay';\r\n        }\r\n    }\r\n\r\n    public logout(): void {\r\n        this.authenticationService.logout(null, true);\r\n    }\r\n\r\n    public selectItem(item: ExtendedMainMenuGroup): void {\r\n        if (this.menuItems) {\r\n            this.menuItems.forEach((item) => {\r\n                item.selected = false;\r\n            });\r\n        }\r\n        item.selected = true;\r\n        this.selectedMenu = item;\r\n        this.data.selectedMenu = this.selectedMenu.label;\r\n        if (this.selectedMenu.children && this.selectedMenu.children.length > 0) {\r\n            this.selectedMenu.children.forEach((item) => {\r\n                item.selected = false;\r\n            });\r\n            this.selectedMenu.children[0].selected = true;\r\n        }\r\n    }\r\n\r\n    public getParentLink(item: ExtendedMainMenuGroup): string {\r\n        if (!item.children || item.children.length == 0) return 'javascript:;';\r\n        var currentItem = item.children[0];\r\n        return currentItem.mainState ? `/${currentItem.mainState}/${currentItem.state}` : `/${currentItem.state}`;\r\n    }\r\n\r\n    public getChildLink(item: any): string {\r\n        return item.mainState ? `/${item.mainState}/${item.state}` : `/${item.state}`;\r\n    }\r\n\r\n    public selectSubMenu(child: MenuItem): void {\r\n        if (!this.selectedMenu) return;\r\n        if (this.selectedMenu.children) {\r\n            this.selectedMenu.children.forEach((item) => {\r\n                item.selected = false;\r\n            });\r\n        }\r\n        child.selected = true;\r\n        this.data.selectedMenu = child.name;\r\n    }\r\n\r\n    private registerEvents(): void {\r\n        this.initMenu();\r\n        this.aggregatorService.subscribe(KeyConst.LoggedIn, (response: AuthenticationLoginResponse) => {\r\n            this.authenticationService.currentUser = response.user;\r\n            this.user = this.authenticationService.currentUser;\r\n            if (response.menuTabs) {\r\n                this.menuTabs = response.menuTabs;\r\n            }\r\n            this.actionService.executeAsync(() => {\r\n                this.toggleMenu();\r\n                this.setMenu();\r\n            });\r\n        });\r\n    }\r\n\r\n    private initMenu(): void {\r\n        this.menuService.init(this.menuTabs, () => {\r\n            this.tabs = this.menuService.getTabs();\r\n            this.currentUrl = this.tabs[0].menu;\r\n            this.menuItems = this.menuService.loadFirstTabItems(this.currentUrl);\r\n            this.actionService.executeAsync(() => {\r\n                this.isCollapsedSideBar = 'no-block';\r\n            });\r\n            this.setMenu();\r\n        }, this.set);\r\n    }\r\n\r\n    private setTemplate(): void {\r\n        if (this.data.keyword && this.data.keyword != '' && this.data.keyword != null) {\r\n            this.data.show = true;\r\n            this.debound.next(() => this.aggregatorService.publish(KeyConst.KeywordChanged, this.data));\r\n        } else this.data.show = false;\r\n    }\r\n\r\n    private setMenu(): void {\r\n        if (this.menuItems) {\r\n            var url = this.router.url;\r\n            this.menuItems.forEach((item) => {\r\n                if (item.children) {\r\n                    item.children.forEach((kid) => {\r\n                        var state = kid.mainState ? kid.mainState : kid.state;\r\n                        if (url.indexOf(state) > -1) {\r\n                            this.actionService.executeAsync(() => {\r\n                                let items = document.querySelectorAll(\".top-item\");\r\n                                if (items && items.length > 0) {\r\n                                    for (let i = 0; i < items.length; i++) {\r\n                                        const href = (<any>items[i]).href;\r\n                                        if (href && href.toString().indexOf(state) > 0) {\r\n                                            item.selected = true;\r\n                                            this.data.selectedMenu = item.label;\r\n                                            this.selectedMenu = item;\r\n                                            var data = url.split('/');\r\n                                            if (data && data.length > 0 && this.selectedMenu.children) {\r\n                                                var currentChild = this.selectedMenu.children.find(s => s.state == data[data.length - 1]);\r\n                                                if (currentChild) {\r\n                                                    currentChild.selected = true;\r\n                                                    this.data.selectedMenu = currentChild.name;\r\n                                                }\r\n                                            }\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { Component, Input, OnInit, OnChanges } from \"@angular/core\";\r\nimport { Breadcrumb, MenuTab } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { Router } from '@angular/router';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { KeyConst } from '../shared/constants/key.const';\r\n\r\n@Component({\r\n    selector: 'default-navbar',\r\n    templateUrl: './navbar.component.html'\r\n})\r\n\r\nexport class DefaultNavBarComponent implements OnInit, OnChanges {\r\n    @Input() public hideBreadcrumbsSection: boolean = false;\r\n    @Input() public items: Breadcrumb[];\r\n    @Input() public menuTabs: MenuTab[] = [];\r\n    @Input() public url: string;\r\n    @Input() public breadcrumb: Breadcrumb;\r\n\r\n    constructor(\r\n        private _actionService: ActionService,\r\n        private _router: Router,\r\n        protected aggregatorService: AggregatorService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        if (!this.items || this.items.length == 0) {\r\n            if (this.menuTabs && this.menuTabs.length > 0) {\r\n                var data = this._router.url;\r\n                var states = data.split('/');\r\n                if (states.length > 0) {\r\n                    var state = states[states.length - 1];\r\n                    if (!state && this.url) {\r\n                        data = this.url;\r\n                        states = data.split('/');\r\n                        state = states[states.length - 1];\r\n                    }\r\n                    if (state) {\r\n                        var name = this._actionService.retrieveStateName(state, this.menuTabs);\r\n                        this._actionService.changeItem({ state: state, name: name }, this.menuTabs, (items) => {\r\n                            this.items = items;\r\n                            this.items.splice(0, 0, this.breadcrumb);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnChanges(): void {\r\n        this.aggregatorService.subscribe(KeyConst.MenuChanged, (items: Breadcrumb[]) => {\r\n            this.items = items;\r\n        });\r\n    }\r\n\r\n    public retrieveCurrentItem(): Breadcrumb {\r\n        if (!this.items || this.items.length == 0) return null;\r\n        return this.items[this.items.length - 1];\r\n    }\r\n}\r\n","import { Component, Input, OnInit, Output, EventEmitter, OnChanges } from \"@angular/core\";\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { MenuService } from '../shared/services/menu.service';\r\nimport { ExtendedMainMenuGroup, MenuTab, MenuItem, Breadcrumb } from '../shared/models/base.model';\r\nimport { ActionService } from '../shared/services/action.service';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\n\r\n@Component({\r\n  selector: 'default-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss']\r\n})\r\n\r\nexport class DefaultSidebarComponent implements OnInit, OnChanges {\r\n  @Input() public menuTabs: MenuTab[] = [];\r\n  @Input() public navigateTo: (menu: string, router: Router) => void;\r\n  @Input() public set: (role: string) => MenuItem;\r\n  @Input() public menuType: string;\r\n  @Input() public setActive: boolean;\r\n  @Output() public change = new EventEmitter<Breadcrumb[]>();\r\n  public currentUrl: string;\r\n  public menuItems: ExtendedMainMenuGroup[] = [];\r\n  public isCollapsedSideBar: string;\r\n  public collapsedItems: ExtendedMainMenuGroup[] = [];\r\n  public isSupplier = false;\r\n  public tabs: { name: string, menu: string, subName: string }[] = [];\r\n  public carouselTile: any;\r\n  public isPageLoad: boolean = false;\r\n  public isMobile: boolean;\r\n  public clicked: boolean;\r\n\r\n  constructor(\r\n    public workspaceLayoutService: DefaultLayoutService,\r\n    protected route: ActivatedRoute,\r\n    protected router: Router,\r\n    protected menuService: MenuService,\r\n    protected actionService: ActionService,\r\n    protected aggregatorService: AggregatorService\r\n  ) {\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.actionService.executeAsync(() => {\r\n      this.menuService.init(this.menuTabs, () => {\r\n        this.tabs = this.menuService.getTabs();\r\n        this.currentUrl = this.tabs[0].menu;\r\n        this.menuItems = this.menuService.loadFirstTabItems(this.currentUrl);\r\n        this.actionService.executeAsync(() => {\r\n          this.isCollapsedSideBar = 'no-block';\r\n        });\r\n        this.actionService.executeAsync(() => {\r\n          this.selectMenu();\r\n        });\r\n        this.router.events.subscribe((event) => {\r\n          if (event instanceof NavigationEnd) {\r\n            this.actionService.executeAsync(() => {\r\n              this.selectMenu();\r\n            });\r\n          }\r\n        });\r\n      }, this.set);\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.navigateTo) {\r\n      this.navigateTo = (menu: string, router: Router) => {\r\n        router.navigate(['/', menu, 'dashboard']);\r\n      }\r\n    }\r\n    this.isMobile = this.actionService.isMobile();\r\n    if (this.isMobile) {\r\n      if (this.workspaceLayoutService.verticalEffect == 'overlay') {\r\n        this.workspaceLayoutService.verticalEffect = 'shrink';\r\n      } else {\r\n        this.workspaceLayoutService.verticalEffect = 'overlay';\r\n      }\r\n    }\r\n  }\r\n\r\n  public toggleMenu(): void {\r\n    if (this.isMobile && this.menuType == 'LEFT') {\r\n      if (this.workspaceLayoutService.verticalEffect == 'overlay') {\r\n        this.workspaceLayoutService.verticalEffect = 'shrink';\r\n      } else {\r\n        this.workspaceLayoutService.verticalEffect = 'overlay';\r\n      }\r\n    }\r\n  }\r\n\r\n  public toggleOpenedSidebar() {\r\n    this.isCollapsedSideBar = this.isCollapsedSideBar === 'yes-block' ? 'no-block' : 'yes-block';\r\n  }\r\n\r\n  public loadMenu(menu: string): void {\r\n    this.menuItems = this.menuService.loadMenuItems(menu);\r\n    this.currentUrl = menu.toLocaleLowerCase();\r\n    this.navigateTo(this.currentUrl, this.router);\r\n  }\r\n\r\n  public selectItem(item: any): void {\r\n    this.actionService.changeItem(item, this.menuTabs, (items: Breadcrumb[]) => {\r\n      this.change.emit(items);\r\n    });\r\n  }\r\n\r\n  private selectMenu(): void {\r\n    var url = this.router.url;\r\n    var menuItems = document.querySelectorAll('.pcoded-navigatio-lavel');\r\n    if (menuItems && menuItems.length > 0) {\r\n      menuItems.forEach((menu: any) => {\r\n        menu.classList.remove('active');\r\n        var children = document.querySelectorAll(`.${menu.text}`);\r\n        if (children && children.length > 0) {\r\n          children.forEach((child) => {\r\n            child.classList.remove('active');\r\n          });\r\n        }\r\n        if (menu.href && menu.href.indexOf(url) > -1) {\r\n          menu.classList.add('active');\r\n        } else {\r\n          if (children && children.length > 0) {\r\n            children.forEach((child: any) => {\r\n              if (child.href && child.href.indexOf(url) > -1) {\r\n                child.classList.add('active');\r\n                menu.classList.add('active');\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'katana-no-content',\r\n  templateUrl: './404.component.html'\r\n})\r\n\r\nexport class NotFoundComponent {\r\n  constructor(private _router: Router) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n}\r\n\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'katana-forbidden',\r\n  templateUrl: './403.component.html'\r\n})\r\n\r\nexport class AccessDeniedComponent {\r\n  constructor(\r\n    private _router: Router,\r\n    private _location: Location) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n\r\n  public back(): void {\r\n    this._location.back();\r\n  }\r\n}\r\n\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'katana-working',\r\n  templateUrl: './400.component.html'\r\n})\r\n\r\nexport class WorkingComponent {\r\n  constructor(private _router: Router) { }\r\n\r\n  public gotoHome(): void {\r\n    this._router.navigate(['/']);\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NotFoundComponent } from './404/404.component';\r\nimport { AccessDeniedComponent } from './403/403.component';\r\nimport { WorkingComponent } from './400/400.component';\r\n\r\nconst declarations = [\r\n  NotFoundComponent,\r\n  AccessDeniedComponent,\r\n  WorkingComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  entryComponents: declarations,\r\n  exports: declarations,\r\n  providers: []\r\n})\r\n\r\nexport class PageModule { }","import { Input } from '@angular/core';\r\nexport class LoaderProvider {\r\n  @Input() public item: any;\r\n}\r\n","import { Component, OnDestroy } from '@angular/core';\r\nimport { Router, NavigationStart, NavigationEnd, NavigationCancel, NavigationError } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'katana-spinner',\r\n  templateUrl: './spinner.component.html',\r\n})\r\n\r\nexport class SpinnerComponent implements OnDestroy {\r\n  public isSpinnerVisible = true;\r\n  private subscriptions: Subscription = new Subscription();\r\n\r\n  constructor(private router: Router) {\r\n    const routerSubscription = this.router.events.subscribe((event) => {\r\n      if (event instanceof NavigationStart) {\r\n        this.isSpinnerVisible = true;\r\n      } else if (event instanceof NavigationEnd || event instanceof NavigationCancel || event instanceof NavigationError) {\r\n        this.isSpinnerVisible = false;\r\n      }\r\n    }, () => {\r\n      this.isSpinnerVisible = false;\r\n    });\r\n    this.subscriptions.add(routerSubscription);\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.isSpinnerVisible = false;\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SpinnerComponent } from './spinner.component';\r\n\r\n@NgModule({\r\n  declarations: [SpinnerComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [SpinnerComponent]\r\n})\r\n\r\nexport class SpinnerModule { }\r\n","import { Component, Input, Output, EventEmitter, SimpleChanges, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'katana-checkbox',\r\n    templateUrl: './checkbox.component.html',\r\n    styleUrls: ['./checkbox.component.scss']\r\n})\r\n\r\nexport class CheckboxComponent implements OnDestroy {\r\n    @Input() public model: boolean;\r\n    @Input() public title: string;\r\n    @Input() public customModel: any;\r\n    @Output() public customModelChange: EventEmitter<any> = new EventEmitter();\r\n    @Input() public customModelTransformation: (value: any) => any;\r\n    @Input() public disabled: boolean;\r\n    @Input() public direction: 'vertical' | 'horizontal' = 'horizontal';\r\n    @Input() validationName: string;\r\n    @Input() validationScope: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    @Output() public modelChange: EventEmitter<boolean> = new EventEmitter();\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.customModel) {\r\n            const value = changes.customModel.currentValue;\r\n            this.model = this.customModelTransformation(value);\r\n            this.customModelChange.emit(value);\r\n        }\r\n    }\r\n\r\n    public onModelChange(value: boolean) {\r\n        if (this.customModelTransformation) {\r\n            const newValue = this.customModelTransformation(value);\r\n            this.customModelChange.emit(newValue);\r\n        } else {\r\n            this.modelChange.emit(value);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.emitNullOnDestroy === true)\r\n            this.modelChange.emit(null);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CheckboxComponent } from './checkbox.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [CheckboxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule\r\n  ],\r\n  exports: [CheckboxComponent]\r\n})\r\n\r\nexport class CheckboxModule { }\r\n","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-row-detail]'\r\n})\r\n\r\nexport class TableRowDetailDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) {}\r\n}","import { Observable } from 'rxjs';\r\nimport { TableComponent } from './table.component';\r\nimport { TemplateRef, ElementRef, Type } from '@angular/core';\r\nimport { ValidationOption } from '../validation/validation.model';\r\n\r\nexport interface TableEditInline {\r\n  enabled?: boolean;\r\n  autoCommit?: boolean;\r\n  createAsync?: (item: any) => Observable<any>;\r\n  updateAsync?: (item: any, column?: TableColumn) => Observable<any>;\r\n}\r\n\r\nexport interface TableCell {\r\n  item?: any;\r\n  column?: TableColumn;\r\n}\r\n\r\nexport class TableColumn {\r\n  title?: () => string;\r\n  valueRef?: () => any;\r\n  inlineCallback?: (item?: any, field?: string) => any;\r\n  direction?: string;\r\n  allowSort?: boolean;\r\n  allowFilter?: boolean;\r\n  order?: number;\r\n  customClass?: string;\r\n  defaultSorter?: boolean;\r\n  width?: number;\r\n  textAlign?: string;\r\n  type?: TableColumnType;\r\n  showTooltip?: boolean;\r\n  editInline?: boolean;\r\n  validationOption?: ValidationOption;\r\n  callback?: (provider?: TableComponent, element?: ElementRef, $event?: any) => any;\r\n  customTemplate?: () => TemplateRef<any>;\r\n  hide?: () => boolean;\r\n  dropdownConfiguration?: {\r\n    searchFunction: (text: string, index: number, currentPage: number, pageSize: number) => Observable<{ items: any[], totalRecords: number }>,\r\n    multiple?: boolean,\r\n    bindLabel: string,\r\n    bindValue: string,\r\n  };\r\n  id?: string;\r\n  filterTemplate?: () => TemplateRef<any>;\r\n\r\n  constructor(init?: Partial<TableColumn>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TableSorter {\r\n  direction?: string;\r\n  orderBy?: string;\r\n  order?: number;\r\n}\r\n\r\nexport class TableAction {\r\n  id?: string;\r\n  title?: () => string;\r\n  tooltip?: () => string;\r\n  icon?: string;\r\n  type?: string = TableConstant.ActionType.Inline;\r\n  customClass?: string;\r\n  executeAsync?: (item?: any, element?: ElementRef, provider?: any, index?: number, loadedCallback?: Function) => any;\r\n  disabled?: boolean;\r\n  hide?: (item?: any) => boolean;\r\n  lazyload?: boolean;\r\n  constructor(init?: Partial<TableAction>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport interface TableRequest {\r\n  searchText?: string;\r\n  pageSize?: number;\r\n  pageIndex?: number;\r\n  sorters?: TableSorter[];\r\n  data?: any;\r\n}\r\n\r\nexport class TableText {\r\n  placeholderSearch?: string = TableConstant.DisplayText.PlaceholderSearch;\r\n  btnSearch?: string = TableConstant.DisplayText.BtnSearch;\r\n  btnReset?: string = TableConstant.DisplayText.BtnReset;\r\n  action?: string = TableConstant.DisplayText.Action;\r\n  selectPageSize?: string = TableConstant.DisplayText.SelectPageSize;\r\n  deleteTitle?: string = TableConstant.DisplayText.DeleteTitle;\r\n  btnAcceptTitle?: string = TableConstant.DisplayText.BtnAcceptTitle;\r\n  btnCancelTitle?: string = TableConstant.DisplayText.BtnCancelTitle\r\n  filterTitle?: string = TableConstant.DisplayText.FilterTitle;\r\n  applyFilter?: string = TableConstant.DisplayText.ApplyFilter;\r\n  detailTitle?: string = TableConstant.DisplayText.DetailTitle;\r\n  pageTitle?: string = TableConstant.DisplayText.PageTitle;\r\n  advancedSearchTitle?: string = TableConstant.DisplayText.AdvancedSearchTitle;\r\n  advancedBtnTitle?: string = TableConstant.DisplayText.AdvancedBtnTitle;\r\n  advancedBtnCancelTitle?: string = TableConstant.DisplayText.AdvancedBtnCancelTitle;\r\n  allTitle?: string = TableConstant.DisplayText.AllTitle;\r\n}\r\n\r\nexport class TableMessage {\r\n  notFoundMessage?: string = TableConstant.Message.NotFoundMessage;\r\n  foundMessage?: string = TableConstant.Message.FoundMessage;\r\n  invalidFormatMessage?: string = TableConstant.Message.InvalidFormatMessage;\r\n  selectedItemsMessage?: string = TableConstant.Message.SelectedItemsMessage;\r\n  confirmSelectAllRecordsMessage?: string = TableConstant.Message.ConfirmSelectAllRecordsMessage;\r\n  confirmClearAllRecordsMessage?: string = TableConstant.Message.ConfirmClearAllRecordsMessage;\r\n  deleteMessage?: string = TableConstant.Message.DeleteMessage;\r\n  loadingMessage?: string = TableConstant.Message.LoadingMessage;\r\n  refMessage?: string = TableConstant.Message.RefMessage;\r\n}\r\n\r\nexport interface TableResponse<T> {\r\n  totalRecords?: number;\r\n  items?: T[];\r\n}\r\n\r\nexport interface TableServiceProvider {\r\n  searchAsync?: (request?: any) => Observable<any>;\r\n  createAsync?: (item: any) => Observable<any>;\r\n  updateAsync?: (item: any) => Observable<any>;\r\n  deleteAsync?: (ids: string, all?: boolean) => Observable<any>;\r\n  exportAsync?: (request?: any) => Observable<any>;\r\n}\r\n\r\nexport class TableDatetimeFormat {\r\n  format: string = 'MM/dd/yyyy';\r\n  full: boolean = true;\r\n  constructor(init: Partial<TableDatetimeFormat>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class EdittedField {\r\n  item?: any;\r\n  field?: string;\r\n  index?: number;\r\n  constructor(init: Partial<EdittedField>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ChangedCell {\r\n  oldValue?: any;\r\n  field?: string;\r\n  currentValue?: any;\r\n  constructor(init: Partial<ChangedCell>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ChangedRow {\r\n  currentItem?: any;\r\n  oldItem?: any;\r\n  cells?: ChangedCell[];\r\n  constructor(init: Partial<ChangedRow>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class TableOption {\r\n  sort?: (a: any, b: any, orderBy: string) => number;\r\n  multiple?: boolean = true;\r\n  datetimeFormat?: TableDatetimeFormat = new TableDatetimeFormat({});\r\n  paging?: boolean;\r\n  selectedItems?: any[];\r\n  serviceProvider?: TableServiceProvider;\r\n  localData?: () => Observable<any[]>;\r\n  request?: TableRequest;\r\n  mainColumns: TableColumn[] = [];\r\n  displayText?: TableText;\r\n  message?: TableMessage;\r\n  componentClass?: string;\r\n  actions?: TableAction[] = [];\r\n  topButtons?: TableAction[] = [];\r\n  rowDetailTemplate?: Type<any>;\r\n  expandFilterArea?: boolean;\r\n  pageSizes?: number[];\r\n  defaultPageSize?: number = 5;\r\n  totalToolbarItem?: number = 5;\r\n  maxPage?: number;\r\n  key?: string;\r\n  title?: string;\r\n  maxLenghtext?: number;\r\n  mode: TableMode = TableMode.full;\r\n  hideSequenceColumn?: boolean = false;\r\n  hideCheckboxColumn?: boolean = false;\r\n  displayMode?: 'list' | 'full';\r\n  defaultOrderBy?: string;\r\n  defautOrderDirection?: string;\r\n  inlineEdit?: boolean = false;\r\n  searchFields?: string[];\r\n  constructor(init: Partial<TableOption>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport enum TableMode {\r\n  compact = 'compact',\r\n  full = 'full'\r\n}\r\n\r\n\r\nexport class TableConstant {\r\n  public static ComponentClass: string = 'primary';\r\n  public static Key: string = 'name';\r\n  public static DatetimeLocate: string = 'vi-VN';\r\n  public static PageSizes: number[] = [5, 10, 15, 20, 50];\r\n  public static Message = {\r\n    NotFoundMessage: 'Cha c thng tin',\r\n    InvalidFormatMessage: 'khng hp l.',\r\n    FoundMessage: 'Tm thy <span class=\"confirm-highlight\">[0]</span> kt qu.',\r\n    SelectedItemsMessage: ' chn <span class=\"highlight\">[0]</span> bn ghi.',\r\n    ConfirmSelectAllRecordsMessage: '<span class=\"confirm-highlight\">Chn tt c kt qu?</span>',\r\n    ConfirmClearAllRecordsMessage: '<span class=\"confirm-highlight text-danger\">B chn tt c </span>?',\r\n    DeleteMessage: 'Bn c chc chn mun xa <span class=\"confirm-highlight text-danger\">[0]</span> khng?',\r\n    LoadingMessage: 'ang ti d liu...',\r\n    RefMessage: 'lin quan ti'\r\n  };\r\n\r\n  public static DisplayText = {\r\n    PlaceholderSearch: 'Nhp t kha tm kim...',\r\n    BtnReset: 'Khi phc',\r\n    BtnSearch: 'Tm kim',\r\n    Action: 'Hnh ng',\r\n    SelectPageSize: 'Hin th',\r\n    DeleteTitle: 'Xa',\r\n    BtnAcceptTitle: 'ng ',\r\n    BtnCancelTitle: 'ng',\r\n    FilterTitle: 'Tm kim theo',\r\n    ApplyFilter: 'p dng lc',\r\n    DetailTitle: 'Thng tin chi tit',\r\n    PageTitle: 'Trang',\r\n    AdvancedSearchTitle: 'Tm kim nng cao',\r\n    AdvancedBtnTitle: 'Tm kim',\r\n    AdvancedBtnCancelTitle: 'Hy b',\r\n    AllTitle: 'Tt c'\r\n  };\r\n\r\n  public static Direction = {\r\n    ASC: 'asc',\r\n    DESC: 'desc'\r\n  };\r\n\r\n  public static TextAlign = {\r\n    Left: 'left',\r\n    Right: 'right',\r\n    Center: 'center'\r\n  };\r\n\r\n  public static Action = {\r\n    Edit: 'edit',\r\n    Delete: 'delete',\r\n    Custom: 'Custom'\r\n  }\r\n  public static ActionType = {\r\n    Both: 'both',\r\n    Toolbar: 'toolbar',\r\n    Inline: 'inline'\r\n  }\r\n};\r\n\r\nexport enum TableColumnType {\r\n  Number = 'number',\r\n  String = 'string',\r\n  Date = 'date',\r\n  DateTime = 'datetime',\r\n  DateRange = 'daterange',\r\n  DateTimeRange = 'datetimerange',\r\n  Time = 'time',\r\n  TimeRange = 'timerange',\r\n  Boolean = 'boolean',\r\n  Description = 'description',\r\n  Currency = 'currency',\r\n  Dropdown = 'dropdown',\r\n  Custom = 'custom',\r\n}","import { Component, OnInit, Input, ViewChild, ElementRef, ContentChild, Renderer2, RendererFactory2, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\nimport { TableOption, TableColumn, TableAction, TableMode, TableConstant, TableResponse, TableText, TableMessage, TableColumnType, EdittedField, ChangedRow, ChangedCell } from './table.model';\r\nimport { TableRowDetailDirective } from './table-row-detail.directive';\r\nimport { Observable, of, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\nimport { DataService } from '../services/data.service';\r\nimport { delay } from \"rxjs/operators\";\r\nimport { ValidationService } from '../validation/validation.service';\r\nimport { ClientValidator, ValidationOption } from '../validation/validation.model';\r\nimport { IgxExcelExporterService, IgxExcelExporterOptions } from 'igniteui-angular';\r\n\r\n@Component({\r\n  selector: 'katana-table',\r\n  templateUrl: './table.component.html',\r\n  styleUrls: ['./table.component.scss'],\r\n  animations: [\r\n    trigger('cAnimation', [\r\n      state('void', style({})),\r\n      state('*', style({})),\r\n      transition(':enter', [\r\n        style({ transform: 'translateY(-30px)', opacity: 0 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateY(0)', opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        style({ transform: 'translateY(0)', opacity: 1 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateY(-30px)', opacity: 0 }))\r\n      ])\r\n    ]),\r\n    trigger('cAnimationFadeRight', [\r\n      state('void', style({})),\r\n      state('*', style({})),\r\n      transition(':enter', [\r\n        style({ transform: 'translateX(30px)', opacity: 0 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateX(0)', opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        style({ transform: 'translateX(0)', opacity: 1 }),\r\n        animate('300ms ease-in-out', style({ transform: 'translateX(30px)', opacity: 0 }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class TableComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() public option: TableOption;\r\n  @ViewChild('searchRef', { static: true }) public searchRef: ElementRef;\r\n  @ViewChild('gotoRef', { static: true }) public gotoRef: ElementRef;\r\n  @ViewChild('tableRef', { static: true }) public tableRef: ElementRef;\r\n  @ContentChild(TableRowDetailDirective, { static: true }) public rowDetailTemplate: TableRowDetailDirective;\r\n  @ViewChild('wrapper', { static: false }) public wrapper: ElementRef;\r\n  public items: any[] = [];\r\n  public totalRecords: number = 0;\r\n  public loading: boolean;\r\n  public selectedItems: any[] = [];\r\n  public pageSize: number;\r\n  public orderBy: string;\r\n  public direction: string;\r\n  public totalPages: number[] = [];\r\n  public currentPage: number = 0;\r\n  public filter: any = {};\r\n  public maxPage: number = 5;\r\n  public selectedAll: boolean = false;\r\n  public filterColumns: TableColumn[] = [];\r\n  public toolbarActions: TableAction[] = [];\r\n  public inlineActions: TableAction[] = [];\r\n  public filterSectionToggle: boolean = false;\r\n  public textSearched: string = ``;\r\n  public showReset: boolean = false;\r\n  private defaultPageSize: number = 5;\r\n  private localData?: any[];\r\n  private _render: Renderer2;\r\n  public hasFilterSection: boolean;\r\n  public hasToolbarSection: boolean;\r\n  public hasFooterSection: boolean;\r\n  public hasDetailTemplate: boolean;\r\n  public hasPageSizeChooser: boolean;\r\n  public changePage$: BehaviorSubject<number> = new BehaviorSubject(0);\r\n  public changedRows: ChangedRow[] = [];\r\n  private request: any = {};\r\n  private previousRequest: any = {};\r\n  private recursiveCounter: number = 0;\r\n  private subscriptions: Subscription = new Subscription();\r\n  protected edittedFields: EdittedField[] = [];\r\n  protected previousItems: any[] = [];\r\n\r\n  constructor(\r\n    private thisElement: ElementRef,\r\n    protected rendererFactory: RendererFactory2,\r\n    protected dataService: DataService,\r\n    protected validationService: ValidationService,\r\n    protected excelExporterService: IgxExcelExporterService\r\n  ) {\r\n    this._render = rendererFactory.createRenderer(null, null);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.init();\r\n    const changePageSubscription = this.changePage$.pipe(distinctUntilChanged()).subscribe(pageIndex => {\r\n      if (pageIndex < 0 || pageIndex >= this.totalPages.length) return;\r\n      this.currentPage = pageIndex;\r\n      if (!this.option.request) {\r\n        this.option.request = {};\r\n      }\r\n      this.option.request.pageIndex = this.currentPage;\r\n      this.searchAsync(null, null, true).subscribe();\r\n    });\r\n    this.subscriptions.add(changePageSubscription);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.registerEvents();\r\n    this.initValidations();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  public init(): void {\r\n    if (this.option.selectedItems && this.option.selectedItems.length > 0) {\r\n      if (!this.selectedItems) this.selectedItems = [];\r\n      this.option.selectedItems.forEach((item) => {\r\n        this.selectedItems.push(item);\r\n      });\r\n    }\r\n\r\n    if (!this.option.mode) this.option.mode = TableMode.full;\r\n    if (!this.option.actions) this.option.actions = [];\r\n    if (!this.option.key) this.option.key = TableConstant.Key;\r\n    if (!this.option.totalToolbarItem) this.option.totalToolbarItem = 5;\r\n    if (this.option.maxPage) this.maxPage = this.option.maxPage;\r\n    if (!this.option.defaultOrderBy) this.option.defaultOrderBy = 'CreatedDate';\r\n    if (!this.option.defautOrderDirection) this.option.defautOrderDirection = TableConstant.Direction.DESC;\r\n    if (!this.option.componentClass) {\r\n      this.option.componentClass = TableConstant.ComponentClass;\r\n      this.thisElement.nativeElement.classList.add(this.option.componentClass);\r\n    }\r\n\r\n    if (this.option.maxLenghtext === undefined || this.option.maxLenghtext === null) {\r\n      this.option.maxLenghtext = 150;\r\n    }\r\n\r\n    this.initTableTableTexts();\r\n    this.initTableTableMessages();\r\n    this.initMainColumns();\r\n    if (this.option.actions) {\r\n      this.option.actions.forEach((action) => {\r\n        if (!action.type) action.type = TableConstant.ActionType.Inline;\r\n      });\r\n    }\r\n    this.toolbarActions = this.option.actions.filter(x => [TableConstant.ActionType.Both, TableConstant.ActionType.Toolbar].indexOf(x.type) >= 0);\r\n    this.inlineActions = this.option.actions.filter(x => [TableConstant.ActionType.Both, TableConstant.ActionType.Inline].indexOf(x.type) >= 0);\r\n\r\n    const inFullMode = this.option.mode === TableMode.full;\r\n    this.filterColumns = this.option.mainColumns.filter(column => column.allowFilter)\r\n      .sort((a: TableColumn, b: TableColumn) => a.order > b.order ? 1 : a.order === b.order ? 0 : -1);\r\n    this.hasFilterSection = inFullMode;\r\n\r\n    if (this.option.paging === undefined) {\r\n      this.option.paging = inFullMode;\r\n    }\r\n\r\n    if (inFullMode) {\r\n      if (!this.option.pageSizes) this.option.pageSizes = TableConstant.PageSizes;\r\n      if (!this.option.defaultPageSize) this.option.defaultPageSize = TableConstant.PageSizes[0];\r\n      if (this.option.defaultPageSize) this.defaultPageSize = this.option.defaultPageSize;\r\n    }\r\n\r\n    const hasToolbarActions = this.option.actions && this.option.actions.filter(x => [TableConstant.ActionType.Toolbar, TableConstant.ActionType.Both].indexOf(x.type) >= 0).length > 0;\r\n    const hasTopButtons = this.option.topButtons && this.option.topButtons.length > 0;\r\n\r\n    this.hasToolbarSection = inFullMode || hasToolbarActions || hasTopButtons;\r\n    this.hasFooterSection = inFullMode || this.option.paging;\r\n    this.hasPageSizeChooser = this.option.paging;\r\n    if (this.option.hideCheckboxColumn === undefined) {\r\n      this.option.hideCheckboxColumn = !hasToolbarActions;\r\n    }\r\n\r\n    if (!this.option.request) {\r\n      this.option.request = {\r\n        pageIndex: 0,\r\n        pageSize: this.defaultPageSize\r\n      };\r\n      if (this.option.defaultPageSize) {\r\n        this.option.request.pageSize = this.option.defaultPageSize;\r\n        this.pageSize = this.option.request.pageSize;\r\n      }\r\n      this.searchAsync().subscribe();\r\n    } else {\r\n      if (!this.option.request.pageSize) {\r\n        this.pageSize = this.option.request.pageSize;\r\n      } else {\r\n        this.pageSize = this.defaultPageSize;\r\n      }\r\n      this.searchAsync().subscribe();\r\n    }\r\n  }\r\n\r\n  public callback(): Observable<any> {\r\n    return of(this.selectedItems);\r\n  }\r\n\r\n  public copy(item: any, refresh: boolean = true, execute?: (item: any) => void, callback?: (copyItem: any) => void): void {\r\n    if (!this.items) this.items = [];\r\n    var copyItem = this.dataService.cloneItem(item);\r\n    if (copyItem.id) copyItem.id = this.dataService.newGuid();\r\n    if (execute) {\r\n      execute(copyItem);\r\n    }\r\n    if (this.option.localData) {\r\n      this.localData.push(copyItem);\r\n    }\r\n    this.items.push(copyItem);\r\n    if (callback) callback(copyItem);\r\n    if (refresh == true) {\r\n      this.searchAsync(true).subscribe();\r\n    }\r\n  }\r\n\r\n  public exportToExcel(fileName?: string, callback?: () => any): void {\r\n    if (!this.option.mainColumns || this.option.mainColumns.length == 0) return null;\r\n    var request = this.buildRequest(0, true);\r\n    request.pageSize = 9999999;\r\n    let search = this.option.localData ? (req) => { return this.searchLocalItems(req); } : (req) => { return this.option.serviceProvider.searchAsync(req) };\r\n    if (search) {\r\n      var data = [];\r\n      search(request).subscribe((response) => {\r\n        response.items.forEach((item) => {\r\n          var exportedItem = {};\r\n          this.option.mainColumns.forEach((column) => {\r\n            if (column.valueRef) {\r\n              exportedItem[column.title()] = item[column.valueRef()];\r\n            }\r\n          });\r\n          data.push(exportedItem);\r\n        });\r\n        this.excelExporterService.exportData(data, new IgxExcelExporterOptions(fileName ? fileName : new Date().getTime().toString()));\r\n        if (callback) callback();\r\n      });\r\n    }\r\n  }\r\n\r\n  public resetChanges(): void {\r\n    this.previousItems = [];\r\n    this.changedRows = [];\r\n  }\r\n\r\n  public acceptInlineEdit(item: any, field: string, index: number, ref?: any, validationOption?: ValidationOption, callback?: (item: any, field: string) => any): void {\r\n    var element = ref.getElement();\r\n    validationOption.itemRef = item;\r\n    if (!validationOption.valueResolver) {\r\n      validationOption.valueResolver = (item) => {\r\n        return item[field];\r\n      }\r\n    }\r\n    this.validationService.validateElementAsync(element, validationOption).subscribe((response) => {\r\n      if (!response || response.length == 0) {\r\n        var currentItem = this.changedRows.find(s => s.currentItem.id == item.id);\r\n        var previousItem = this.previousItems.find(s => s.id == item.id);\r\n        if (!currentItem) {\r\n          if (item[field] != previousItem[field]) {\r\n            this.changedRows.push(new ChangedRow({\r\n              currentItem: this.dataService.cloneItem(item),\r\n              oldItem: previousItem,\r\n              cells: [\r\n                new ChangedCell({\r\n                  field: field,\r\n                  currentValue: item[field],\r\n                  oldValue: previousItem[field]\r\n                })\r\n              ]\r\n            }));\r\n          }\r\n        } else {\r\n          var currentField = currentItem.cells.find(s => s.field == field);\r\n          if (!currentField) {\r\n            currentItem.cells.push(new ChangedCell({\r\n              field: field,\r\n              currentValue: item[field],\r\n              oldValue: previousItem[field]\r\n            }));\r\n          } else {\r\n            if (item[field] != null && item[field] != undefined && item[field] != '' &&\r\n              currentField.oldValue != null && currentField.oldValue != undefined && currentField.oldValue != '') {\r\n              if (item[field].toString() != currentField.oldValue.toString()) {\r\n                currentField.currentValue = item[field];\r\n              } else {\r\n                var cellIndex = currentItem.cells.findIndex(s => s.field == field);\r\n                currentItem.cells.splice(cellIndex, 1);\r\n                if (currentItem.cells.length == 0) {\r\n                  var currentItemIndex = this.changedRows.findIndex(s => s.currentItem.id == item.id);\r\n                  this.changedRows.splice(currentItemIndex, 1);\r\n                }\r\n              }\r\n            } else {\r\n              currentField.currentValue = item[field];\r\n            }\r\n          }\r\n        }\r\n        this.closeInlineEdit(field, index);\r\n        if (callback) callback(item, field);\r\n      }\r\n    });\r\n  }\r\n\r\n  public cancelInlineEdit(item: any, field: string, index: number): void {\r\n    var currentItem = this.retrieveInlineEdit(field, index);\r\n    if (!currentItem) return;\r\n    item[field] = currentItem.item[field];\r\n    this.closeInlineEdit(field, index);\r\n  }\r\n\r\n  public closeInlineEdit(field: string, index: number): void {\r\n    var itemIndex = this.edittedFields.findIndex(s => s.field == field && s.index == index);\r\n    if (itemIndex > -1) this.edittedFields.splice(itemIndex, 1);\r\n  }\r\n\r\n  public editInline(item: any, field: string, index: number): void {\r\n    if (!item) return;\r\n    if (this.previousItems.findIndex(s => s.id == item.id) == -1) {\r\n      this.previousItems.push(this.dataService.cloneItem(item));\r\n    }\r\n    var currentItem = this.retrieveInlineEdit(field, index);\r\n    if (!currentItem) {\r\n      this.edittedFields.push({\r\n        item: this.dataService.cloneItem(item),\r\n        index: index,\r\n        field: field\r\n      });\r\n    } else {\r\n      currentItem.item = this.dataService.cloneItem(item);\r\n    }\r\n    this.validationService.updateAsync(null, item);\r\n  }\r\n\r\n  public hasInlineEdit(item: any, field: string, index: number): boolean {\r\n    if (!this.option || this.option.inlineEdit != true) return false;\r\n    if (!item || !this.edittedFields || this.edittedFields.length == 0) return false;\r\n    return (<EdittedField[]>this.edittedFields).findIndex(s => s.field == field && s.index == index) > -1;\r\n  }\r\n\r\n  public retrieveInlineEdit(field: string, index: number): EdittedField {\r\n    if (!this.edittedFields || this.edittedFields.length == 0) return null;\r\n    return (<EdittedField[]>this.edittedFields).find(s => s.field == field && s.index == index);\r\n  }\r\n\r\n  public resetFilters(): void {\r\n    this.filter = {};\r\n    this.selectedItems = [];\r\n    this.selectedAll = false;\r\n    this.filterSectionToggle = false;\r\n    this.totalPages = [];\r\n    this.option.request.pageIndex = 0;\r\n    this.currentPage = 0;\r\n    if (!this.option.request.pageSize) {\r\n      this.pageSize = this.option.request.pageSize;\r\n    } else {\r\n      this.pageSize = this.defaultPageSize;\r\n    }\r\n    this.option.request.pageSize = this.pageSize;\r\n    this.searchAsync().subscribe();\r\n    this.showReset = false;\r\n    this.request = {};\r\n  }\r\n\r\n  public getToolbarActions(standard: boolean): TableAction[] {\r\n    let actions: TableAction[] = [];\r\n    if (this.toolbarActions) {\r\n      this.toolbarActions.forEach((action, index) => {\r\n        if (!standard) {\r\n          if (index >= this.option.totalToolbarItem) {\r\n            actions.push(action);\r\n          }\r\n        } else {\r\n          if (index < this.option.totalToolbarItem) {\r\n            actions.push(action);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return actions;\r\n  }\r\n\r\n  public changePageSize(): void {\r\n    this.option.request.pageSize = this.pageSize;\r\n    this.option.request.pageIndex = 0;\r\n    this.searchAsync().subscribe();\r\n  }\r\n\r\n  public handkeKeypress($event): void {\r\n    if ($event && $event.which == 13) {\r\n      this.searchAsync().subscribe();\r\n    }\r\n  }\r\n\r\n  public goto($event: any, blur?: boolean): void {\r\n    if ($event.which == 13 || blur == true) {\r\n      this.currentPage = $event.target.value - 1;\r\n      if (this.currentPage < 0) this.currentPage = 0;\r\n      if (this.currentPage >= this.totalPages.length) {\r\n        this.currentPage = this.totalPages.length - 1;\r\n      }\r\n      $event.target.value = this.currentPage + 1;\r\n      this.changePage$.next(this.currentPage);\r\n    } else {\r\n      if ($event.which < 48 || $event.which > 57) $event.preventDefault();\r\n    }\r\n  }\r\n\r\n  public toggleFilterSection() {\r\n    this.filterSectionToggle = !this.filterSectionToggle;\r\n  }\r\n\r\n  public showSorter(column: TableColumn, direction: string): boolean {\r\n    return column.direction === direction;\r\n  }\r\n\r\n  public toggleRowDetail(item: any) {\r\n    item.toggle = !item.toggle;\r\n  }\r\n\r\n  public sortAsync(column: TableColumn): void {\r\n    if (!column.valueRef) return;\r\n    this.resetSortAsync(column);\r\n    if (column && column.allowSort != false) {\r\n      if (!column.direction) {\r\n        column.direction = TableConstant.Direction.ASC;\r\n      } else {\r\n        column.direction = column.direction == TableConstant.Direction.ASC ? TableConstant.Direction.DESC : TableConstant.Direction.ASC;\r\n      }\r\n    }\r\n    this.orderBy = this.dataService.toPascalCase(column.valueRef());\r\n    this.direction = column.direction;\r\n    this.searchAsync(null, null, false).subscribe();\r\n  }\r\n\r\n  public selectAll(selected: boolean): void {\r\n    this.selectedItems = selected ? [...this.items] : [];\r\n  }\r\n\r\n  public clearAll(): void {\r\n    this.selectedItems = [];\r\n    this.selectedAll = false;\r\n  }\r\n\r\n  public selectItem(item: any): void {\r\n    const selectedIds = this.selectedItems.map(x => x.id);\r\n    const existingItemIndex = selectedIds.indexOf(item.id);\r\n    if (existingItemIndex >= 0) {\r\n      this.selectedItems.splice(existingItemIndex, 1);\r\n    } else {\r\n      this.selectedItems.push(item);\r\n    }\r\n    if (!this.option.multiple) {\r\n      const currentItem = this.selectedItems.find(s => s.id == item.id);\r\n      if (currentItem) {\r\n        this.selectedItems = [currentItem];\r\n      }\r\n    }\r\n  }\r\n\r\n  public isRowSelected(item: any) {\r\n    const selectedIds = this.selectedItems.map(x => x.id);\r\n    return selectedIds.indexOf(item.id) >= 0;\r\n  }\r\n\r\n  public hasAnyAction(item?: any): boolean {\r\n    const aliveActions = this.inlineActions.filter(x => !x.hide || !x.hide(item));\r\n    return aliveActions.length > 0;\r\n  }\r\n\r\n  public executeActionAsync(action: TableAction, item?: any, $event?: any, index?: number, loadedCallback?: Function): void {\r\n    if (action) {\r\n      const target = $event ? $event.target : null;\r\n      action.executeAsync(item, target, this, index, loadedCallback);\r\n    }\r\n  }\r\n\r\n  public isActive(item: any): boolean {\r\n    if (this.selectedItems.length === 0) return false;\r\n\r\n    const currentItem = this.selectedItems.find(s => s.id === item.id);\r\n    return currentItem && currentItem.checkedRow;\r\n  }\r\n\r\n  public getCurrentIndex(index: number): number {\r\n    if (this.option.request) {\r\n      return this.option.request.pageIndex * this.option.request.pageSize + index + 1;\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  public getDropdownDisplayText(column: TableColumn, item: any) {\r\n    const values = item[column.valueRef()];\r\n    if (!values) return '';\r\n\r\n    if (values instanceof Array) {\r\n      const result = <string[]>values.filter(x => x).map(x => x[column.dropdownConfiguration.bindLabel]);\r\n      return result.join(', ');\r\n    }\r\n    return values[column.dropdownConfiguration.bindLabel];\r\n  }\r\n\r\n  public getPages(n: number): number[] {\r\n    let pages = [];\r\n    if (this.totalPages.length < n) {\r\n      for (let i = this.totalPages.length - 1; i >= 0; i--) {\r\n        pages.push(i);\r\n      }\r\n      return pages;\r\n    }\r\n    if (this.currentPage < n) {\r\n      for (let i = n - 1; i >= 0; i--) {\r\n        pages.push(i);\r\n      }\r\n    } else {\r\n      const count = Math.floor(n / 2);\r\n      const max = this.currentPage + count >= this.totalPages.length ? this.totalPages.length - 1 : this.currentPage + count;\r\n      for (let i = max; i >= this.currentPage - count; i--) {\r\n        pages.push(i);\r\n      }\r\n    }\r\n    return pages;\r\n  }\r\n\r\n  public reload(keepSelectedItems: boolean = false): Observable<boolean> {\r\n    return this.searchAsync(null, null, keepSelectedItems);\r\n  }\r\n\r\n  public search(advancedFilter?: boolean) {\r\n    this.searchAsync(advancedFilter).subscribe();\r\n  }\r\n\r\n  public trackRecords(record: any) {\r\n    return record ? record.id : undefined;\r\n  }\r\n\r\n  public searchAsync(advancedFilter?: boolean, currentPage?: number, keepSelectedItems: boolean = true): Observable<boolean> {\r\n    this.loading = true;\r\n    const request = this.buildRequest(currentPage, advancedFilter);\r\n    if (this.option.localData) {\r\n      this.option.localData().subscribe((data) => {\r\n        this.localData = data;\r\n        this.searchLocalItems(request).subscribe((response) => {\r\n          this.bindResultData(response, keepSelectedItems);\r\n        });\r\n      });\r\n    } else {\r\n      if (!this.option.serviceProvider || !this.option.serviceProvider.searchAsync) throw new Error('!this.option.serviceProvider.searchAsync');\r\n      this.option.serviceProvider.searchAsync(request).subscribe((response) => {\r\n        this.bindResultData(response, keepSelectedItems);\r\n      });\r\n    }\r\n    return of(true);\r\n  }\r\n\r\n  private checkedAllPageItems(): boolean {\r\n    if (!this.selectedItems || !this.items || this.items.length == 0) {\r\n      return false;\r\n    }\r\n    let check = true;\r\n    this.items.forEach((item) => {\r\n      const currentItem = this.selectedItems.find(s => s.id === item.id);\r\n      if (!currentItem) {\r\n        check = false;\r\n        return check;\r\n      }\r\n    });\r\n    return check;\r\n  }\r\n\r\n  private setDefaultOrder(request: any): void {\r\n    if (this.option.defaultOrderBy) this.orderBy = this.option.defaultOrderBy;\r\n    if (this.option.defautOrderDirection) this.direction = this.option.defautOrderDirection;\r\n    request.orderBy = this.orderBy;\r\n    request.direction = this.direction;\r\n    if (!this.orderBy) {\r\n      this.orderBy = \"Id\";\r\n      this.direction = TableConstant.Direction.ASC;\r\n    }\r\n  }\r\n\r\n  public setFilter(key: string, value: any) {\r\n    this.request[key] = value;\r\n    this.currentPage = 0;\r\n    this.filter[key] = value;\r\n    if (this.option && this.option.request) this.option.request.pageIndex = 0;\r\n  }\r\n\r\n  private retrieveAdvancedFilters(advancedFilter: boolean, request: any): void {\r\n    this.filterColumns.forEach((column: TableColumn) => {\r\n      let value = this.filter[column.valueRef()];\r\n      if (value == undefined || value == 'undefined') {\r\n        value = '';\r\n      }\r\n      if (advancedFilter == true) {\r\n        if (column.type && (column.type.toLowerCase() == 'date' || column.type.toLowerCase() == 'datetime' || column.type.toLowerCase() == 'time')) {\r\n          if (value && value != '') {\r\n            const datetimeValues = <Date[]>value;\r\n            if (datetimeValues.length == 1) {\r\n              request[column.valueRef() + 'From'] = this.convertDatetime(datetimeValues[0], 'From');\r\n            } else if (datetimeValues.length == 2) {\r\n              request[column.valueRef() + 'From'] = this.convertDatetime(datetimeValues[0], 'From');\r\n              request[column.valueRef() + 'To'] = this.convertDatetime(datetimeValues[1], 'To');\r\n            }\r\n          }\r\n        } else {\r\n          request[column.valueRef()] = value;\r\n        }\r\n      } else {\r\n        request[column.valueRef()] = value;\r\n      }\r\n    });\r\n  }\r\n\r\n  private buildRequest(currentPage?: number, advancedFilter?: boolean): any {\r\n    this.previousRequest = Object.assign({}, this.request);\r\n    let searchText = this.filter.searchText;\r\n    this.textSearched = this.filter.searchText;\r\n    if (searchText == undefined || searchText == 'undefined') {\r\n      searchText = '';\r\n    }\r\n    this.request.pageSize = this.option.request.pageSize;\r\n    if (!this.option.paging) {\r\n      this.request.pageSize = 999999;\r\n      this.pageSize = 999999;\r\n    }\r\n    this.request.searchText = searchText;\r\n    this.request.direction = this.direction;\r\n    this.request.orderBy = this.orderBy;\r\n    if (!this.orderBy) this.setDefaultOrder(this.request);\r\n    this.retrieveAdvancedFilters(advancedFilter, this.request);\r\n    this.request.pageIndex = this.option.request.pageIndex;\r\n    if (currentPage) {\r\n      this.request.pageIndex = currentPage;\r\n      this.currentPage = currentPage;\r\n    }\r\n\r\n    const changes = this.dataService.compareObjects(this.previousRequest, this.request);\r\n    const isChanged = changes.filter(x => ['pageIndex', 'pageSize'].indexOf(x.propertyName) < 0).length > 0;\r\n    if (isChanged) {\r\n      this.option.request.pageIndex = 0;\r\n      this.request.pageIndex = 0;\r\n      this.currentPage = 0;\r\n    }\r\n    return this.request;\r\n  }\r\n\r\n  private convertDatetime(dt: Date, type: string): string {\r\n    if (!dt) return '';\r\n    let convertedDatetime = new Date(dt);\r\n    let days = convertedDatetime.getDate().toString();\r\n    if (days.length < 2) days = '0' + days;\r\n    let months = (convertedDatetime.getMonth() + 1).toString();\r\n    if (months.length < 2) months = '0' + months;\r\n    let hours = convertedDatetime.getHours().toString();\r\n    if (hours.length < 2) hours = '0' + hours;\r\n    let minutes = convertedDatetime.getMinutes().toString();\r\n    if (minutes.length < 2) minutes = '0' + minutes;\r\n    const year = convertedDatetime.getFullYear();\r\n\r\n    switch (this.option.datetimeFormat.format) {\r\n      case 'dd/MM/yyyy':\r\n        return days + '/' + months + '/' + year + (type == 'From' ? ' 00:00' : ' 23:59');\r\n      case 'dd/MM/yyyy HH:mm':\r\n        return days + '/' + months + '/' + year + ' ' + hours + ':' + minutes;\r\n      case 'MM/dd/yyyy':\r\n        return months + '/' + days + '/' + year + (type == 'From' ? ' 00:00' : ' 23:59');\r\n      case 'MM/dd/yyyy HH:mm':\r\n        return months + '/' + days + '/' + year + ' ' + hours + ':' + minutes;\r\n    }\r\n  }\r\n\r\n  private searchLocalItems(request: any): Observable<any> {\r\n    let result: any[] = this.localData;\r\n    const orderBy = this.dataService.getField(request.orderBy, true);\r\n    if (request.direction == TableConstant.Direction.ASC) {\r\n      if (!this.option.sort) {\r\n        result = result.sort((a: any, b: any) => a[orderBy] > b[orderBy] ? 1 : a[orderBy] === b[orderBy] ? 0 : -1);\r\n      } else {\r\n        result = result.sort((a: any, b: any) => this.option.sort(a, b, orderBy));\r\n      }\r\n    } else {\r\n      if (!this.option.sort) {\r\n        result = result.sort((b: any, a: any) => a[orderBy] > b[orderBy] ? 1 : a[orderBy] === b[orderBy] ? 0 : -1);\r\n      } else {\r\n        result = result.sort((b: any, a: any) => this.option.sort(a, b, orderBy));\r\n      }\r\n    }\r\n\r\n    let items: any[] = [];\r\n    if (request.pageIndex >= 0 && request.pageSize > 0) {\r\n      const localResult = [];\r\n      if (request.searchText && this.option.searchFields && this.option.searchFields.length > 0) {\r\n        this.option.searchFields.forEach(field => {\r\n          const response = result.filter(s => this.fuzzysearch(request.searchText, s[field]));\r\n          if (response) {\r\n            response.forEach((item) => {\r\n              if (localResult.findIndex(s => s.id == item.id) == -1) {\r\n                localResult.push(item);\r\n              }\r\n            });\r\n          }\r\n        });\r\n        result = localResult;\r\n      }\r\n\r\n      var filter = {};\r\n      this.retrieveAdvancedFilters(true, filter);\r\n      if (this.filterColumns) {\r\n        this.filterColumns.forEach((column) => {\r\n          var value = filter[column.valueRef()];\r\n          if (value) {\r\n            result = result.filter(s => this.fuzzysearch(value, s[column.valueRef()]));\r\n          }\r\n        });\r\n      }\r\n      items = result.filter(s => (result.indexOf(s) >= request.pageIndex * request.pageSize) && (result.indexOf(s) < (request.pageIndex + 1) * request.pageSize));\r\n    }\r\n    const response: TableResponse<any> = {\r\n      items: items,\r\n      totalRecords: result.length\r\n    };\r\n    return of(response).pipe(delay(250));\r\n  }\r\n\r\n  private convertUCode(c: string): string {\r\n    if ('a'.indexOf(c) > -1) return 'a';\r\n    if ('d'.indexOf(c) > -1) return 'd';\r\n    if ('o'.indexOf(c) > -1) return 'o';\r\n    if ('u'.indexOf(c) > -1) return 'u';\r\n    if ('i'.indexOf(c) > -1) return 'i';\r\n    if ('y'.indexOf(c) > -1) return 'y';\r\n    if ('e'.indexOf(c) > -1) return 'e';\r\n    return c;\r\n  }\r\n\r\n  private fuzzysearch(needle: any, haystack: any): boolean {\r\n    if (!needle || !haystack) return false;\r\n    const haystackLC = this.removeAllSpaces(haystack.toString().toLowerCase());\r\n    const needleLC = this.removeAllSpaces(needle.toString().toLowerCase());\r\n    const hlen = haystack.toString().length;\r\n    const nlen = needleLC.toString().length;\r\n    if (nlen > hlen) {\r\n      return false;\r\n    }\r\n    if (nlen === hlen) {\r\n      return needleLC === haystackLC;\r\n    }\r\n    outer: for (let i = 0, j = 0; i < nlen; i++) {\r\n      const nch = this.convertUCode(needleLC[i]);\r\n      while (j < hlen) {\r\n        if (this.convertUCode(haystackLC[j++]) === nch) {\r\n          continue outer;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private removeAllSpaces(str?: string): string {\r\n    if (!str) return '';\r\n    return str.replace(/\\s/g, '');\r\n  }\r\n\r\n  private bindResultData(response: TableResponse<any>, keepSelectedItems: boolean = true): void {\r\n    this.items = response.items;\r\n    this.totalRecords = response.totalRecords;\r\n    this.calculatePages();\r\n\r\n    if (!keepSelectedItems) {\r\n      this.selectedItems = [];\r\n    }\r\n\r\n    this.selectedAll = this.checkedAllPageItems();\r\n\r\n    if (this.currentPage > this.totalPages.length - 1) {\r\n      this.recursiveCounter++;\r\n      if (this.recursiveCounter < 3) {\r\n        this.searchAsync(null, this.totalPages.length - 1).subscribe();\r\n      }\r\n    }\r\n    this.loading = false;\r\n  }\r\n\r\n  private calculatePages(): void {\r\n    let pages = Math.floor(this.totalRecords / this.pageSize);\r\n    if (pages <= 0) {\r\n      pages = 1;\r\n    }\r\n    if (this.totalRecords % this.pageSize > 0) {\r\n      pages += 1;\r\n    }\r\n    if (this.totalRecords < this.pageSize) {\r\n      pages = 1;\r\n    }\r\n    this.totalPages = [];\r\n    for (let i = 0; i < pages; i++) {\r\n      this.totalPages.push(i);\r\n    }\r\n  }\r\n\r\n  private resetSortAsync(currentColumn: TableColumn): void {\r\n    this.option.mainColumns = this.option.mainColumns.map(column => {\r\n      if (column.id !== currentColumn.id) column.direction = undefined;\r\n      return column;\r\n    });\r\n  }\r\n\r\n  private initTableTableTexts(): void {\r\n    if (!this.option.displayText) {\r\n      this.option.displayText = new TableText();\r\n    } else {\r\n      if (!this.option.displayText) this.option.displayText.placeholderSearch = TableConstant.DisplayText.PlaceholderSearch;\r\n      if (!this.option.displayText.btnSearch) this.option.displayText.btnSearch = TableConstant.DisplayText.BtnSearch;\r\n      if (!this.option.displayText.btnReset) this.option.displayText.btnReset = TableConstant.DisplayText.BtnReset;\r\n      if (!this.option.displayText.action) this.option.displayText.action = TableConstant.DisplayText.Action;\r\n      if (!this.option.displayText.selectPageSize) this.option.displayText.selectPageSize = TableConstant.DisplayText.SelectPageSize;\r\n      if (!this.option.displayText.deleteTitle) this.option.displayText.deleteTitle = TableConstant.DisplayText.DeleteTitle;\r\n      if (!this.option.displayText.btnAcceptTitle) this.option.displayText.btnAcceptTitle = TableConstant.DisplayText.BtnAcceptTitle;\r\n      if (!this.option.displayText.btnCancelTitle) this.option.displayText.btnCancelTitle = TableConstant.DisplayText.BtnCancelTitle\r\n      if (!this.option.displayText.filterTitle) this.option.displayText.filterTitle = TableConstant.DisplayText.FilterTitle;\r\n      if (!this.option.displayText.applyFilter) this.option.displayText.applyFilter = TableConstant.DisplayText.ApplyFilter;\r\n      if (!this.option.displayText.detailTitle) this.option.displayText.detailTitle = TableConstant.DisplayText.DetailTitle;\r\n      if (!this.option.displayText.pageTitle) this.option.displayText.pageTitle = TableConstant.DisplayText.PageTitle;\r\n      if (!this.option.displayText.advancedSearchTitle) this.option.displayText.advancedSearchTitle = TableConstant.DisplayText.AdvancedSearchTitle;\r\n      if (!this.option.displayText.advancedBtnTitle) this.option.displayText.advancedBtnTitle = TableConstant.DisplayText.AdvancedBtnTitle;\r\n      if (!this.option.displayText.advancedBtnCancelTitle) this.option.displayText.advancedBtnCancelTitle = TableConstant.DisplayText.AdvancedBtnCancelTitle;\r\n      if (!this.option.displayText.allTitle) this.option.displayText.allTitle = TableConstant.DisplayText.AllTitle;\r\n    }\r\n  }\r\n\r\n  private initTableTableMessages(): void {\r\n    if (!this.option.message) {\r\n      this.option.message = new TableMessage();\r\n    } else {\r\n      if (!this.option.message.notFoundMessage) this.option.message.notFoundMessage = TableConstant.Message.NotFoundMessage;\r\n      if (!this.option.message.foundMessage) this.option.message.foundMessage = TableConstant.Message.FoundMessage;\r\n      if (!this.option.message.invalidFormatMessage) this.option.message.invalidFormatMessage = TableConstant.Message.InvalidFormatMessage;\r\n      if (!this.option.message.selectedItemsMessage) this.option.message.selectedItemsMessage = TableConstant.Message.SelectedItemsMessage;\r\n      if (!this.option.message.confirmSelectAllRecordsMessage) this.option.message.confirmSelectAllRecordsMessage = TableConstant.Message.ConfirmSelectAllRecordsMessage;\r\n      if (!this.option.message.confirmClearAllRecordsMessage) this.option.message.confirmClearAllRecordsMessage = TableConstant.Message.ConfirmClearAllRecordsMessage;\r\n      if (!this.option.message.deleteMessage) this.option.message.deleteMessage = TableConstant.Message.DeleteMessage;\r\n      if (!this.option.message.loadingMessage) this.option.message.loadingMessage = TableConstant.Message.LoadingMessage;\r\n      if (!this.option.message.refMessage) this.option.message.refMessage = TableConstant.Message.RefMessage;\r\n    }\r\n  }\r\n\r\n  private initMainColumns(): void {\r\n    if (!this.option.mainColumns) {\r\n      this.option.mainColumns = [];\r\n    }\r\n    this.option.mainColumns.forEach((column) => {\r\n      if (!column.textAlign) column.textAlign = TableConstant.TextAlign.Left;\r\n      if (column && !column.id) {\r\n        column.id = this.dataService.newGuid();\r\n      }\r\n      if (column.allowFilter) {\r\n        if (column.type === TableColumnType.Dropdown) {\r\n          if (!column.dropdownConfiguration) throw new Error('!column.dropdownConfiguration');\r\n        }\r\n        this.filterColumns.push(column);\r\n        this.filter[column.valueRef()] = null;\r\n      }\r\n    });\r\n    this.option.mainColumns = this.option.mainColumns.sort((a: TableColumn, b: TableColumn) => a.order > b.order ? 1 : a.order === b.order ? 0 : -1);\r\n  }\r\n\r\n  private initValidations(): void {\r\n    if (this.option && this.option.mainColumns) {\r\n      var validationOptions = [];\r\n      this.option.mainColumns.forEach((column) => {\r\n        if (column.validationOption) {\r\n          column.validationOption.dynamic = true;\r\n          if (!column.validationOption.validationName) {\r\n            column.validationOption.validationName = column.valueRef();\r\n          }\r\n          validationOptions.push(column.validationOption);\r\n        }\r\n      });\r\n      if (validationOptions.length > 0) {\r\n        var validator = new ClientValidator({\r\n          formRef: this.wrapper,\r\n          options: validationOptions,\r\n          payloadRef: () => this.items\r\n        });\r\n        this.validationService.init({ validator });\r\n      }\r\n    }\r\n  }\r\n\r\n  private registerEvents() {\r\n    if (this.gotoRef) {\r\n      this._render.listen(this.gotoRef.nativeElement, 'keydown', ($event) => {\r\n        const value = $event.which;\r\n        let max = '9999999';\r\n        if (this.gotoRef.nativeElement.attributes['max']) {\r\n          max = this.gotoRef.nativeElement.attributes['max'].value;\r\n        }\r\n        if ((value >= 48 && value <= 57) || (value >= 96 && value <= 105) || value == 8 || value == 13) {\r\n          if (value >= 48 && value <= 57) {\r\n            if (parseInt(max) < parseInt($event.target.value + (parseInt(value) - 48))) {\r\n              $event.preventDefault();\r\n              $event.target.value = max;\r\n            }\r\n          } else if (value >= 96 && value <= 105) {\r\n            if (parseInt(max) < parseInt($event.target.value + (parseInt(value) - 96))) {\r\n              $event.preventDefault();\r\n              $event.target.value = max;\r\n            }\r\n          }\r\n          else return;\r\n        } else {\r\n          $event.preventDefault();\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TableComponent } from './table.component';\r\nimport { NgStringPipesModule } from 'ngx-pipes';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { TextboxModule } from '../textbox/textbox.module';\r\nimport { DropdownModule } from '../dropdown/dropdown.module';\r\nimport { ButtonModule } from '../button/button.module';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\nimport { CheckboxModule } from '../checkbox/checkbox.module';\r\nimport { DatetimePickerModule } from '../datetime-picker/datetime-picker.module';\r\nimport { TableRowDetailDirective } from './table-row-detail.directive';\r\nimport { EditorModule } from '../editor/editor.module';\r\n\r\n@NgModule({\r\n  declarations: [TableComponent, TableRowDetailDirective],\r\n  imports: [\r\n    CommonModule,\r\n    ValidationModule.forRoot(),\r\n    FormsModule,\r\n    TextboxModule,\r\n    DropdownModule,\r\n    ButtonModule,\r\n    FormatterModule,\r\n    CheckboxModule,\r\n    DatetimePickerModule.forChild(),\r\n    NgStringPipesModule,\r\n    TextboxModule,\r\n    ButtonModule,\r\n    EditorModule\r\n  ],\r\n  exports: [TableComponent, TableRowDetailDirective]\r\n})\r\n\r\nexport class TableModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { MediaItem } from '../../models/base.model';\r\n\r\n@Component({\r\n  selector: 'katana-full-media',\r\n  templateUrl: './full-media.component.html',\r\n  styles: []\r\n})\r\n\r\nexport class FullMediaComponent implements OnInit {\r\n  @Input() model: MediaItem;\r\n\r\n  videoPlayerHtml: SafeHtml;\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.videoPlayerHtml = this.generateHtml();\r\n  }\r\n\r\n  private generateHtml(): SafeHtml {\r\n    const isExternal = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.test(this.model.fullSrc);\r\n\r\n    let videoTag = '';\r\n    if (isExternal) {\r\n      const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(this.model.fullSrc);\r\n      const videoId = match[1];\r\n      videoTag = `<iframe  style=\"width:100%; min-height: 500px;\"  src=\"https://www.youtube.com/embed/${videoId}\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>`;\r\n    } else {\r\n      videoTag = `<video controls style=\"width:100%\"><source src=\"${this.model.fullSrc}\" type=\"video/mp4\"></video>`;\r\n    }\r\n\r\n    return this.sanitizer.bypassSecurityTrustHtml(videoTag);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FullMediaComponent } from '../full-media/full-media.component';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { MediaItem } from '../../models/base.model';\r\nimport { ModalService } from '../../modals/modal.service';\r\n\r\n@Component({\r\n  selector: 'katana-media',\r\n  templateUrl: './media-viewer.component.html',\r\n  styles: ['./media-viewer.component.scss']\r\n})\r\n\r\nexport class MediaViewerComponent implements OnInit {\r\n  @Input() title: string\r\n  @Input() model: MediaItem;\r\n  @Output() modelChange: EventEmitter<MediaItem> = new EventEmitter<MediaItem>();\r\n  @Output() public removed: EventEmitter<MediaItem> = new EventEmitter();\r\n  public selected: boolean;\r\n  public thumbnailHtml: SafeHtml;\r\n\r\n  constructor(\r\n    protected modalService: ModalService,\r\n    protected sanitizer: DomSanitizer\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    const isExternal = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.test(this.model.fullSrc);\r\n    if (isExternal) {\r\n      const match = /(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/.exec(this.model.fullSrc);\r\n      const videoId = match[1];\r\n      this.thumbnailHtml = this.sanitizer.bypassSecurityTrustHtml(`<img style=\"height:90px\" src=\"https://img.youtube.com/vi/${videoId}/0.jpg\"></img>`);\r\n    } else {\r\n      this.thumbnailHtml = this.sanitizer.bypassSecurityTrustHtml(`<img style=\"height:90px\" src=\"${this.model.src}\"></img>`);\r\n    }\r\n  }\r\n\r\n  viewMedia(): void {\r\n    this.modalService.showTemplateDialog({\r\n      template: FullMediaComponent,\r\n      title: 'Xem chi tit',\r\n      customSize: 'modal-lg',\r\n      data: {\r\n        model: this.model\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(): void {\r\n    this.removed.emit(this.model);\r\n    this.modelChange.emit(null);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MediaViewerComponent } from './media-viewer/media-viewer.component';\r\nimport { FullMediaComponent } from './full-media/full-media.component';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [MediaViewerComponent, FullMediaComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormatterModule\r\n  ],\r\n  exports: [MediaViewerComponent, FullMediaComponent],\r\n  entryComponents: [FullMediaComponent]\r\n})\r\n\r\nexport class MediaViewerModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FileViewModel } from '../file/file.model';\r\n\r\n@Component({\r\n    selector: 'katana-image-viewer',\r\n    templateUrl: './image-viewer.component.html',\r\n    styleUrls: ['./image-viewer.component.scss']\r\n})\r\n\r\nexport class ImageViewerComponent implements OnDestroy {\r\n    @Input() public uploadIcon: string;\r\n    @Input() public uploadTitle: string;\r\n    @Input() public multiple: boolean = false;\r\n    @Input() public model;\r\n    @Input() public size: 'small' | 'medium' | 'large' | 'full' | 'tiny' = 'small';\r\n    @Input() public defaultImageUrl = 'https://cmcglobal.com.vn/css/image-common/Combined%20Shape.svg';\r\n    @Input() public title: string;\r\n    @Input() public editable: boolean = false;\r\n    @Input() public customClasses: string;\r\n    @Output() public imageRemoved: EventEmitter<string> = new EventEmitter();\r\n    @Input() public radious: boolean = false;\r\n    @Input() validationName: string;\r\n    @Input() public cutRatio: number = 1 / 1;\r\n    @Input() public resizeToWidth: number;\r\n    @Input() public maintainAspectRatio: boolean;\r\n    @Input() validationScope: string;\r\n    @Input() emitNullOnDestroy: boolean = false;\r\n    @Output() public modelChange: EventEmitter<any> = new EventEmitter();\r\n    @Output() public selectedChange: EventEmitter<boolean> = new EventEmitter();\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.emitNullOnDestroy === true)\r\n            this.modelChange.emit(null);\r\n    }\r\n\r\n    public fileUploaded(file: FileViewModel): void {\r\n        let model = this.model;\r\n        if (!model) model = {};\r\n        model.src = file.src;\r\n        this.modelChange.emit(model);\r\n    }\r\n\r\n    public imageSrc(): string {\r\n        if (this.model && this.model.src) {\r\n            return this.model.src;\r\n        } else {\r\n            return this.defaultImageUrl;\r\n        }\r\n    }\r\n\r\n    public removeImage(): void {\r\n        this.model.src = this.defaultImageUrl;\r\n        this.modelChange.emit(null);\r\n        this.imageRemoved.emit(this.model.src);\r\n    }\r\n\r\n    public selectImage(item: any): void {\r\n        if (!item) return;\r\n        if (!item.selected) item.selected = false;\r\n        item.selected = !item.selected;\r\n        this.selectedChange.emit(item.selected);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImageViewerComponent } from './image-viewer.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { FileModule } from '../file/file.module';\r\n\r\n@NgModule({\r\n  declarations: [ImageViewerComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FileModule,\r\n    ValidationModule,\r\n  ],\r\n  exports: [ImageViewerComponent]\r\n})\r\n\r\nexport class ImageViewerModule { }\r\n","import { Component, Input, ViewChild, TemplateRef, OnInit } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { TableOption, TableColumnType } from '../../table/table.model';\r\nimport { FileResponse, FileRequest, FileViewModel } from '../../file/file.model';\r\nimport { TableComponent } from '../../table/table.component';\r\n\r\n@Component({\r\n  selector: 'katana-gallery',\r\n  templateUrl: './gallery.component.html',\r\n  styleUrls: ['./gallery.component.scss']\r\n})\r\n\r\nexport class GalleryComponent implements OnInit {\r\n  @Input() public items: (request: FileRequest) => Observable<FileResponse>;\r\n  @Input() public headers: string[];\r\n  @ViewChild('imageTemplate', { static: true }) public imageTemplate: TemplateRef<any>;\r\n  @ViewChild('sizeTemplate', { static: true }) public sizeTemplate: TemplateRef<any>;\r\n  @ViewChild('nameTemplate', { static: true }) public nameTemplate: TemplateRef<any>;\r\n  @ViewChild('tableRef', { static: true }) public tableRef: TableComponent;\r\n  public option: TableOption;\r\n\r\n  ngOnInit(): void {\r\n    this.initTable();\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return this.tableRef.selectedItems.length > 0;\r\n  }\r\n\r\n  public callback(): Observable<FileViewModel[]> {\r\n    return of(this.tableRef.selectedItems);\r\n  }\r\n\r\n  private initTable(): void {\r\n    this.option = new TableOption({\r\n      serviceProvider: {\r\n        searchAsync: (request) => {\r\n          return this.items(request);\r\n        }\r\n      },\r\n      searchFields: [\"name\", \"createdBy\", \"createdDate\", \"lastModifiedDate\", \"lastModifiedBy\"],\r\n      inlineEdit: true,\r\n      mainColumns: [\r\n        {\r\n          title: () => this.headers[0],\r\n          valueRef: () => 'src',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.imageTemplate\r\n        },\r\n        {\r\n          title: () => this.headers[1],\r\n          valueRef: () => 'name',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.nameTemplate,\r\n          allowSort: true\r\n        },\r\n        {\r\n          title: () => this.headers[2],\r\n          valueRef: () => 'size',\r\n          type: TableColumnType.Custom,\r\n          customTemplate: () => this.sizeTemplate\r\n        },\r\n        {\r\n          title: () => this.headers[3],\r\n          valueRef: () => 'createdDate',\r\n          type: TableColumnType.Date,\r\n          allowSort: true\r\n        }\r\n      ]\r\n    });\r\n  }\r\n}\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FileViewModel, FileResponse, FileRequest } from '../file/file.model';\r\nimport { ModalService } from '../modals/modal.service';\r\nimport { TemplateViewModel } from '../modals/modal.model';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { DataService } from '../services/data.service';\r\nimport { of, Observable } from 'rxjs';\r\nimport { AuthenticationService } from '../../auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'katana-viewer',\r\n  templateUrl: './viewer.component.html',\r\n  styleUrls: ['./viewer.component.scss']\r\n})\r\n\r\nexport class ViewerComponent implements OnDestroy {\r\n  public isLoading: boolean = false;\r\n  public images: FileViewModel[] = [];\r\n  public useLibrary: boolean = true;\r\n  @Input() public headers: string[] = ['#', 'Tn', 'Kch thc', 'Ngy to'];\r\n  @Input() public multiple: boolean;\r\n  @Input() public galleryItems: (request: FileRequest) => Observable<FileResponse>;\r\n  @Input() public componentTitle: string = 'Thm nh';\r\n  @Input() public uploadDialogTitle: string = 'Chnh sa nh';\r\n  @Input() public uploadDialogIcon: string = 'fa fa-twitter';\r\n  @Input() public uploadTitle: string = 'Ti ln';\r\n  @Input() public uploadIcon: string = 'fa fa-exchange';\r\n  @Input() public openGalleryTitle: string = 'Chn t th vin';\r\n  @Input() public openGalleryIcon: string = 'fa fa-google-wallet';\r\n  @Input() public title: string;\r\n  @Input() public model: any[] = [];\r\n  @Input() public zoomPrimaryImage: boolean = true;\r\n  @Input() public editable: boolean = true;\r\n  @Input() public cutRatio: number = 1 / 1;\r\n  @Input() public resizeToWidth: number;\r\n  @Input() public maintainAspectRatio: boolean;\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Output() public modelChange: EventEmitter<any[]> = new EventEmitter();\r\n  @Output() public onOpenUserMediaGallery: EventEmitter<void> = new EventEmitter();\r\n\r\n  constructor(\r\n    private _modalService: ModalService,\r\n    private _dataService: DataService,\r\n    protected authenticationService: AuthenticationService\r\n  ) { }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit([]);\r\n  }\r\n\r\n  public addImage(file: FileViewModel): void {\r\n    this.images = this.model;\r\n    if (!this.images) this.images = [];\r\n    this.images.push({\r\n      src: file.src,\r\n      name: file.name,\r\n      size: file.size,\r\n      createdDate: new Date(),\r\n      lastModifiedDate: new Date(),\r\n      createdBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null,\r\n      lastModifiedBy: this.authenticationService.currentUser ? this.authenticationService.currentUser.id : null\r\n    });\r\n    this.modelChange.emit(this.images);\r\n  }\r\n\r\n  public setLoading(loading: boolean): void {\r\n    this.isLoading = loading;\r\n  }\r\n\r\n  public openUserMediaGallery(): void {\r\n    this.onOpenUserMediaGallery.emit();\r\n    var items = <any[]>this._dataService.cloneItems(this.images);\r\n    if (!items) items = [];\r\n    this._modalService.showTemplateDialog(new TemplateViewModel({\r\n      template: GalleryComponent,\r\n      title: this.openGalleryTitle,\r\n      icon: this.openGalleryIcon,\r\n      customSize: 'modal-lg',\r\n      data: {\r\n        headers: this.headers,\r\n        items: !this.useLibrary ? () => {\r\n          return of(new FileResponse({\r\n            code: '200',\r\n            status: true,\r\n            totalRecords: 0,\r\n            items: []\r\n          }));\r\n        } : () => {\r\n          if (!this.galleryItems) {\r\n            return of(new FileResponse({\r\n              code: '200',\r\n              status: true,\r\n              totalRecords: items.length,\r\n              items: items\r\n            }));\r\n          } else {\r\n            return this.galleryItems;\r\n          }\r\n        }\r\n      },\r\n      acceptCallback: (response: FileViewModel[]) => {\r\n        response.forEach(item => {\r\n          this.images.push(item);\r\n        });\r\n        this.modelChange.emit(this.images);\r\n      }\r\n    }));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgxDnDModule } from '@swimlane/ngx-dnd';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { ValidationModule } from '../validation/validation.module';\r\nimport { ViewerComponent } from './viewer.component';\r\nimport { ImageViewerModule } from '../image-viewer/image-viewer.module';\r\nimport { FileModule } from '../file/file.module';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { TableModule } from '../table/table.module';\r\nimport { CardModule } from '../card/card.module';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    GalleryComponent,\r\n    ViewerComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ImageCropperModule,\r\n    ImageViewerModule,\r\n    FileModule,\r\n    ValidationModule,\r\n    NgxDnDModule,\r\n    TableModule,\r\n    CardModule,\r\n    FormatterModule\r\n  ],\r\n  entryComponents: [\r\n    GalleryComponent,\r\n    ViewerComponent\r\n  ],\r\n  exports: [\r\n    GalleryComponent,\r\n    ViewerComponent]\r\n})\r\n\r\nexport class ViewerModule { }\r\n","import { Component, ViewChild, TemplateRef, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-radio-item',\r\n  templateUrl: './radio-item.component.html',\r\n  styleUrls: ['./radio-item.component.scss']\r\n})\r\n\r\nexport class RadioItemComponent {\r\n  @ViewChild(TemplateRef, { static: true }) public template: TemplateRef<any>;\r\n  @Input() public value: any;\r\n  @Input() public label: string;\r\n  @Input() public disabled: boolean = false;\r\n  @Input() public checked: boolean = false;\r\n  public groupIndex: number;\r\n  private selectedCallBack: Function;\r\n\r\n  public changeItem($event: Event) {\r\n    $event.stopPropagation();\r\n    if (this.selectedCallBack) {\r\n      this.selectedCallBack(this);\r\n    }\r\n  }\r\n\r\n  public select($event) {\r\n    $event.stopPropagation();\r\n  }\r\n\r\n  public registerSelectedCallback(callback: Function) {\r\n    this.selectedCallBack = callback;\r\n  }\r\n}\r\n","import { AfterContentInit, ContentChildren, QueryList, Input, Output, EventEmitter, OnDestroy, Directive } from '@angular/core';\r\nimport { RadioItemComponent } from './radio-item/radio-item.component';\r\n\r\n@Directive({\r\n    selector: 'katana-radio-items'\r\n})\r\n\r\nexport class RadioComponent implements AfterContentInit, OnDestroy {\r\n    @ContentChildren(RadioItemComponent) public items: QueryList<RadioItemComponent>;\r\n    @Output() public modelChange: EventEmitter<any> = new EventEmitter();\r\n    @Input() public model: any;\r\n    @Input() public label: string;\r\n    @Input() public disabled: boolean;\r\n    @Input() public formControlName: string;\r\n    @Input() public validationName: string;\r\n\r\n    ngAfterContentInit(): void {\r\n        this.items.forEach((s, index) => {\r\n            s.groupIndex = index;\r\n            if (this.model !== null && this.model !== undefined && this.model === s.value) {\r\n                s.checked = true;\r\n            }\r\n            s.registerSelectedCallback((componentRef: RadioItemComponent) => {\r\n                this.items.forEach(item => {\r\n                    item.checked = false;\r\n                });\r\n                let selectedItem = this.items.find(y => y.groupIndex === componentRef.groupIndex);\r\n                selectedItem.checked = true;\r\n                this.model = componentRef.value;\r\n                this.modelChange.emit(componentRef.value);\r\n            });\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.modelChange.emit(null);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RadioComponent } from './radio.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RadioItemComponent } from './radio-item/radio-item.component';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [RadioComponent, RadioItemComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ValidationModule\r\n  ],\r\n  exports: [RadioComponent, RadioItemComponent]\r\n})\r\n\r\nexport class RadioModule { }\r\n","import { Component, Input } from '@angular/core';\r\nimport { TrackingGroup } from '../models/base.model';\r\n\r\n@Component({\r\n  selector: 'katana-timeline',\r\n  templateUrl: './timeline.component.html',\r\n  styleUrls: ['./timeline.component.scss']\r\n})\r\n\r\nexport class TimelineComponent {\r\n  @Input() public items: TrackingGroup[] = [];\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TimelineComponent } from './timeline.component';\r\nimport { FormatterModule } from '../formatter/formatter.module';\r\n\r\n@NgModule({\r\n  declarations: [TimelineComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormatterModule\r\n  ],\r\n  entryComponents: [TimelineComponent],\r\n  exports: [TimelineComponent]\r\n})\r\n\r\nexport class TimelineModule { }\r\n","import { Component, OnDestroy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { DataService } from '../services/data.service';\r\nimport { ValidationService } from '../validation/validation.service';\r\n\r\n@Component({\r\n  selector: 'katana-chips',\r\n  templateUrl: './chip.component.html',\r\n  styleUrls: ['./chip.component.scss']\r\n})\r\n\r\nexport class ChipComponent implements OnDestroy {\r\n  @Input() public title: string;\r\n  @Input() public model: string[];\r\n  @Input() public placeholder: string = 'Nhp thng tin';\r\n  @Input() public maxItems: number;\r\n  @Input() public disabled: boolean;\r\n  @Input() public validationName: string;\r\n  @Input() public validationScope: string;\r\n  @Input() emitNullOnDestroy: boolean = false;\r\n  @Input() validationService: ValidationService;\r\n  @Output() public modelChange: EventEmitter<string[]> = new EventEmitter();\r\n  @Output() public onAdd: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onRemove: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onBlur: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor(protected dataService: DataService) { }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.emitNullOnDestroy === true)\r\n      this.modelChange.emit([]);\r\n  }\r\n\r\n  public handleBlur($event): void {\r\n    this.onBlur.emit($event);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ChipComponent } from './chip.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TagInputModule } from 'ngx-chips';\r\nimport { ValidationModule } from '../validation/validation.module';\r\n\r\n@NgModule({\r\n  declarations: [ChipComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TagInputModule,\r\n    ValidationModule\r\n  ],\r\n  entryComponents: [ChipComponent],\r\n  exports: [ChipComponent]\r\n})\r\n\r\nexport class ChipModule { }\r\n","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[katana-panel-header]'\r\n})\r\n\r\nexport class PanelHeaderDirective {\r\n    constructor(\r\n        public template: TemplateRef<any>\r\n    ) {}\r\n}","import { Component, ContentChild, Input } from '@angular/core';\r\nimport { trigger, state, style, AUTO_STYLE, transition, animate } from '@angular/animations';\r\nimport { PanelHeaderDirective } from './panel-header.directive';\r\n\r\n@Component({\r\n  selector: 'katana-panel',\r\n  templateUrl: './panel.component.html',\r\n  styleUrls: ['./panel.component.scss'],\r\n  animations: [\r\n    trigger('expand', [\r\n      state('false',\r\n        style({\r\n          overflow: 'hidden',\r\n          height: '0px',\r\n        })\r\n      ),\r\n      state('true',\r\n        style({\r\n          height: AUTO_STYLE,\r\n        })\r\n      ),\r\n      transition('0 <=> 1', [\r\n        animate('300ms ease-in-out')\r\n      ])\r\n    ]),\r\n  ]\r\n})\r\n\r\nexport class PanelComponent {\r\n  @ContentChild(PanelHeaderDirective, { static: true }) public panelHeader: PanelHeaderDirective;\r\n  @Input() public title: string;\r\n  @Input() public icon: string;\r\n  @Input() public includeBorder: boolean = true;\r\n  @Input() public expand: boolean = true;\r\n  @Input() public disabled: boolean;\r\n\r\n  public toggle() {\r\n    this.expand = !this.expand;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PanelComponent } from './panel.component';\r\nimport { PanelHeaderDirective } from './panel-header.directive';\r\n\r\n@NgModule({\r\n  declarations: [PanelComponent, PanelHeaderDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [PanelComponent, PanelHeaderDirective]\r\n})\r\n\r\nexport class PanelModule { }\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[katana-list-item]'\r\n})\r\n\r\nexport class ListItemDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}","import { Component, ContentChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { ListItemDirective } from './list-item.directive';\r\nimport { finalize, take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'katana-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.scss']\r\n})\r\n\r\nexport class ListComponent {\r\n  @ContentChild(ListItemDirective, { static: true }) public listItemTemplate: ListItemDirective;\r\n  @Input() public eventSelect: boolean = true;\r\n  @Input() public model: any[];\r\n  @Input() public direction: 'horizontal' | 'vertical' = 'vertical';\r\n  @Input() public emptyListMessage: string = 'Khng c gi tr no trong danh sch';\r\n  @Input() validationName: string;\r\n  @Input() validationScope: string;\r\n  @Input() public pageSize: number = 10;\r\n  @Input() public searchFunction: Function;\r\n  @Output() public itemSelected: EventEmitter<any> = new EventEmitter();\r\n  public loading: boolean;\r\n  public numberOfItemsFromEndBeforeFetchingMore: number = 3;\r\n  public searchItems: any[] = [];\r\n  public searchText$ = new BehaviorSubject<string>(null);\r\n  private subscriptions: Subscription[] = [];\r\n  private currentPage: number = 0;\r\n  private selectedItems: any[] = [];\r\n\r\n  public isSelected(item: any): boolean {\r\n    if (this.eventSelect) {\r\n      return this.selectedItems.indexOf(item) >= 0;\r\n    }\r\n  }\r\n\r\n  public selectItem(item: any, index: any) {\r\n    if (this.eventSelect) {\r\n      this.model.forEach(s => {\r\n        s.selected = false;\r\n      });\r\n      const indexObj = this.model.find(s => s.id === item.id);\r\n      indexObj.selected = true;\r\n    }\r\n    this.itemSelected.emit(item);\r\n  }\r\n\r\n  public getSelectedItems() {\r\n    return this.selectedItems;\r\n  }\r\n\r\n  public scroll(lastIndex: number) {\r\n    if (this.loading) {\r\n      return;\r\n    }\r\n    if (lastIndex + this.numberOfItemsFromEndBeforeFetchingMore >= this.model.length) {\r\n      this.fetchMore();\r\n    }\r\n  }\r\n\r\n  public fetchMore() {\r\n    this.currentPage++;\r\n    this.loading = true;\r\n    const fetchMoreSubsription = this.searchFunction(this.searchText$.getValue(), 0, this.currentPage, this.pageSize)\r\n      .pipe(take(1), finalize(() => this.loading = false))\r\n      .subscribe((response: any) => {\r\n        this.model = this.model.concat(response.items);\r\n        this.loading = false;\r\n      });\r\n    this.subscriptions.push(fetchMoreSubsription);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ListComponent } from './list.component';\r\nimport { ListItemDirective } from './list-item.directive';\r\n\r\n@NgModule({\r\n  declarations: [ListComponent, ListItemDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [ListComponent, ListItemDirective]\r\n})\r\n\r\nexport class ListModule { }\r\n","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'katana-treeview',\r\n  templateUrl: './treeview.component.html',\r\n  styleUrls: ['./treeview.component.scss']\r\n})\r\n\r\nexport class TreeViewComponent {\r\n  public nodes = [\r\n    {\r\n      id: 1,\r\n      name: 'root1',\r\n      children: [\r\n        { id: 2, name: 'child1' },\r\n        { id: 3, name: 'child2' }\r\n      ]\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'root2',\r\n      children: [\r\n        { id: 5, name: 'child2.1' },\r\n        {\r\n          id: 6,\r\n          name: 'child2.2',\r\n          children: [\r\n            { id: 7, name: 'subsub' }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n  public options = {};\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TreeViewComponent } from './treeview.component';\r\nimport { TreeModule } from 'angular-tree-component';\r\n\r\n@NgModule({\r\n  declarations: [TreeViewComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TreeModule.forRoot()\r\n  ],\r\n  entryComponents: [TreeViewComponent],\r\n  exports: [TreeViewComponent]\r\n})\r\n\r\nexport class TreeViewModule { }\r\n","import { Component, ViewChild, ViewContainerRef, TemplateRef } from \"@angular/core\";\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { AggregatorService } from '../shared/services/aggregator.service';\r\nimport { ButtonDefinition, ToolbarActionPayload } from '../shared/models/base.model';\r\nimport { ToolbarAction } from '../shared/enums/base.enum';\r\nimport { SummaryError } from '../shared/validation/validation.model';\r\nimport { KeyConst } from '../shared';\r\n\r\n@Component({\r\n    selector: 'default-toolbar',\r\n    templateUrl: './toolbar.component.html'\r\n})\r\n\r\nexport class DefaultToolbarComponent {\r\n    @ViewChild('errorContainer', { read: ViewContainerRef, static: true }) public errorContainer: ViewContainerRef;\r\n    @ViewChild('errorTemplate', { static: true }) public errorTemplate: TemplateRef<any>;\r\n\r\n    constructor(\r\n        public layoutService: DefaultLayoutService,\r\n        private _aggregatorService: AggregatorService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._aggregatorService.subscribe(KeyConst.PageChanged, () => {\r\n            if (this.errorContainer) {\r\n                this.errorContainer.clear();\r\n            }\r\n        });\r\n    }\r\n\r\n    public onButtonClicked(loadedCallback: Function, item: ButtonDefinition) {\r\n        let payload = new ToolbarActionPayload({ action: item.action, loadedCallback: loadedCallback });\r\n        if (item.action === ToolbarAction.Save) {\r\n            payload.callback = (errors: SummaryError[]) => {\r\n                this.errorContainer.clear();\r\n                this.errorContainer.createEmbeddedView(this.errorTemplate, { errors: errors });\r\n            };\r\n        }\r\n        this._aggregatorService.publish('ToolbarButtonClicked', payload);\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'floating-toolbar',\r\n  templateUrl: './floating-toolbar.component.html',\r\n  styleUrls: ['./floating-toolbar.component.scss'],\r\n  animations: [\r\n    trigger('show', [\r\n      state('true',\r\n        style({\r\n          bottom: '15px',\r\n        })\r\n      ),\r\n      state('false',\r\n        style({\r\n          bottom: '-100%',\r\n        })\r\n      ),\r\n      transition('0 <=> 1', [\r\n        animate('400ms ease-in-out')\r\n      ])\r\n    ]),\r\n  ]\r\n})\r\n\r\nexport class FloatingToolbarComponent implements OnInit {\r\n  public show: boolean = false;\r\n  public widthProcess: number = 100;\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  clickHide() {\r\n    this.show = false;\r\n  }\r\n}\r\n","import { Input, Component } from '@angular/core';\r\nimport { RecommendationResponse } from '../../shared/models/base.model';\r\nimport { AggregatorService } from '../../shared/services/aggregator.service';\r\nimport { KeyConst } from '../../shared';\r\n\r\n@Component({\r\n    selector: 'katana-recommendation',\r\n    templateUrl: './recommendation.component.html',\r\n    styleUrls: ['./recommendation.component.scss']\r\n})\r\n\r\nexport class RecommendationComponent {\r\n    @Input() public data = new RecommendationResponse({});\r\n\r\n    constructor(public aggregatorService: AggregatorService) { }\r\n\r\n    public close(): void {\r\n        this.data.show = false;\r\n        this.data.keyword = '';\r\n    }\r\n\r\n    public search(all: boolean = false): void {\r\n        this.data.all = all;\r\n        this.data.show = false;\r\n        this.aggregatorService.publish(KeyConst.Search, this.data);\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from \"@angular/core\";\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ClickOutsideModule } from 'ng-click-outside';\r\nimport { AdminLayoutComponent } from './backsite-layout.component';\r\nimport { DefaultBreadcrumbsComponent } from './breadcrumbs.component';\r\nimport { DefaultCustomizerComponent } from './customizer.component';\r\nimport { DefaultFooterComponent } from './footer.component';\r\nimport { DefaultHeaderComponent } from './header.component';\r\nimport { DefaultNavBarComponent } from './navbar.component';\r\nimport { DefaultSidebarComponent } from './sidebar.component';\r\nimport { DefaultToolbarComponent } from './toolbar.component';\r\nimport { FloatingToolbarComponent } from './floating-toolbar.component';\r\nimport { DefaultLayoutService } from './layout.service';\r\nimport { SpinnerModule } from '../shared/spinner/spinner.module';\r\nimport { CardModule } from '../shared/card/card.module';\r\nimport { FormatterModule } from '../shared/formatter/formatter.module';\r\nimport { AccordionModule } from '../shared/accordion/accordion.module';\r\nimport { ButtonModule } from '../shared/button/button.module';\r\nimport { AccordionDirective } from '../shared/accordion/accordion.directive';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AuthModule } from '../auth/auth.module';\r\nimport { LoaderModule } from '../shared/loader/loader.module';\r\nimport { RecommendationComponent } from './recommendation/recommendation.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AdminLayoutComponent,\r\n    DefaultBreadcrumbsComponent,\r\n    DefaultCustomizerComponent,\r\n    DefaultFooterComponent,\r\n    DefaultHeaderComponent,\r\n    DefaultNavBarComponent,\r\n    DefaultSidebarComponent,\r\n    DefaultToolbarComponent,\r\n    FloatingToolbarComponent,\r\n    RecommendationComponent\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    CommonModule,\r\n    RouterModule,\r\n    SpinnerModule,\r\n    CardModule,\r\n    ClickOutsideModule,\r\n    FormatterModule,\r\n    AccordionModule,\r\n    ButtonModule,\r\n    AuthModule,\r\n    LoaderModule\r\n  ],\r\n  exports: [\r\n    AdminLayoutComponent,\r\n    DefaultBreadcrumbsComponent,\r\n    DefaultCustomizerComponent,\r\n    DefaultFooterComponent,\r\n    DefaultHeaderComponent,\r\n    DefaultNavBarComponent,\r\n    DefaultSidebarComponent,\r\n    DefaultToolbarComponent,\r\n    FloatingToolbarComponent,\r\n    RecommendationComponent\r\n  ],\r\n})\r\n\r\nexport class LayoutModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: LayoutModule,\r\n      providers: [\r\n        DefaultLayoutService,\r\n        AccordionDirective\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ValidationModule } from './components/shared/validation/validation.module';\nimport { CModalModule } from './components/shared/modals';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AuthModule } from './components/auth/auth.module';\nimport { AggregatorService } from './components/shared/services/aggregator.service';\nimport { TabModule } from './components/shared/tab/tab.module';\nimport { DatetimePickerModule } from './components/shared/datetime-picker';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { EditorModule } from './components/shared/editor/editor.module';\nimport { ButtonModule } from './components/shared/button/button.module';\nimport { FormModule } from './components/shared/form/form.module';\nimport { DropdownModule } from './components/shared/dropdown/dropdown.module';\nimport { CardModule } from './components/shared/card/card.module';\nimport { AccordionModule } from './components/shared/accordion/accordion.module';\nimport { FormatterModule } from './components/shared/formatter/formatter.module';\nimport { LayoutModule } from './components/layout/layout.module';\nimport { SpinnerModule } from './components/shared/spinner/spinner.module';\nimport { ClickOutsideModule } from 'ng-click-outside';\nimport { CheckboxModule } from './components/shared/checkbox/checkbox.module';\nimport { TextboxModule } from './components/shared/textbox/textbox.module';\nimport { TableModule } from './components/shared/table/table.module';\nimport { FileModule } from './components/shared/file/file.module';\nimport { MediaViewerModule } from './components/shared/media-viewer/media-viewer.module';\nimport { ImageViewerModule } from './components/shared/image-viewer/image-viewer.module';\nimport { ViewerModule } from './components/shared/viewer/viewer.module';\nimport { RadioModule } from './components/shared/radio/radio.module';\nimport { TimelineModule } from './components/shared/timeline/timeline.module';\nimport { ChipModule } from './components/shared/chip/chip.module';\nimport { PanelModule } from './components/shared/panel/panel.module';\nimport { ListModule } from './components/shared/list/list.module';\nimport { TreeViewModule } from './components/shared/treeview/treeview.module';\nimport { IgxExcelExporterService } from \"igniteui-angular\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    TabModule,\n    EditorModule,\n    ButtonModule,\n    CardModule,\n    AccordionModule,\n    FormModule,\n    ClickOutsideModule,\n    SpinnerModule,\n    CardModule,\n    CheckboxModule,\n    TextboxModule,\n    TableModule,\n    FileModule,\n    MediaViewerModule,\n    ImageViewerModule,\n    ViewerModule,\n    RadioModule,\n    TimelineModule,\n    ChipModule,\n    PanelModule,\n    ListModule,\n    TreeViewModule,\n    FormatterModule.forChild(),\n    ValidationModule.forRoot(),\n    CModalModule.forRoot(),\n    AuthModule.forRoot(),\n    DatetimePickerModule.forChild(),\n    LayoutModule.forRoot()\n  ],\n  exports: [\n    AuthModule,\n    TabModule,\n    CModalModule,\n    DatetimePickerModule,\n    EditorModule,\n    FormModule,\n    DropdownModule,\n    SpinnerModule,\n    CardModule,\n    ButtonModule,\n    AccordionModule,\n    CheckboxModule,\n    TextboxModule,\n    TableModule,\n    FileModule,\n    MediaViewerModule,\n    ImageViewerModule,\n    ViewerModule,\n    RadioModule,\n    TimelineModule,\n    ChipModule,\n    PanelModule,\n    ListModule,\n    TreeViewModule\n  ],\n  providers: []\n})\n\nexport class Framework4CModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: Framework4CModule,\n      providers: [\n        AggregatorService,\n        IgxExcelExporterService \n      ]\n    };\n  }\n}\n"]}